(function(t){function e(e){for(var i,n,o=e[0],c=e[1],l=e[2],u=0,m=[];u<o.length;u++)n=o[u],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&m.push(r[n][0]),r[n]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);p&&p(e);while(m.length)m.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],i=!0,o=1;o<a.length;o++){var c=a[o];0!==r[c]&&(i=!1)}i&&(s.splice(e--,1),t=n(n.s=a[0]))}return t}var i={},r={app:0},s=[];function n(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=i,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(a,i,function(e){return t[e]}.bind(null,i));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var p=c;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0260":function(t,e,a){"use strict";var i=a("3ca33"),r=a.n(i);r.a},"0281":function(t,e,a){"use strict";var i=a("af61"),r=a.n(i);r.a},"02f8":function(t,e,a){"use strict";var i=a("61d3"),r=a.n(i);r.a},"0326":function(t,e,a){"use strict";var i=a("79a1"),r=a.n(i);r.a},"0a55":function(t,e,a){"use strict";var i=a("36aa"),r=a.n(i);r.a},"0aa4":function(t,e,a){"use strict";var i=a("bbca"),r=a.n(i);r.a},"11c5":function(t,e,a){},"17e3":function(t,e,a){},"1df3":function(t,e,a){"use strict";var i=a("3faf"),r=a.n(i);r.a},"1e0c":function(t,e,a){},"1f4b":function(t,e,a){"use strict";var i=a("5bfe"),r=a.n(i);r.a},"2a5c":function(t,e,a){"use strict";var i=a("a704"),r=a.n(i);r.a},"2b09":function(t,e,a){"use strict";var i=a("a71e"),r=a.n(i);r.a},"2be9":function(t,e,a){"use strict";var i=a("93c3"),r=a.n(i);r.a},"347c":function(t,e,a){"use strict";var i=a("1e0c"),r=a.n(i);r.a},3493:function(t,e,a){"use strict";var i=a("17e3"),r=a.n(i);r.a},"36aa":function(t,e,a){},"3ca33":function(t,e,a){},"3d76":function(t,e,a){},"3faf":function(t,e,a){},"42d7":function(t,e,a){t.exports=a.p+"img/previewer.7186ec9f.png"},4443:function(t,e,a){"use strict";var i=a("9200"),r=a.n(i);r.a},"453c":function(t,e,a){"use strict";var i=a("4a1e"),r=a.n(i);r.a},"47f6":function(t,e,a){"use strict";var i=a("4eb9"),r=a.n(i);r.a},"4a1e":function(t,e,a){},"4eb9":function(t,e,a){},"508f":function(t,e,a){},"559c":function(t,e,a){"use strict";var i=a("dbf4"),r=a.n(i);r.a},5616:function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("b0c0"),a("e260"),a("e6cf"),a("cca6"),a("a79d");var i=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[t.get_loader?a("loader-index"):t._e(),t.get_usersession.active?a("app-navigator"):t._e(),a("router-view")],1)},s=[],n=a("5530"),o=a("2f62"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-navbar",{staticClass:"main-navbar",attrs:{toggleable:"lg",type:"dark",variant:"default"}},[a("b-navbar-brand",{attrs:{href:"#"}},[a("b-img")],1),a("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),a("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[a("b-navbar-nav",{staticClass:"ml-auto"},[a("b-nav-item",{class:{activenav:1==t.navindex},on:{click:function(e){return t.setnav(1)}}},[a("b-icon",{attrs:{icon:"inbox-fill"}}),t._v(" Dashboard")],1),a("b-nav-item",{class:{activenav:2==t.navindex},on:{click:function(e){return t.setnav(2)}}},[a("b-icon",{attrs:{icon:"inbox-fill"}}),t._v(" Message")],1),a("b-nav-item-dropdown",{staticClass:"owner",attrs:{right:""},scopedSlots:t._u([{key:"button-content",fn:function(){return[a("b-icon",{attrs:{icon:"person-fill"}}),t._v(" "+t._s(t.get_user.name)+" ")]},proxy:!0}])},[a("b-dropdown-item",{on:{click:function(e){return t.setnav(3)}}},[t._v("Settings")]),a("b-dropdown-item",{on:{click:t.logout}},[t._v("Sign Out")])],1)],1)],1)],1)],1)},l=[],p=(a("fb6a"),a("d3b7"),a("25f0"),{name:"router-index",data:function(){return{navindex:"-"}},methods:Object(n["a"])(Object(n["a"])({},Object(o["b"])(["exlogout"])),{},{logout:function(){var t=this;this.exlogout().then((function(e){t.$bvToast.toast(e.message,{title:"Logged Out",variant:200==e.status?"success":"danger",solid:!0}),200==e.status&&t.$router.push({name:"Access"}).catch((function(){}))}))},setnav:function(t){this.navindex!=t&&(this.navindex=t,1==t&&this.$router.push({name:"Dashboard"}),2==t&&this.$router.push({name:"Message"}),3==t&&this.$router.push({name:"Settings"}))}}),computed:Object(n["a"])(Object(n["a"])({},Object(o["c"])(["get_usersession","get_user"])),{},{watchnavlink:function(){return this.$route.path}}),watch:{watchnavlink:function(t){var e=t.slice(1).toString();switch(e){case"dashboard":this.navindex=1;break;case"message":this.navindex=2;break;case"settings":this.navindex=3;break;default:this.navindex="-"}}}}),u=p,m=(a("4443"),a("2877")),d=Object(m["a"])(u,c,l,!1,null,"9950314a",null),f=d.exports,b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("div",{staticClass:"spinner"},[a("b-spinner",{attrs:{label:"Loading..."}}),a("span",[t._v("Application is loading ...")])],1)])},_=[],h={data:function(){return{}}},v=h,g=(a("559c"),Object(m["a"])(v,b,_,!1,null,"0270c924",null)),w=g.exports,y={components:{LoaderIndex:w,AppNavigator:f},data:function(){return{eventcontent:"",showing:!1}},methods:Object(n["a"])({},Object(o["b"])(["exsessiondata"])),computed:Object(n["a"])({},Object(o["c"])(["get_loader","get_usersession"])),watch:{}},C=y,x=(a("5c0b"),Object(m["a"])(C,r,s,!1,null,null,null)),k=x.exports,j=a("9483");Object(j["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});a("45fc");var S=a("8c4f"),$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{attrs:{fluid:"",id:"grant-app"}},[a("div",{staticClass:"login-content"},[a("div",{staticClass:"formsonly"},[a("b-container",{staticClass:"login app_shadow app_bottommargin form-wrapper"},[a("h1",{staticClass:"app-header mb-5"},[t._v("BINUS UNIVERSITY")]),t.showlogin?a("login-app"):a("register-app"),a("p",{staticClass:"app_hint mt-5 "},[t._v(t._s(t.showlogin?"Are you a new user?":"Already have an account ?"))]),a("div",{staticClass:"text-center app-director "},[a("p",{staticClass:"mt-0"},[a("b-icon",{attrs:{icon:"chevron-right",scale:"1",rotate:"90","shift-h":"4",variant:"secondary"}})],1),a("p",{staticClass:"app_shader app_haslink",on:{click:function(e){t.showlogin=!t.showlogin}}},[t._v(t._s(t.checkview()))])])],1)],1),a("b-container",{staticClass:"otherlinks ",attrs:{fluid:""}},[a("b-container",[a("footer-index")],1)],1)],1)])},I=[],L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",[a("div",{staticClass:"accessroute"},[a("button",{staticClass:"btn css-access",class:{cssactive:1==t.access},on:{click:t.setaccess}},[t._v(" Student ")]),a("button",{staticClass:"btn css-access",class:{cssactive:2==t.access},on:{click:t.setaccess}},[t._v(" Staff ")])]),a("div",{},[a("h5",{staticClass:"css-indicator"},[t._v(" "+t._s(1==t.access?"Student":"Staff")+" Login Session ")]),a("b-form",{on:{"~submit":function(e){return e.preventDefault(),t.onLogin(e)}}},[a("b-form-group",{attrs:{id:"input-group-1","label-for":"input-1"}},[a("b-form-input",{class:{error:t.loginerror},attrs:{id:"input-1",type:"email",required:"",placeholder:"Enter Login E-mail"},on:{change:t.formChange},model:{value:t.loginform.email,callback:function(e){t.$set(t.loginform,"email",e)},expression:"loginform.email"}})],1),2==t.access?a("b-form-group",{attrs:{id:"input-group-2","label-for":"input-2"}},[a("b-form-input",{class:{error:t.loginerror},attrs:{id:"input-2",type:"text",required:"",placeholder:"Enter Staff ID"},on:{change:t.formChange},model:{value:t.loginform.sid,callback:function(e){t.$set(t.loginform,"sid",e)},expression:"loginform.sid"}})],1):t._e(),a("b-form-group",{attrs:{id:"input-group-3","label-for":"input-3"}},[a("b-form-input",{class:{error:t.loginerror},attrs:{id:"input-3",type:"password",required:"",placeholder:"Enter Password"},on:{change:t.formChange},model:{value:t.loginform.password,callback:function(e){t.$set(t.loginform,"password",e)},expression:"loginform.password"}})],1),t.loginerror?a("b-form-group",{attrs:{id:"input-group-4","label-for":"input-4"}},[a("small",{staticClass:"errortext"},[t._v(" "+t._s(t.loginerror)+" ")])]):t._e(),a("b-button",{staticClass:"btn btn-block p-3 app_submitbutton",class:{css_disabled:!t.middlewareinput},attrs:{type:"submit",disabled:!t.middlewareinput},on:{click:t.onLogin}},[t._v("Login")])],1),a("router-link",{attrs:{to:"/forgotpassword"}},[a("p",{staticClass:"app_link mt-5"},[t._v("Forgot password? Click here")])])],1)])},O=[],B={components:{},data:function(){return{loginerror:"",middlewareinput:!0,loginform:{email:"",password:"",sid:""},expand:!1,access:1,errorlist:[]}},methods:Object(n["a"])(Object(n["a"])({},Object(o["b"])(["ex_login"])),{},{setaccess:function(t){"student"==t.target.innerText.toLowerCase()?this.access=1:this.access=2},onLogin:function(t){var e=this;t.preventDefault(),this.ex_login(this.loginform).then((function(t){e.$bvToast.toast(200==t.status?"Welcome "+t.data.api_firstname:t.message,{title:"Login",variant:200==t.status?"success":"danger",solid:!0}),200==t.status?e.$router.push({name:"Dashboard"}):e.loginerror=t.message}))},reset:function(){for(var t in this.loginform)this.loginform[t]="";for(var e in this.registerform)this.registerform[e]="";this.access=1,this.access=1},formChange:function(){this.loginerror&&(this.loginerror="")}}),computed:Object(n["a"])({},Object(o["c"])(["get_usersession"])),watch:{}},A=B,P=(a("453c"),Object(m["a"])(A,L,O,!1,null,"48cc0190",null)),E=P.exports,q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-home"},[a("b-container",[a("div",{},[t.successful?[a("success-notify"),a("hr"),a("h3",[t._v(t._s(t.notifyuser))])]:[a("b-form",{staticClass:"form",on:{"~submit":function(e){return e.preventDefault(),t.onRegister(e)}}},[a("b-form-group",{attrs:{id:"input-group-1"}},[a("b-form-input",{class:{error:t.printerros.name},attrs:{id:"input-1",required:"",placeholder:"First name"},on:{change:function(e){return t.watchman("name")}},model:{value:t.registerform.api_firstname,callback:function(e){t.$set(t.registerform,"api_firstname",e)},expression:"registerform.api_firstname"}}),t.printerros.name?a("span",{staticClass:"errortext"},[t._v(" "+t._s(t.printerros.nameerror)+" ")]):t._e()],1),a("b-form-group",{attrs:{id:"input-group-2"}},[a("b-form-input",{class:{error:t.printerros.othernames},attrs:{id:"input-2",required:"",placeholder:"Middle & Last name"},on:{change:function(e){return t.watchman("othernames")}},model:{value:t.registerform.api_othernames,callback:function(e){t.$set(t.registerform,"api_othernames",e)},expression:"registerform.api_othernames"}}),t.printerros.othernames?a("span",{staticClass:"errortext"},[t._v(" "+t._s(t.printerros.othernameserror)+" ")]):t._e()],1),a("b-form-group",{attrs:{id:"input-group-3"}},[a("b-form-input",{class:{error:t.printerros.email},attrs:{id:"input-3",type:"email",required:"",placeholder:"Enter email"},on:{change:function(e){return t.watchman("email")}},model:{value:t.registerform.api_email,callback:function(e){t.$set(t.registerform,"api_email",e)},expression:"registerform.api_email"}}),t.printerros.email?a("span",{staticClass:"errortext"},[t._v(" "+t._s(t.printerros.emailerror)+" ")]):t._e()],1),a("b-form-group",{attrs:{id:"input-group-4"}},[a("b-form-input",{class:{error:t.printerros.nim},attrs:{id:"input-4",required:"",placeholder:"Enter NIM",type:"number"},on:{change:function(e){return t.watchman("nim")}},model:{value:t.registerform.api_nim,callback:function(e){t.$set(t.registerform,"api_nim",e)},expression:"registerform.api_nim"}}),t.printerros.nim?a("span",{staticClass:"errortext"},[t._v(" "+t._s(t.printerros.nimerror)+" ")]):t._e()],1),a("b-form-group",{attrs:{id:"input-group-5"}},[a("b-form-input",{class:{error:t.printerros.contact},attrs:{id:"input-5",required:"",placeholder:"Enter Contact",type:"number"},on:{change:function(e){return t.watchman("contact")}},model:{value:t.registerform.api_contact,callback:function(e){t.$set(t.registerform,"api_contact",e)},expression:"registerform.api_contact"}}),t.printerros.contact?a("span",{staticClass:"errortext"},[t._v(" "+t._s(t.printerros.contacterror)+" ")]):t._e()],1),a("b-form-group",{attrs:{id:"input-group-6"}},[a("b-form-input",{class:{error:t.printerros.password},attrs:{id:"input-6",required:"",placeholder:"Enter password",type:"password"},on:{change:function(e){return t.watchman("password")}},model:{value:t.registerform.api_password,callback:function(e){t.$set(t.registerform,"api_password",e)},expression:"registerform.api_password"}}),t.printerros.password?a("span",{staticClass:"errortext"},[t._v(" "+t._s(t.printerros.passworderror)+" ")]):t._e()],1),a("b-form-group",{attrs:{id:"input-group-7"}},[a("b-form-input",{class:{error:t.printerros.password},attrs:{id:"input-7",required:"",placeholder:"Enter confirm password",type:"password"},on:{change:function(e){return t.watchman("password")}},model:{value:t.registerform.api_cpassword,callback:function(e){t.$set(t.registerform,"api_cpassword",e)},expression:"registerform.api_cpassword"}}),t.printerros.password?a("span",{staticClass:"errortext"},[t._v(" "+t._s(t.printerros.passworderror)+" ")]):t._e()],1),a("b-form-group",{attrs:{id:"input-group-8"}},[a("b-form-select",{class:{error:t.printerros.campus},attrs:{id:"input-8","value-field":"api_id","text-field":"api_name",options:t.campuses,placeholder:"Choose Campus",required:""},on:{change:function(e){return t.watchman("campus")}},model:{value:t.registerform.api_campus,callback:function(e){t.$set(t.registerform,"api_campus",e)},expression:"registerform.api_campus"}}),t.printerros.campus?a("span",{staticClass:"errortext"},[t._v(" "+t._s(t.printerros.campuserror)+" ")]):t._e()],1),a("b-form-group",{attrs:{id:"input-group-9"}},[a("b-form-select",{class:{error:t.printerros.faculty},attrs:{id:"input-9",options:t.filterfaculty,disabled:!t.faculty,"value-field":"api_id","text-field":"api_name",placeholder:"Choose Faculty",required:""},on:{change:function(e){return t.watchman("faculty")}},model:{value:t.registerform.api_faculty,callback:function(e){t.$set(t.registerform,"api_faculty",e)},expression:"registerform.api_faculty"}}),t.printerros.faculty?a("span",{staticClass:"errortext"},[t._v(" "+t._s(t.printerros.facultyerror)+" ")]):t._e()],1),a("b-button",{staticClass:"btn btn-block p-3 app_submitbutton",attrs:{type:"submit",variant:"default"},on:{click:t.onRegister}},[t._v("Register")])],1)]],2)])],1)},D=[],N=(a("4de4"),a("4160"),a("4fad"),a("159b"),a("3835")),U=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},M=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"self"},[i("img",{attrs:{src:a("98fc"),alt:"Successful"}})])}],T={},R=T,z=(a("e09d"),Object(m["a"])(R,U,M,!1,null,"22cf03f3",null)),F=z.exports,J={components:{SuccessNotify:F},data:function(){return{successful:!1,haserror:!1,notifyuser:"",apicampusescollection:[],faculty:[],registerform:{api_firstname:"",api_othernames:"",api_email:"",api_nim:"",api_picture:"",api_password:"",api_contact:"",api_cpassword:"",api_campus:"",api_faculty:""},printerros:{name:!1,othernames:!1,email:!1,contact:!1,faculty:!1,campus:!1,password:!1},errorlist:[],campuses:[]}},methods:Object(n["a"])(Object(n["a"])({},Object(o["b"])({ex_campusfaculties:"store_campuses/ex_campusfaculties",ex_register:"ex_register"})),{},{reset:function(){for(var t in this.registerform)this.registerform[t]=""},onRegister:function(t){var e=this;t.preventDefault(),this.ex_register(this.registerform).then((function(t){e.notifyuser=t.message,e.$bvToast.toast(e.notifyuser,{title:"Sign-up ",variant:200==t.status?"success":"danger",solid:!0}),200==t.status?(e.successful=!0,e.reset()):(e.haserror=!0,e.errorlist=t.data)}))},getfaculty:function(){var t=this;this.campuses.forEach((function(e){t.registerform.api_campus==e.api_id&&(t.faculty=e.api_faculties)}))},geterrors:function(){for(var t=0,e=Object.entries(this.errorlist);t<e.length;t++){var a=Object(N["a"])(e[t],2),i=a[0],r=a[1];switch(i){case"firstname":this.printerros.name=!0,this.printerros.nameerror=r[0];break;case"othernames":this.printerros.othernames=!0,this.printerros.othernameserror=r[0];break;case"email":this.printerros.email=!0,this.printerros.emailerror=r[0];break;case"nim":this.printerros.nim=!0,this.printerros.nimerror=r[0];break;case"campus":this.printerros.campus=!0,this.printerros.campuserror=r[0];break;case"contact":this.printerros.contact=!0,this.printerros.contacterror=r[0];break;case"password":this.printerros.password=!0,this.printerros.passworderror=r[0];break;case"faculty":this.printerros.faculty=!0,this.printerros.facultyerror=r[0];break}}},watchman:function(t){this.printerros[t]&&(this.printerros[t]=!1)}}),computed:{activecampus:function(){return this.registerform.api_campus},filterfaculty:function(){return this.faculty},errorwatcher:function(){return!!this.errorlist&&this.errorlist}},watch:{watchsize:function(){alert("changed")},activecampus:function(){this.getfaculty()},errorwatcher:function(){this.geterrors()},watchform:function(){this.clearcurrent()}},created:function(){var t=this;this.ex_campusfaculties().then((function(e){t.campuses=e.data.filter((function(t){return"admin"!=t.api_name.toLowerCase()}))}))}},G=J,V=(a("0a55"),Object(m["a"])(G,q,D,!1,null,"44de36ae",null)),W=V.exports,Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-footer"},[a("div",{staticClass:"app_containspacer app_20padding"},[a("b-container",{staticClass:"fixed-down",attrs:{fluid:""}},[a("div",{staticClass:"text-center mt-4 app-director"},[a("p",{staticClass:"app_shader accessothers"},[t._v("Access other Binus platforms")]),a("p",{staticClass:"mt-3"},[a("b-icon",{attrs:{icon:"chevron-right",scale:"1",rotate:"90","shift-h":"4",variant:"secondary"}})],1)]),a("b-card-group",{attrs:{deck:""}},t._l(t.links,(function(e){return a("b-card",{key:e.id,staticClass:"app_card",attrs:{"border-variant":"transparent","footer-tag":"footer","footer-bg-variant":"transparent","footer-border-variant":"transparent","bg-variant":"light","text-variant":"secondary",align:"center"},on:{click:function(a){return t.goto(e)}},scopedSlots:t._u([{key:"footer",fn:function(){return[a("em",[t._v(t._s(e.name))])]},proxy:!0}],null,!0)},[a("b-card-text",{staticClass:"text-center"},[a("b-icon",{attrs:{icon:e.icon,variant:"secondary","font-scale":"3"}})],1)],1)})),1)],1),a("div",{staticClass:"spacer"})],1)])},H=[],Q={name:"app-footer",data:function(){return{links:[{id:1,icon:"menu-button-wide",name:"Binus-Maya",url:"https://binusmaya.binus.ac.id/login/"},{id:2,icon:"people",name:"MyClass",url:"https://myclass.apps.binus.ac.id/Auth"},{id:3,icon:"book",name:"E-Library",url:"http://library.binus.ac.id/"},{id:4,icon:"envelope",name:"E-mail",url:"https://outlook.office365.com/mail/inbox"}]}},methods:{goto:function(t){window.open(t.url,"_blank")}},watch:{}},K=Q,X=(a("76b7"),Object(m["a"])(K,Y,H,!1,null,"605d4b0c",null)),Z=X.exports,tt={components:{LoginApp:E,FooterIndex:Z,RegisterApp:W},data:function(){return{showlogin:!0}},methods:{watchmq:function(){var t=window.matchMedia("(max-width: 600px)");t.matches?this.expand=!0:this.expand=!1},watchinput:function(){return!(1==this.loginform.access&&this.loginform.email.length<1||this.loginform.password.length<1)&&!(2==this.loginform.access&&this.loginform.email.length<1||this.loginform.password.length<1||this.loginform.sid.length<1)},checkview:function(){return this.showlogin?"Register here":"Login now"}},computed:{accessfor:function(){return this.access},watchsize:function(){return this.watchmq()},middlewareinput:function(){return this.watchinput()}},watch:{watchsize:function(){alert("changed")},accessfor:function(){this.loginerror=!1,this.errorlist=!1}},created:function(){}},et=tt,at=(a("a959"),Object(m["a"])(et,$,I,!1,null,"54fb6096",null)),it=at.exports,rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("div",{staticClass:"useronly"},[a("b-container",{staticClass:"app_next"},[a("h3",{staticClass:"this-header"},[a("b-iconstack",{attrs:{"font-scale":"1.5"}},[a("b-icon",{attrs:{stacked:"",icon:"circle-fill",variant:"primary"}}),a("b-icon",{attrs:{stacked:"",icon:"person-fill",scale:"0.5",variant:"white"}})],1),t._v(" USER PROFILE ")],1),a("div",{staticClass:"app_containspacer app_20padding app_2border app_bottommargin useronly-wrapper"},[a("b-row",[a("b-col",{attrs:{cols:"6"}},[a("div",{staticClass:"css-user d-flex justify-content-start align-items-start"},[a("b-img",{staticClass:"css-userthumbnail",attrs:{fluid:"",src:t.get_user.picture,rounded:"circle",alt:t.get_user.name}})],1)]),a("b-col",{attrs:{cols:"6"}},[a("b-list-group",[a("b-list-group-item",{staticClass:"d-flex justify-content-end"},[a("div",{staticClass:"d-flex flex-column justify-content-end align-items-end"},[a("p",[t._v("Logged As")]),a("span",{staticClass:"head css_username"},[t._v(t._s(t.get_user.name))])])]),a("b-list-group-item",{staticClass:"d-flex justify-content-end"},[a("div",{staticClass:"d-flex flex-column justify-content-end align-items-end"},[a("p",[t._v("Account Type")]),a("span",{staticClass:"css_usertype"},[t._v(t._s(t.useris(t.therole)))])])])],1)],1)],1)],1)])],1),a("b-container",[a("h3",{staticClass:"this-header"},[a("b-iconstack",{attrs:{"font-scale":"1.5"}},[a("b-icon",{attrs:{stacked:"",icon:"circle-fill",variant:"primary"}}),a("b-icon",{attrs:{stacked:"",icon:"cursor-fill",scale:"0.5",variant:"white"}})],1),t._v(" SERVICES ")],1),a("div",{staticClass:"app_containspacer app_20padding app_2border app_bottommargin"},[a("div",{staticClass:"text-center mb-4"},[a("h4",[t._v("Click to start")]),a("b-icon",{attrs:{icon:"chevron-right",scale:"1",rotate:"90","shift-h":"4",variant:"secondary"}})],1),a("b-container",{staticClass:"fixed-down",attrs:{fluid:""}},[a("b-card-group",{attrs:{deck:""}},[a("b-card",{staticClass:"app_card",attrs:{"border-variant":"transparent","footer-tag":"footer","footer-bg-variant":"transparent","footer-border-variant":"transparent","bg-variant":"light","text-variant":"secondary",align:"center"},on:{click:function(e){return t.actionRoute("GetSearch")}},scopedSlots:t._u([{key:"footer",fn:function(){return[a("em",[t._v(t._s(1==t.therole?"Search":"Manage Items"))])]},proxy:!0}])},[a("b-card-text",{staticClass:"text-center"},[a("b-icon",{attrs:{icon:"search",variant:"secondary","font-scale":"7.5"}})],1)],1),1!=t.therole?a("b-card",{staticClass:"app_card",attrs:{"border-variant":"transparent","footer-tag":"footer","footer-bg-variant":"transparent","footer-border-variant":"transparent","bg-variant":"light","text-variant":"secondary",align:"center"},on:{click:function(e){return t.actionRoute("GetBorrowing")}},scopedSlots:t._u([{key:"footer",fn:function(){return[a("em",[t._v("Manage Borrowings")])]},proxy:!0}],null,!1,1474467392)},[a("b-card-text",{staticClass:"text-center"},[a("b-icon",{attrs:{icon:"collection-fill",variant:"secondary","font-scale":"7.5"}})],1)],1):t._e(),3==t.therole?[a("b-card",{staticClass:"app_card",attrs:{"border-variant":"transparent","footer-tag":"footer","footer-bg-variant":"transparent","footer-border-variant":"transparent","bg-variant":"light","text-variant":"secondary",align:"center"},on:{click:function(e){return t.actionRoute("GetUsers")}},scopedSlots:t._u([{key:"footer",fn:function(){return[a("em",[t._v("Manage Users")])]},proxy:!0}],null,!1,844347268)},[a("b-card-text",{staticClass:"text-center"},[a("b-icon",{attrs:{icon:"person-fill","font-scale":"7.5",variant:"secondary"}})],1)],1),a("b-card",{staticClass:"app_card",attrs:{"border-variant":"transparent","footer-tag":"footer","footer-bg-variant":"transparent","footer-border-variant":"transparent",align:"center","bg-variant":"light","text-variant":"secondary"},on:{click:function(e){return t.actionRoute("GetCampuses")}},scopedSlots:t._u([{key:"footer",fn:function(){return[a("em",[t._v("Manage Campuses")])]},proxy:!0}],null,!1,3019734409)},[a("b-card-text",{staticClass:"text-center"},[a("b-icon",{attrs:{icon:"building","font-scale":"7.5",variant:"secondary"}})],1)],1)]:t._e(),a("b-card",{staticClass:"app_card",attrs:{"border-variant":"transparent","footer-tag":"footer","footer-bg-variant":"transparent","footer-border-variant":"transparent",align:"center","bg-variant":"light","text-variant":"secondary"},on:{click:function(e){return t.actionRoute("GetActiveBorrowings")}},scopedSlots:t._u([{key:"footer",fn:function(){return[a("em",[t._v("My Borrowings")])]},proxy:!0}])},[a("b-card-text",{staticClass:"text-center"},[a("b-icon",{attrs:{icon:"card-checklist",variant:"secondary","font-scale":"7.5"}})],1)],1)],2)],1),a("div",{staticClass:"spacer"})],1),a("h3",{staticClass:"this-header"},[a("b-iconstack",{attrs:{"font-scale":"1.5"}},[a("b-icon",{attrs:{stacked:"",icon:"circle-fill",variant:"primary"}}),a("b-icon",{attrs:{stacked:"",icon:"rss-fill",scale:"0.5",variant:"white"}})],1),t._v(" FEEDS ")],1),a("div",{staticClass:"app_containspacer app_20padding app_2border"},[a("feeds-collection")],1)])],1)},st=[],nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-base"},[t.apifeedscollection.length>0?[a("b-list-group",t._l(t.apifeedscollection,(function(e,i){return a("b-list-group-item",{key:i,staticClass:"flex-column align-items-start feedlist",class:{active:t.activeindex==i},on:{mouseenter:function(e){t.activeindex}}},[a("div",{staticClass:"counter"},[a("b-badge",{attrs:{variant:"primary",pill:""}},[t._v(t._s(i+1))])],1),a("div",{staticClass:"d-flex w-100 justify-content-between",on:{click:function(a){return t.feedcontent(e)}}},[a("b-img",{attrs:{src:e.api_feed.api_thumbnail,fluid:""}}),a("div",[a("div",{staticClass:"d-flex w-100 justify-content-between"},[a("h5",{staticClass:"mb-1",staticStyle:{"text-transform":"capitalize"}},[t._v(t._s(e.api_feed.api_name))]),a("small",[t._v(t._s(e.api_time))])]),a("p",{staticClass:"mb-1 formatlength"},[t._v(" "+t._s(t.getlength(e.api_feed.api_description))+" ")])])],1),3==t.get_user.role?a("div",{staticClass:"xfeed"},[a("div",{staticClass:"mt-3"},[a("b-button-group",{attrs:{size:"sm"}},[a("b-button",{staticClass:"mb-2",attrs:{pill:"",size:"sm",variant:e.api_status?"primary":"secondary"},on:{click:function(a){return t.fn_hide(e)}}},[a("b-icon",{attrs:{icon:e.api_status?"eye-slash":"eye","aria-hidden":"true"}}),t._v(" "+t._s(e.api_status?"Hide":"Unhide")+" ")],1),a("b-button",{staticClass:"mb-2",attrs:{pill:"",size:"sm",variant:"light",disabled:""}}),a("b-button",{staticClass:"mb-2",attrs:{pill:"",size:"sm",variant:"danger"},on:{click:function(a){return t.fn_delete(e)}}},[a("b-icon",{attrs:{icon:"trash","aria-hidden":"true"}}),t._v(" Delte ")],1)],1)],1)]):t._e()])})),1)]:[a("empty-preview")]],2)},ot=[],ct=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},lt=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"empty-preview"},[i("img",{staticClass:"preview-img",attrs:{src:a("42d7"),alt:"",srcset:""}})])}],pt={},ut=pt,mt=(a("0326"),Object(m["a"])(ut,ct,lt,!1,null,"a9c72900",null)),dt=mt.exports,ft={name:"app-feedscollection",components:{EmptyPreview:dt},data:function(){return{activeindex:null,apifeedscollection:[]}},methods:Object(n["a"])(Object(n["a"])({},Object(o["b"])(["ex_getfeeds","ex_feeddelete","ex_feedhide"])),{},{feedcontent:function(t){var e=this.$router.resolve({name:1==t.api_type?"Itemdetails":"MessageContent",params:{propscontent:t.api_feed.api_id}});window.open(e.href,"_blank")},fn_getfeeds:function(){var t=this;this.ex_getfeeds().then((function(e){t.apifeedscollection=e.data}))},fn_delete:function(t){var e=this;this.ex_feeddelete(t.api_id).then((function(t){e.fn_getfeeds(),e.$bvToast.toast(t.message,{title:"Delete Feed",variant:200==t.status?"primary":"danger",solid:!0})}))},fn_hide:function(t){var e=this;this.ex_feedhide(t.api_id).then((function(a){e.fn_getfeeds(),e.$bvToast.toast(a.message,{title:t.api_status?"Hide Feed":"Unhide Feed",variant:200==a.status?"primary":"danger",solid:!0})}))},getlength:function(t){return t&&t.length>200?t.slice(0,196)+"...":t}}),computed:Object(n["a"])({},Object(o["c"])(["get_user"])),created:function(){this.fn_getfeeds()}},bt=ft,_t=(a("d8cd"),Object(m["a"])(bt,nt,ot,!1,null,"f31a5d2a",null)),ht=_t.exports,vt={name:"app-dashboard",components:{FeedsCollection:ht},computed:Object(n["a"])(Object(n["a"])({},Object(o["c"])(["get_usersession","get_user","get_userrole"])),{},{therole:function(){return localStorage.getItem("role")}}),methods:{actionRoute:function(t){this.$router.push({name:t})},useris:function(t){switch(parseInt(t)){case 1:return"Student";case 2:return"Staff";case 3:return"Admin"}}},watch:{}},gt=vt,wt=(a("bde1"),Object(m["a"])(gt,rt,st,!1,null,"c1a0d8ca",null)),yt=wt.exports,Ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-container",[a("div",{staticClass:"itemcontent"},[a("div",{staticClass:"image-wrapper app_rounded app_1border"},[a("b-img",{staticClass:"imagestyle",attrs:{src:t.itemcontent.api_thumbnail,fluid:""}})],1),a("div",{staticClass:"app_topmargin app_rounded app_plain app_padding30 app_1border"},[a("h3",{staticClass:"itemheader"},[t._v(t._s(t.itemcontent.api_name))]),a("p",{staticClass:"owner"},[a("b-icon",{attrs:{icon:"geo-fill"}}),t._v(" "+t._s(t.getfaculty(t.itemcontent))+" ")],1),a("div",{staticClass:"content"},[a("p",[t._v(" "+t._s(t.itemcontent.api_description)+" ")])]),a("b-container",{staticClass:"video-sampler",attrs:{fluid:""}},[a("p",[t._v("SAMPLE USAGE")]),t.itemcontent.api_videos?[a("b-row",t._l(t.itemcontent.api_videos,(function(e){return a("b-col",{key:e.id,staticClass:"listvideos",attrs:{md:"4"}},[a("b-embed",{attrs:{type:"iframe",aspect:"16by9",src:t.videoplayer(e.src),allowfullscreen:""}})],1)})),1)]:[a("empty-content")]],2)],1),a("div",{staticClass:"control app_topmargin"},[t.itemcontent.api_available?t._e():a("p",{},[t._v("Sorry this item is currently unavailable")]),a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-xl",modifiers:{"modal-xl":!0}}],staticClass:"css-themebtn",attrs:{disabled:!t.itemcontent.api_available}},[t._v("Book now")])],1)])]),a("b-modal",{ref:"modal",attrs:{id:"modal-xl",size:"xl",title:t.itemcontent.api_name,"hide-footer":"","no-stacking":""},on:{ok:t.fn_userupdate}},[a("b-row",[a("b-col",{attrs:{cols:"6"}},[a("div",{staticClass:"app_20padding mb-4 text-center"},[a("h1",{staticClass:"previewer-header app_capitalize"},[t._v(t._s(t.itemcontent.api_name))])]),a("b-img",{staticClass:"imagestyle",attrs:{src:t.itemcontent.api_thumbnail,fluid:""}})],1),a("b-col",{attrs:{cols:"6"}},[a("b-form",{on:{submit:t.onSubmit}},[a("b-form-group",{attrs:{id:"input-group-1","label-for":"input-1"}},[a("label",{attrs:{for:"example-datepicker1"}},[t._v("Booking Date")]),a("b-form-datepicker",{staticClass:"mb-2",attrs:{id:"example-datepicker1"},model:{value:t.form.api_borrowdate,callback:function(e){t.$set(t.form,"api_borrowdate",e)},expression:"form.api_borrowdate"}})],1),a("b-form-group",{attrs:{id:"input-group-2","label-for":"input-2"}},[a("label",{attrs:{for:"example-datepicker2"}},[t._v("Return Date")]),a("b-form-datepicker",{staticClass:"mb-2",attrs:{id:"example-datepicker2"},model:{value:t.form.api_returndate,callback:function(e){t.$set(t.form,"api_returndate",e)},expression:"form.api_returndate"}})],1),a("b-form-group",{attrs:{id:"input-group-3",label:"Reason:","label-for":"input-3"}},[a("b-form-textarea",{attrs:{id:"textarea",placeholder:"Why are you borrowing this item?...",rows:"3","max-rows":"6"},model:{value:t.form.api_reason,callback:function(e){t.$set(t.form,"api_reason",e)},expression:"form.api_reason"}})],1),a("div",{staticClass:"text-center"},[a("b-button",{staticClass:"btn  css-themebtn",on:{click:t.processborrow}},[t._v("Book now")])],1)],1)],1)],1)],1),t.granted?a("b-modal",{attrs:{size:"xl",title:t.confirmedheader,"hide-footer":"","no-stacking":""},on:{ok:t.fn_userupdate},model:{value:t.granted,callback:function(e){t.granted=e},expression:"granted"}},[t.isconfirmed?[a("div",{staticClass:"app_20padding text-center mb-4"},[a("h1",{staticClass:"app_shader"},[t._v("BORROWING COMPLETED")])]),a("b-row",[a("b-col",{attrs:{md:"6"}},[t.isconfirmed.api_id?a("qrcode",{attrs:{value:t.isconfirmed.api_id,options:{width:400}}}):t._e()],1),a("b-col",{},[a("h3",[t._v("Borrowing Reference")]),a("h1",[t._v(t._s(t.isconfirmed.api_id))]),a("div",{staticClass:"app_topmargin"},[a("b-list-group",[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[t._v(" Borrow Date "),a("span",[t._v(t._s(t.isconfirmed.api_borrowdate))])]),a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[t._v(" Return Date "),a("span",[t._v(t._s(t.isconfirmed.api_returndate)+" ")])])],1)],1)])],1),a("hr"),a("div",{staticClass:"app_20padding mb-4"},[a("h5",{staticClass:"app_shader"},[t._v("Item Information")])]),a("b-row",[a("b-col",{attrs:{md:"4"}},[a("b-img",{staticClass:"app_rounded",attrs:{fluid:"",src:t.isconfirmed.api_item.api_thumbnail,alt:t.isconfirmed.api_item.api_name}})],1),a("b-col",{attrs:{md:"8"}},[a("b-list-group",[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("span",[t._v("Item Name")]),a("span",{staticClass:"app_capitalize"},[t._v(t._s(t.isconfirmed.api_item.api_name))])]),a("b-list-group-item",{staticClass:"justify-content-start align-items-start"},[t._v(" Description "),a("p",{staticClass:"mt-2"},[t._v(t._s(t.isconfirmed.api_item.api_description))])]),a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[t._v(" Campus & Faculty "),a("span",[t._v(t._s(t.isconfirmed.api_item.api_faculty))])])],1)],1)],1),a("hr"),a("div",{staticClass:"app_20padding mb-4"},[a("h5",{staticClass:"app_shader"},[t._v("Borrower Information")])]),a("b-row",[a("b-col",{attrs:{md:"4"}},[a("b-img",{staticClass:"app_rounded",attrs:{fluid:"",src:t.isconfirmed.api_borrower.api_picture,alt:t.isconfirmed.api_borrower.api_name}})],1),a("b-col",{attrs:{md:"8"}},[a("b-list-group",[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[t._v(" ID "),a("span",[t._v(t._s(t.isconfirmed.api_borrower.api_identity))])]),a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("span",[t._v("Name")]),a("span",{staticClass:"app_capitalize"},[t._v(t._s(t.isconfirmed.api_borrower.api_firstname)+" "+t._s(t.isconfirmed.api_borrower.api_othernames))])]),a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[t._v(" E-mail "),a("span",[t._v(t._s(t.isconfirmed.api_borrower.api_email))])]),a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[t._v(" "+t._s(t.isconfirmed.api_borrower.api_useris?"Staff ID":"NIM")+" "),a("span",[t._v(t._s(t.isconfirmed.api_borrower.api_identity))])]),a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[t._v(" Phone "),a("span",[t._v(t._s(t.isconfirmed.api_borrower.api_contact))])]),a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[t._v(" Campus & Faculty "),a("span",[t._v(t._s(t.isconfirmed.api_borrower.api_faculty))])])],1)],1)],1)]:[t._v(" "+t._s(t.notconfirmed)+" ")]],2):t._e(),t._v(" --\x3e ")],1)},xt=[],kt=(a("99af"),{components:{},name:"item-details",props:["propscontent"],comments:{},data:function(){return{unavailable:!1,granted:!1,itemdata:{},isconfirmed:{api_profile:"",api_campus:null},notconfirmed:"",form:{api_item:this.propscontent,api_borrowdate:"",api_returndate:"",api_reason:"",api_borrower:"self"},slide:0,sliding:null,itemcontent:{},fields:["photo","name","description","actions"],activeservice:1,variant:"dark"}},methods:Object(n["a"])(Object(n["a"])({},Object(o["b"])({apigetitem:"store_items/apigetitem",apiborrow:"store_borrowings/apiborrow"})),{},{tobook:function(){this.$router.push({name:"Booking",params:{propscontent:this.propscontent}})},onSlideStart:function(t){var e={};e["a"]=t,delete e["a"],this.sliding=!0},onSlideEnd:function(t){var e={};e["a"]=t,delete e["a"],this.sliding=!1},finalaction:function(){},getitem:function(){var t=this;this.apigetitem(this.propscontent).then((function(e){status||(t.unavailable=!0),t.itemcontent=e.data}))},onSubmit:function(){},getfaculty:function(t){return"".concat(t.api_campus.api_name,", ").concat(t.api_faculty.api_name)},processborrow:function(t){var e=this;t.preventDefault(),this.apiborrow(this.form).then((function(t){return e.$bvToast.toast(t.message,{title:"Borrowing",variant:200==t.status?"success":"danger",solid:!0}),200!=t.status&&202!=t.status||(e.granted=!0,e.isconfirmed=t.data,e.$nextTick((function(){e.$bvModal.hide("modal-xl")}))),e.notconfirmed=t.message}))},fn_userupdate:function(t){var e=this;t.preventDefault(),this.$nextTick((function(){e.$bvModal.hide("modal-multi-2")}))},videoplayer:function(t){return"https://www.youtube.com/embed/"+t}}),computed:Object(n["a"])(Object(n["a"])({},Object(o["c"])(["get_usersession"])),{},{confirmedheader:function(){return this.isconfirmed?"Successful":"Error"}}),created:function(){this.getitem()}}),jt=kt,St=(a("853f"),Object(m["a"])(jt,Ct,xt,!1,null,"32d8112e",null)),$t=St.exports,It=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"parent"},[a("b-container",[a("b-row",[a("b-col",{attrs:{cols:"4"}},[a("b-carousel",{staticStyle:{"text-shadow":"1px 1px 2px #333"},attrs:{id:"carousel-1",interval:4e3,controls:"",indicators:"",background:"#ababab","img-width":"1024","img-height":"480"},on:{"sliding-start":t.onSlideStart,"sliding-end":t.onSlideEnd},model:{value:t.slide,callback:function(e){t.slide=e},expression:"slide"}},[a("b-carousel-slide",{scopedSlots:t._u([{key:"img",fn:function(){return[a("img",{staticClass:"d-block img-fluid w-100",attrs:{width:"1024",height:"480",src:t.item.thumbnail,alt:"image slot"}})]},proxy:!0}])})],1)],1),a("b-col",{attrs:{cols:"8"}},[a("h3",[t._v(t._s(t.item.name))]),a("b-form",{on:{submit:t.onSubmit}},[a("b-form-group",{attrs:{id:"input-group-1","label-for":"input-1"}},[a("label",{attrs:{for:"example-datepicker"}},[t._v("Booking Date")]),a("b-form-datepicker",{staticClass:"mb-2",attrs:{id:"example-datepicker"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1),a("b-form-group",{attrs:{id:"input-group-2","label-for":"input-2"}},[a("label",{attrs:{for:"example-datepicker2"}},[t._v("Return Date")]),a("b-form-datepicker",{staticClass:"mb-2",attrs:{id:"example-datepicker2"},model:{value:t.form.returndate,callback:function(e){t.$set(t.form,"returndate",e)},expression:"form.returndate"}})],1),a("b-form-group",{attrs:{id:"input-group-3",label:"Reason:","label-for":"input-3"}},[a("b-form-textarea",{attrs:{id:"textarea",placeholder:"Why are you booking this item?...",rows:"3","max-rows":"6"},model:{value:t.form.return,callback:function(e){t.$set(t.form,"return",e)},expression:"form.return"}})],1),a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-multi-2",modifiers:{"modal-multi-2":!0}}],staticClass:"btn btn-block css-themebtn"},[t._v("Book now")])],1)],1)],1)],1)],1)])},Lt=[],Ot={name:"booking-profile",props:["item"],data:function(){return{value:"",form:{rentdate:"",returndate:"",reason:""},slide:0,sliding:null,itemcontent:[],fields:["photo","name","description","actions"],items:[{id:191010,thumbnail:"https://il.farnell.com/productimages/large/en_GB/GEA000066-40.jpg",name:"Rashberry Pi",description:"Arduino"},{id:191011,thumbnail:"https://azcd.harveynorman.com.au/media/catalog/product/v/b/vbk550xa.jpg",name:"Flash drive",description:"Camera"},{id:191012,thumbnail:"https://images-na.ssl-images-amazon.com/images/I/61i79kEn8nL._AC_SL1500_.jpg",name:"Desktop",description:"Ac Cable"},{id:191013,thumbnail:"https://cdn-reichelt.de/bilder/web/xxl_ws/A300/RPI-4B_BUNDLE.png",name:"Remote",description:"Raspberry"}],activeservice:1,variant:"dark"}},methods:{onSlideStart:function(t){console.log(t),this.sliding=!0},onSlideEnd:function(t){console.log(t),this.sliding=!1},prepareitem:function(){var t=this,e=this.items.filter((function(e){return e.id==t.item}));this.itemcontent=e},finalaction:function(){this.$bvModal.msgBoxOk("Booking Successful").then((function(t){alert(t)}))},onDecode:function(t){console.log(t)},onSubmit:function(){}},created:function(){this.prepareitem()}},Bt=Ot,At=(a("347c"),Object(m["a"])(Bt,It,Lt,!1,null,"71a70258",null)),Pt=At.exports,Et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{attrs:{fluid:""}},[a("div",{staticClass:"main-wrapper"},[a("b-container",[a("div",{staticClass:"message-body"},[a("div",{staticClass:"message-center"},[a("h5",{staticClass:"css-indicator"},[a("b-icon",{attrs:{icon:"envelope"}}),t._v("Messages ")],1)]),a("div",{staticClass:"message-wrapper"},[t.messagecollection.length>0?[a("b-list-group",t._l(t.messagecollection,(function(e){return a("b-list-group-item",{key:e.api_id,staticClass:"d-flex justify-content-between align-items-start",on:{click:function(a){return t.getthread(e)}}},[a("div",{staticClass:"css-messagecontent"},[a("h5",[t._v("Subject : "+t._s(e.api_subject))]),a("p",[t._v(" "+t._s(e.api_message[e.api_message.length-1].content)+" ")])]),a("div",{staticClass:"css-messagestatus"},[a("b-iconstack",{attrs:{"font-scale":"2"}},[a("b-icon",{attrs:{stacked:"",icon:"circle-fill",variant:"light"}}),a("b-icon",{attrs:{stacked:"",icon:t.messagestatus(e.api_message)?"envelope-open":"envelope-fill",scale:"0.5",variant:"secondary"}})],1)],1)])})),1)]:[a("div",{staticClass:"no-message"},[t._v("YOU HAVE NO MESSAGE!")])]],2)])])],1)])},qt=[],Dt={name:"app-message",data:function(){return{mainProps:{width:30,height:30,class:"m1"},messagecollection:[],fields:["no","sender","subject","status"]}},methods:Object(n["a"])(Object(n["a"])({},Object(o["b"])(["apimessage"])),{},{getmessages:function(){var t=this;this.apimessage().then((function(e){t.messagecollection=e.data}))},messagestatus:function(t){var e=!1;return t.forEach((function(t){1===t.read&&(e=!0)})),e},getthread:function(t){this.$router.push({name:"MessageContent",params:{propscontent:t.api_id}})}}),computed:Object(n["a"])({},Object(o["c"])(["get_user"])),created:function(){this.getmessages()}},Nt=Dt,Ut=(a("6285"),Object(m["a"])(Nt,Et,qt,!1,null,"0b188d01",null)),Mt=Ut.exports,Tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{attrs:{fluid:""}},[a("div",{staticClass:"main-wrapper"},[a("b-container",[a("h5",{staticClass:"css-indicator",on:{click:t.navback}},[a("b-icon",{attrs:{icon:"chevron-left"}}),t._v("Messages ")],1),a("div",{staticClass:"message-wrapper app_2border"},t._l(t.messagecontent,(function(e){return a("div",{key:e.api_id,staticClass:"sender"},[a("b-img",t._b({attrs:{rounded:"circle",src:e.api_sender.profile,alt:"Circle image"}},"b-img",t.mainProps,!1)),a("div",{staticClass:"mt-3"},[a("p",{staticClass:"who"},[t._v(t._s(e.api_sender.user==t.get_user.userid?"Recipient":"Sender")+" : "+t._s(e.api_sender.user==t.get_user.userid?t.upperIt(e.api_recipient.name):t.upperIt(e.api_sender.name)))]),a("p",{staticClass:"mt-3"},[t._v("Subject : Booking ID - "+t._s(e.api_subject))])]),a("b-list-group",t._l(e.api_message,(function(i,r){return a("b-list-group-item",{key:r,class:{activethread:t.showindex==r+1}},[a("div",{staticClass:"figures",on:{click:function(e){return t.showcontent(r+1)}}},[a("span",{staticClass:"header"},[t._v(" "+t._s(t.subject(e.api_subject,r+1))+" "+t._s(e.api_subject))]),a("b-img",t._b({attrs:{rounded:"circle",src:e.api_sender.profile,alt:"Circle image"}},"b-img",t.thumbnail,!1))],1),a("div",{staticClass:"threadcontent",class:{showthread:t.showindex==r+1}},[t._v(" "+t._s(i.content)+" "),t.reply?a("div",{staticClass:"replypane app_2border"},[a("b-form-textarea",{attrs:{id:"textarea-auto-height",placeholder:"Message center",rows:"3","max-rows":"8",disabled:1==e.api_close},model:{value:t.form.message,callback:function(e){t.$set(t.form,"message",e)},expression:"form.message"}})],1):t._e()])])})),1),a("div",{staticClass:"mt-5"},[t.reply?[a("div",{staticClass:"control"},[a("b-button",{attrs:{variant:"danger"},on:{click:t.replycontext}},[t._v("Cancel")]),a("b-button",{on:{click:t.sendmessage}},[t._v("Send Message")])],1)]:[a("div",{staticClass:"control"},[a("b-button",{staticClass:"outline-success",class:{css_disabled:1==e.api_close},attrs:{disabled:1==e.api_close},on:{click:function(e){t.reply=!0}}},[t._v(t._s(1==e.api_close?"Closed":"Reply"))]),1!=t.get_user.role?a("b-button",{staticClass:"close-thread",attrs:{variant:1==e.api_close?"outline-secondary":"danger",disabled:1==e.api_close&&3!=t.get_user.role},on:{click:t.closethread}},[t._v(t._s(t.messagestatus(e)))]):t._e()],1)]],2)],1)})),0)])],1)])},Rt=[],zt=(a("38cf"),{name:"app-message",props:["propscontent"],data:function(){return{showindex:0,allindex:0,reply:!1,mainProps:{width:50,height:50,class:"m1"},thumbnail:{width:20,height:20,class:"m1"},messagecontent:[],fields:["no","sender","subject","status"],form:{message:"",email:""}}},methods:Object(n["a"])(Object(n["a"])({},Object(o["b"])(["apiamessage","apisendmessage","ex_closethread"])),{},{getmessages:function(){var t=this;this.apiamessage(this.propscontent).then((function(e){t.messagecontent=e.data,t.getindex()}))},navback:function(){this.$router.push({name:"Message"})},getindex:function(){var t=0;this.messagecontent.forEach((function(e){e.api_message.forEach((function(){t+=1}))})),this.showindex=t,this.allindex=t},showcontent:function(t){this.showindex=t},replycontext:function(){this.showindex=this.allindex,this.reply=!1},subject:function(t,e){return"Re:".repeat(e)+t},sendmessage:function(){var t=this;this.propscontent&&(this.form.email=this.propscontent,this.apisendmessage(this.form).then((function(e){console.log(e),e.status&&t.$bvToast.toast("Message successfully sent",{title:"Message",variant:"success",solid:!0})})),this.clear(),this.getmessages())},closethread:function(){var t=this;this.ex_closethread({thread:this.propscontent}).then((function(e){e.status&&(t.$bvToast.toast(e.message,{title:"Message",variant:200==e.status?"success":"danger",solid:!0}),t.getmessages())}))},messagestatus:function(t){var e;switch(this.get_user.role){case 2:e=1==t.api_close?"Closed":"Close Conversation";break;case 3:e=1==t.api_close?"Open Again?":"Close Conversation";break;default:e="Closed Conversation";break}return e},clear:function(){this.form.message="",this.form.email="",this.reply=!1},upperIt:function(t){return t[0].toUpperCase()+t.substring(1)}}),computed:Object(n["a"])({},Object(o["c"])(["get_user"])),created:function(){this.getmessages()}}),Ft=zt,Jt=(a("2a5c"),Object(m["a"])(Ft,Tt,Rt,!1,null,"46e8f1dc",null)),Gt=Jt.exports,Vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{attrs:{fluid:""}},[a("div",{staticClass:"main-wrapper"},[a("b-container",[a("h5",{staticClass:"css-indicator"},[a("b-icon",{attrs:{icon:"gear-fill"}}),t._v("Settings ")],1),a("div",{staticClass:"message-wrapper"},[a("b-card-group",{attrs:{deck:""}},[a("b-card",{staticClass:"app_card",attrs:{"border-variant":"transparent","footer-tag":"footer","footer-bg-variant":"transparent","footer-border-variant":"transparent","bg-variant":"light","text-variant":"secondary",align:"center"},on:{click:function(e){return t.getSettings(1)}},scopedSlots:t._u([{key:"footer",fn:function(){return[a("em",[t._v("Profile Picture")])]},proxy:!0}])},[a("b-card-text",{staticClass:"text-center"},[a("b-icon",{attrs:{icon:"card-image",variant:"secondary","font-scale":"7.5"}})],1)],1),a("b-card",{staticClass:"app_card",attrs:{"border-variant":"transparent","footer-tag":"footer","footer-bg-variant":"transparent","footer-border-variant":"transparent","bg-variant":"light","text-variant":"secondary",align:"center"},on:{click:function(e){return t.getSettings(2)}},scopedSlots:t._u([{key:"footer",fn:function(){return[a("em",[t._v("Profile Details")])]},proxy:!0}])},[a("b-card-text",{staticClass:"text-center"},[a("b-icon",{attrs:{icon:"person-fill",variant:"secondary","font-scale":"7.5"}})],1)],1),a("b-card",{staticClass:"app_card",attrs:{"border-variant":"transparent","footer-tag":"footer","footer-bg-variant":"transparent","footer-border-variant":"transparent","bg-variant":"light","text-variant":"secondary",align:"center"},on:{click:function(e){return t.getSettings(3)}},scopedSlots:t._u([{key:"footer",fn:function(){return[a("em",[t._v("Password")])]},proxy:!0}])},[a("b-card-text",{staticClass:"text-center"},[a("b-icon",{attrs:{icon:"three-dots","font-scale":"7.5",variant:"secondary"}})],1)],1)],1)],1),a("div",{staticClass:"erase"},[a("div",{staticClass:"errasemessage"},[a("p",[t._v(" You can only delete your account if you do not have the following: ")]),a("ul",[a("li",[t._v("Active borrowed item(s)")])]),a("b-form-checkbox",{attrs:{id:"checkbox-1",name:"checkbox-1",value:"1","unchecked-value":"0"},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}},[t._v(" I do not have any active borrowed item(s) ")])],1),a("b-button",{staticClass:"btn btn-danger css-delbtn app_button app_topmargin",attrs:{disabled:1!=t.status},on:{click:function(e){return t.getSettings(4)}}},[t._v("Delete Account")])],1)])],1)])},Wt=[],Yt={name:"app-message",data:function(){return{notify:!1,status:"0",busy:!1}},methods:{getSettings:function(t){1==t&&this.$router.push({name:"SettingsPicture"}),2==t&&this.$router.push({name:"SettingsProfile"}),3==t&&this.$router.push({name:"SettingsPassword"}),4==t&&this.$router.push({name:"SettingsAccount"})},selfnotify:function(){var t=this;setTimeout((function(){t.notify=!0}),3e3),this.notify=!1}},computed:Object(n["a"])({},Object(o["c"])(["get_session","get_usersession"])),created:function(){this.selfnotify()}},Ht=Yt,Qt=(a("1df3"),Object(m["a"])(Ht,Vt,Wt,!1,null,"0b1dfea6",null)),Kt=Qt.exports,Xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{attrs:{fluid:""}},[a("div",{staticClass:"app_main_wrapper"},[a("b-container",[a("div",{staticClass:"currenSection"},[a("h5",{staticClass:"css-indicator-nav",staticStyle:{"padding-left":"20px","padding-right":"40px"},on:{click:t.navback}},[a("b-icon",{attrs:{icon:"chevron-left"}}),t._v("Back ")],1),a("h5",{staticClass:"css-indicator-active"},[t._v("Profile Settings")])]),a("div",{staticClass:"form-parent app_rounded app_topmargin"},[t.complete?[a("success-notification"),a("hr"),a("h3",[t._v(t._s(t.notifyuser))])]:[a("h3",{staticClass:"app_pageheader app_20padding app_bottommargin"},[a("b-icon",{attrs:{icon:"person-fill","aria-hidden":"true"}}),t._v(" User Info Setting ")],1),a("b-form",{on:{"~submit":function(e){return e.preventDefault(),t.onSubmit(e)}}},[a("b-form-group",{attrs:{id:"input-group-1","label-for":"input-1"}},[a("b-form-input",{class:{error:t.printerros.firstname},attrs:{id:"input-1",type:"text",required:"",placeholder:"First name"},on:{change:function(e){return t.clearerror("firstname")}},model:{value:t.form.api_firstname,callback:function(e){t.$set(t.form,"api_firstname",e)},expression:"form.api_firstname"}})],1),a("b-form-group",{attrs:{id:"input-group-2","label-for":"input-2"}},[a("b-form-input",{class:{error:t.printerros.othernames},attrs:{id:"input-2",placeholder:"Othernames"},on:{change:function(e){return t.clearerror("othernames")}},model:{value:t.form.api_othernames,callback:function(e){t.$set(t.form,"api_othernames",e)},expression:"form.api_othernames"}})],1),a("b-form-group",{attrs:{id:"input-group-3","label-for":"input-3"}},[a("b-form-input",{class:{error:t.printerros.email},attrs:{id:"input-3",required:"",placeholder:"Email"},on:{change:function(e){return t.clearerror("email")}},model:{value:t.form.api_email,callback:function(e){t.$set(t.form,"api_email",e)},expression:"form.api_email"}})],1),a("b-form-group",{attrs:{id:"input-group-4","label-for":"input-4"}},[a("b-form-input",{class:{error:t.printerros.contact},attrs:{id:"input-3",required:"",placeholder:"Contact"},on:{change:function(e){return t.clearerror("contact")}},model:{value:t.form.api_contact,callback:function(e){t.$set(t.form,"api_contact",e)},expression:"form.api_contact"}})],1),t.printerros?a("b-form-group",{attrs:{id:"input-group-5","label-for":"input-5"}},[t.haserror?a("b-list-group",t._l(t.errorlist,(function(e,i){return a("b-list-group-item",{key:i,staticClass:"app_roundedlist app_notifyerror d-flex justify-content-start align-items-center"},[a("b-badge",{attrs:{variant:"danger",pill:""}},[t._v(t._s(i))]),a("span",{staticClass:"app_listchildright"},[t._v(t._s(e[0]))])],1)})),1):t._e()],1):t._e(),a("b-button",{staticClass:"app_button app_topmargin",attrs:{type:"submit",variant:"primary"},on:{click:t.onSubmit}},[t._v("Update Profile")])],1)]],2)])],1)])},Zt=[],te={name:"app-message",components:{SuccessNotification:F},data:function(){return{complete:!1,status:"0",haserror:!1,userhas:0,notifyuser:"",password:"",backup:{},printerros:{firstname:!1,email:!1,contact:!1,othernames:!1},errorlist:[],faculties:[],form:{},tempinput:""}},methods:Object(n["a"])(Object(n["a"])({},Object(o["b"])({ex_campusfaculties:"store_campuses/ex_campusfaculties",exdelete:"exdelete",ex_profile:"ex_profile",ex_apiprofileupdate:"ex_apiprofileupdate",ex_updatecurrentname:"ex_updatecurrentname"})),{},{navback:function(){this.$router.push({name:"Settings"})},close:function(){this.exdelete()},onSubmit:function(t){var e=this;t.preventDefault(),this.form["api_id"]=0,this.ex_apiprofileupdate(this.form).then((function(t){e.$bvToast.toast(t.message,{title:"Profile Settings",variant:200==t.status?"success":"danger",solid:!0}),200==t.status?(e.ex_updatecurrentname(t.data),e.complete=!0,e.notifyuser=t.message,e.reset()):(e.errorlist=t.data,e.haserror=!0)}))},reset:function(){this.errorlist=[],this.haserror=!1},getusers:function(){var t=this;this.ex_profile().then((function(e){t.form=e.data,delete t.form.api_faculty,t.backup=JSON.parse(JSON.stringify(t.form));for(var a=0,i=Object.entries(t.form);a<i.length;a++){var r=Object(N["a"])(i[a],1),s=r[0];if("api_nim"==s)break;"api_staffid"==s&&(t.userhas=1,t.tempinput=e.data.api_staffid)}}))},clearerror:function(t){this.printerros[t]=!1,delete this.errorlist[t]},geterrors:function(){for(var t=0,e=Object.entries(this.errorlist);t<e.length;t++){var a=Object(N["a"])(e[t],2),i=a[0],r=a[1];switch(i){case"firstname":this.printerros.firstname=!0,this.printerros.firstnameerror=r[0];break;case"othernames":this.printerros.othernames=!0,this.printerros.othernameserror=r[0];break;case"email":this.printerros.email=!0,this.printerros.emailerror=r[0];break;case"contact":this.printerros.contact=!0,this.printerros.contacterror=r[0];break}}}}),computed:{formChanged:function(){for(var t=0,e=0,a=Object.entries(this.backup);e<a.length;e++){var i=Object(N["a"])(a[e],2),r=i[0],s=i[1];this.form[r]==s&&(t+=1)}return 5==t},errorwatcher:function(){return this.errorlist}},watch:{errorwatcher:function(){this.geterrors()}},created:function(){this.getusers()}},ee=te,ae=(a("dbfd"),Object(m["a"])(ee,Xt,Zt,!1,null,"eb661cb4",null)),ie=ae.exports,re=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{attrs:{fluid:""}},[a("div",{staticClass:"app_main_wrapper"},[a("b-container",[a("div",{staticClass:"currenSection"},[a("h5",{staticClass:"css-indicator-nav",staticStyle:{"padding-left":"20px","padding-right":"40px"},on:{click:t.navback}},[a("b-icon",{attrs:{icon:"chevron-left"}}),t._v("Back ")],1),a("h5",{staticClass:"css-indicator-active"},[t._v("Profile Settings")])]),a("div",{staticClass:"form-parent app_rounded app_topmargin"},[t.complete?[a("success-notification"),a("hr"),a("h3",[t._v(t._s(t.notifyuser))])]:[a("h3",{staticClass:"app_pageheader app_20padding app_bottommargin"},[a("b-icon",{attrs:{icon:"image-fill","aria-hidden":"true"}}),t._v(" Profile Picture Setting ")],1),a("div",{staticClass:"this-center"},[a("b-card",{staticClass:"mb-2",staticStyle:{"max-width":"30rem"},attrs:{"img-top":"",tag:"article","bg-variant":"white",align:"center","header-border-variant":"danger"}},[a("b-card-text",[t.imagepreviewer?a("div",{staticClass:"mb-6",attrs:{id:"preview"}},[a("b-img",{attrs:{fluid:"",height:"500",src:t.imagepreviewer,alt:t.user.api_name,rounded:"circle"}}),a("b-icon",{staticClass:"app_closefix",attrs:{"font-scale":"2",icon:"x-circle-fill",variant:"danger"},on:{click:t.clearPicture}}),a("hr")],1):a("b-img",{attrs:{src:t.user.api_picture,fluid:"",height:"200",alt:t.user.api_firstname}})],1)],1)],1),a("b-form",{attrs:{enctype:"multipart/form-data"},on:{submit:t.onSubmit}},[a("b-form-group",{attrs:{id:"input-group-0"}},[a("b-input-group",[a("b-input-group-prepend",{attrs:{"is-text":""}},[a("b-icon",{attrs:{icon:"image-fill"}})],1),a("b-form-file",{attrs:{id:"form-image",placeholder:"Choose a file or drop it here...","drop-placeholder":"Drop file here...",accept:"image/*"},on:{change:t.uploadImage},model:{value:t.upload_picture,callback:function(e){t.upload_picture=e},expression:"upload_picture"}})],1)],1),t.printerros?a("b-form-group",{attrs:{id:"input-group-5","label-for":"input-5"}},[t.haserror?a("b-list-group",t._l(t.errorlist,(function(e,i){return a("b-list-group-item",{key:i,staticClass:"app_roundedlist app_notifyerror d-flex justify-content-start align-items-center"},[a("b-badge",{attrs:{variant:"danger",pill:""}},[t._v(t._s(i))]),a("span",{staticClass:"app_listchildright"},[t._v(t._s(e[0]))])],1)})),1):t._e()],1):t._e(),a("b-button",{staticClass:"app_button app_topmargin",attrs:{type:"submit",disabled:!t.formChanged,variant:"primary"}},[t._v("Upload Picture")])],1)]],2)])],1)])},se=[],ne=(a("3ca3"),a("ddb0"),a("2b3d"),{name:"app-message",components:{SuccessNotification:F},data:function(){return{complete:!1,status:"0",haserror:!1,notifyuser:"",printerros:{firstname:!1,email:!1,contact:!1,othernames:!1},errorlist:[],user:{},setnewpicture:[],file:"",imagepreviewer:"",upload_picture:[]}},methods:Object(n["a"])(Object(n["a"])({},Object(o["b"])({exdelete:"exdelete",ex_profile:"ex_profile",ex_imaging:"ex_imaging",ex_updatecurrentpicture:"ex_updatecurrentpicture"})),{},{navback:function(){this.$router.push({name:"Settings"})},uploadImage:function(t){var e=t.target.files[0];this.file=t.target.files[0],this.imagepreviewer=URL.createObjectURL(e),URL.revokeObjectURL(e)},onChange:function(t){this.file=t.target.files[0]},clearPicture:function(){this.file=[],this.imagepreviewer=""},close:function(){this.exdelete()},onSubmit:function(t){var e=this;t.preventDefault();var a=new FormData;a.append("api_setprofile",this.file),this.ex_imaging(a).then((function(t){e.$bvToast.toast(t.message,{title:"Profile Settings",variant:200==t.status?"success":"danger",solid:!0}),200==t.status?(e.complete=!0,e.ex_updatecurrentpicture(t.data),e.notifyuser=t.message,e.reset()):(e.errorlist=t.data,e.haserror=!0)}))},reset:function(){this.errorlist=[],this.haserror=!1},getusers:function(){var t=this;this.ex_profile().then((function(e){t.user=e.data}))},clearerror:function(t){this.printerros[t]=!1,delete this.errorlist[t]},geterrors:function(){for(var t=0,e=Object.entries(this.errorlist);t<e.length;t++){var a=Object(N["a"])(e[t],2),i=a[0],r=a[1];switch(i){case"firstname":this.printerros.firstname=!0,this.printerros.firstnameerror=r[0];break;case"othernames":this.printerros.othernames=!0,this.printerros.othernameserror=r[0];break;case"email":this.printerros.email=!0,this.printerros.emailerror=r[0];break;case"contact":this.printerros.contact=!0,this.printerros.contacterror=r[0];break}}}}),computed:{formChanged:function(){return this.setnewpicture}},created:function(){this.getusers()}}),oe=ne,ce=(a("1f4b"),Object(m["a"])(oe,re,se,!1,null,"e54d53f0",null)),le=ce.exports,pe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{attrs:{fluid:""}},[a("div",{staticClass:"app_main_wrapper"},[a("b-container",[a("div",{staticClass:"currenSection"},[a("h5",{staticClass:"css-indicator-nav",staticStyle:{"padding-left":"20px","padding-right":"40px"},on:{click:t.navback}},[a("b-icon",{attrs:{icon:"chevron-left"}}),t._v("Back ")],1),a("h5",{staticClass:"css-indicator-active"},[t._v("Password Settings")])]),a("div",{staticClass:"form-parent app_rounded app_topmargin"},[t.complete?[a("success-notification"),a("hr")]:[a("h3",{staticClass:"app_pageheader app_20padding app_bottommargin"},[a("span",{staticClass:"passwordIcon"},[a("b-icon",{attrs:{icon:"three-dots","aria-hidden":"true"}})],1),t._v(" User Password Setting ")]),a("div",{},[a("p",[t._v("You must provide your current password...")])]),a("b-form",{on:{submit:t.fn_change}},[a("b-form-group",{attrs:{id:"input-group-1","label-for":"input-1"}},[a("b-form-input",{class:{error:t.printerros.new_password},attrs:{id:"input-1",type:"password",required:"",placeholder:"Enter Current Password"},on:{change:function(e){return t.clearerror("current")}},model:{value:t.form.current,callback:function(e){t.$set(t.form,"current",e)},expression:"form.current"}})],1),t.promt?a("p",{staticClass:"hint"},[t._v(t._s(t.printerros.currenterror))]):t._e(),a("p",{staticClass:"hint"},[t._v("Use a strong password")]),a("b-form-group",{attrs:{id:"input-group-2","label-for":"input-2"}},[a("b-form-input",{class:{error:t.printerros.new_password},attrs:{id:"input-2",type:"password",required:"",placeholder:"Enter new Password"},on:{change:function(e){return t.clearerror("new_password")}},model:{value:t.form.new_password,callback:function(e){t.$set(t.form,"new_password",e)},expression:"form.new_password"}})],1),a("b-form-group",{attrs:{id:"input-group-3","label-for":"input-3"}},[a("b-form-input",{class:{error:t.printerros.confirm_password},attrs:{id:"input-3",type:"password",required:"",placeholder:"Confirm new Password"},on:{change:function(e){return t.clearerror("confirm_password")}},model:{value:t.form.confirm_password,callback:function(e){t.$set(t.form,"confirm_password",e)},expression:"form.confirm_password"}})],1),t.printerros?a("b-form-group",{attrs:{id:"input-group-4","label-for":"input-4"}},[t.haserror?a("b-list-group",t._l(t.errorlist,(function(e,i){return a("b-list-group-item",{key:i,staticClass:"app_roundedlist app_notifyerror d-flex justify-content-start align-items-center"},[a("b-badge",{attrs:{variant:"danger",pill:""}},[t._v(t._s(i))]),a("span",{staticClass:"app_listchildright"},[t._v(t._s(e[0]))])],1)})),1):t._e()],1):t._e(),t.haserror?a("b-form-group",{attrs:{id:"input-group-4","label-for":"input-4"}},[a("p",{staticClass:"css_errormessage"},[t._v(t._s(t.message))])]):t._e(),a("b-button",{staticClass:"app_button app_topmargin",attrs:{type:"submit",variant:"primary"}},[t._v("Update Password")])],1)]],2)])],1)])},ue=[],me={name:"app-message",components:{SuccessNotification:F},data:function(){return{complete:!1,status:0,message:"",promt:!1,haserror:!1,printerros:{current:!1,new_password:!1,confirm_password:!1},errorlist:[],form:{current:"",new_password:"",confirm_password:""},show:!0}},methods:Object(n["a"])(Object(n["a"])({},Object(o["b"])(["exdelete","ex_changepassword"])),{},{navback:function(){this.$router.push({name:"Settings"})},close:function(){this.exdelete()},fn_change:function(t){var e=this;console.log(),t.preventDefault(),this.checkchar()&&this.ex_changepassword(this.form).then((function(t){e.$bvToast.toast(t.message,{title:"Password Settings",variant:200==t.status?"success":"danger",solid:!0}),e.message=t.message,200==t.status&&(e.complete=!0,e.fn_reset()),400==t.status&&(e.haserror=!0,e.errorlist=t.data?t.data:[])}))},fn_reset:function(){this.form.current="",this.form.new_password="",this.form.confirm_password="",this.errorlist=[],this.haserror=!1},clearerror:function(t){this.printerros[t]=!1,delete this.errorlist[t]},geterrors:function(){for(var t=0,e=Object.entries(this.errorlist);t<e.length;t++){var a=Object(N["a"])(e[t],2),i=a[0],r=a[1];switch(i){case"current":this.printerros.current=!0,this.printerros.currenterror=r;break;case"new_password":this.printerros.new_password=!0,this.printerros.new_passworderror=r[0];break;case"confirm_password":this.printerros.confirm_password=!0,this.printerros.confirm_passworderror=r[0];break}}},closepromt:function(){var t=this;setTimeout((function(){t.promt=!1}),3e3)},checkchar:function(){return this.form.current.length<6?(this.promt=!0,this.printerros.currenterror="Password is too short. Try again",0):1}}),computed:{errorwatcher:function(){return this.errorlist},wactchpromt:function(){return this.promt}},watch:{errorwatcher:function(){this.geterrors()},wactchpromt:function(){this.closepromt()}},created:function(){}},de=me,fe=(a("835a"),Object(m["a"])(de,pe,ue,!1,null,"34cd79fe",null)),be=fe.exports,_e=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{staticClass:"parent",attrs:{fluid:""}},[a("div",{staticClass:"main-wrapper"},[t.closed?[a("b-container",{staticClass:"bg-white"},[a("success-notify"),a("p",[t._v(t._s(t.notifyuser))]),a("b-button",{staticClass:"mt-8",attrs:{variant:"danger"},on:{click:function(e){return t.goto("Access")}}},[t._v(" close ")])],1)]:[a("b-container",[a("div",{staticClass:"currenSection"},[a("h5",{staticClass:"css-indicator",on:{click:function(e){return t.goto("Settings")}}},[a("b-icon",{attrs:{icon:"chevron-left"}}),t._v("Back ")],1),a("h5",{staticClass:"css-indicator"},[t._v("Delete Account")])]),a("div",{staticClass:"form-parent"},[t.activeitems?[a("h3",{staticClass:"borrowed-message"},[t._v(t._s(t.notifyuser))]),a("br"),a("div",{staticClass:"listborrowings"},[a("b-list-group",{staticClass:"mt-6"},t._l(t.activeitems,(function(e){return a("b-list-group-item",{key:e.api_id,staticClass:"d-flex justify-content-evenly align-items-start",attrs:{href:"#"}},[a("b-avatar",{attrs:{src:e.api_item.api_thumbnail,size:"6rem"}}),a("div",{staticClass:"pl-4"},[a("div",{staticClass:"text-left flex-column w-100 justify-content-between align-items-start"},[a("h5",{staticClass:"mb-1 capit"},[t._v(t._s(e.api_item.api_name))]),a("p",{staticClass:"mb-1"},[t._v(" Borrow Date : "+t._s(e.api_borrowdate)+" ")]),a("p",{staticClass:"mb-1"},[t._v(" Return Date : "+t._s(e.api_returndate)+" ")])])])],1)})),1)],1)]:[a("b-form",{on:{"~submit":function(e){return e.preventDefault(),t.close(e)}}},[a("div",{staticClass:"message-wrapper"},[a("b-form-group",{attrs:{id:"input-group-1","label-for":"input-1",description:"Provide the correct password"}}),a("b-form-input",{attrs:{id:"input-1",type:"password",required:"",placeholder:"Enter password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),t.valideerror?a("div",[a("div",{staticClass:"errasemessage"},[a("p",[t._v(t._s(t.notifyuser))])])]):t._e(),a("div",{staticClass:"erase"},[a("div",{staticClass:"errasemessage"},[a("p",[t._v("You will no longer have access to this application")]),a("b-form-checkbox",{attrs:{id:"checkbox-1",name:"checkbox-1",value:"1","unchecked-value":"0"},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}},[t._v(" I accept the terms and use ")])],1),a("b-button",{staticClass:"btn btn-danger css-delbtn",attrs:{type:"submit",disabled:!t.haspassword},on:{click:t.close}},[t._v("Close Account")])],1)])]],2)])]],2)])},he=[],ve={name:"app-message",components:{SuccessNotify:F},data:function(){return{status:"0",closed:!1,password:"",notifyuser:"",activeitems:"",valideerror:!1}},methods:Object(n["a"])(Object(n["a"])({},Object(o["b"])(["ex_unregister","ex_validatepassword"])),{},{goto:function(t){this.$router.push({name:t})},close:function(t){var e=this;t.preventDefault(),this.ex_validatepassword(this.password).then((function(t){200==t.status&&e.ex_unregister().then((function(t){e.notifyuser=t.message,e.$bvToast.toast(e.notifyuser,{title:"Close Account",variant:200==t.status?"success":"danger",solid:!0}),200==t.status&&(e.closed=!0,setTimeout((function(){e.goto("Access")}),5e3)),400==t.status&&(e.activeitems=t.data)})),401==t.status&&(e.valideerror=!0),e.notifyuser=t.message}))}}),computed:{haspassword:function(){return this.password.length>0&&1==this.status}}},ge=ve,we=(a("3493"),Object(m["a"])(ge,_e,he,!1,null,"25cabe26",null)),ye=we.exports,Ce=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{staticClass:"parent",attrs:{fluid:""}},[a("div",{staticClass:"main-wrapper"},[a("b-container",[a("div",{staticClass:"currenSection"},[a("h5",{staticClass:"css-indicator-nav",staticStyle:{"padding-left":"20px","padding-right":"40px"},on:{click:t.navback}},[a("b-icon",{attrs:{icon:"chevron-left"}}),t._v("Back ")],1),a("h5",{staticClass:"css-indicator-active"},[t._v("Email Settings")])]),a("div",{staticClass:"form-parent"},[t.show?a("b-form",{on:{submit:t.onSubmit,reset:t.onReset}},[a("b-form-group",{attrs:{id:"input-group-1",label:"Email address:","label-for":"input-1",description:"We'll never share your email with anyone else."}},[a("b-form-input",{attrs:{id:"input-1",type:"email",required:"",placeholder:"Enter email"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1),a("b-form-group",{attrs:{id:"input-group-2",label:"Your Name:","label-for":"input-2"}},[a("b-form-input",{attrs:{id:"input-2",required:"",placeholder:"Enter name"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}}),a("button")],1),a("b-form-group",{attrs:{id:"input-group-3",label:"Campus:","label-for":"input-3"}},[a("b-form-select",{attrs:{id:"input-3",options:t.foods,required:""},model:{value:t.form.food,callback:function(e){t.$set(t.form,"food",e)},expression:"form.food"}})],1),a("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Update Profile")])],1):t._e()],1)])],1)])},xe=[],ke={name:"app-message",data:function(){return{status:"0",password:"",form:{email:"",name:"",food:null,checked:[]},foods:[{text:"Select One",value:null},"JWC","Anggrek Campus","Alam Sutra","Bekasi","Bandung"],show:!0}},methods:Object(n["a"])(Object(n["a"])({},Object(o["b"])(["exdelete"])),{},{navback:function(){this.$router.push({name:"Settings"})},close:function(){this.exdelete()},onSubmit:function(t){t.preventDefault(),alert(JSON.stringify(this.form))},onReset:function(t){var e=this;t.preventDefault(),this.form.email="",this.form.name="",this.form.food=null,this.form.checked=[],this.show=!1,this.$nextTick((function(){e.show=!0}))}}),computed:{},created:function(){}},je=ke,Se=(a("c98b"),Object(m["a"])(je,Ce,xe,!1,null,"fa41415e",null)),$e=Se.exports,Ie=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{attrs:{fluid:""}},[a("div",{staticClass:"app_main_wrapper"},[a("b-container",[a("div",{staticClass:"currenSection"},[a("h5",{staticClass:"css-indicator-nav",staticStyle:{"padding-left":"20px","padding-right":"40px"},on:{click:t.navback}},[a("b-icon",{attrs:{icon:"chevron-left"}}),t._v("Home ")],1),a("h5",{staticClass:"css-indicator-active"},[t._v("Forgot Password")])]),a("div",{staticClass:"form-parent app_rounded app_topmargin"},[t.complete?[a("success-notification"),a("hr"),a("h3",[t._v(t._s(t.notifyuser))])]:[a("h3",{staticClass:"app_pageheader app_20padding app_bottommargin"},[a("b-icon",{attrs:{icon:"person-fill","aria-hidden":"true"}}),t._v(" Request a change of password. ")],1),a("b-form",{on:{submit:t.onSubmit}},[a("b-form-group",{attrs:{id:"input-group-1","label-for":"input-1"}},[a("b-form-input",{attrs:{id:"input-1",type:"text",required:"",placeholder:"Enter email"},on:{change:t.clearmessage},model:{value:t.form.api_email,callback:function(e){t.$set(t.form,"api_email",e)},expression:"form.api_email"}})],1),t.haserror?a("b-form-group",{attrs:{id:"input-group-5","label-for":"input-5"}},[a("b-list-group-item",{staticClass:"app_roundedlist app_notifyerror d-flex justify-content-between align-items-center"},[a("b-badge",{staticClass:"emailbadge",attrs:{variant:"danger",pill:""}},[t._v(t._s(t.form.api_email))]),a("span",{staticClass:"app_listchildright"},[t._v(t._s(t.message))])],1)],1):t._e(),a("b-button",{staticClass:"app_button app_topmargin",attrs:{type:"submit",variant:"primary"}},[t._v("Request")])],1)]],2)])],1)])},Le=[],Oe={name:"app-message",components:{SuccessNotification:F},data:function(){return{complete:!1,status:"0",haserror:!1,userhas:0,notifyuser:"",password:"",backup:{},message:"",faculties:[],form:{},tempinput:""}},methods:Object(n["a"])(Object(n["a"])({},Object(o["b"])({ex_forgotpassword:"store_users/ex_forgotpassword"})),{},{navback:function(){this.$router.push({name:"Access"})},close:function(){this.exdelete()},onSubmit:function(t){var e=this;t.preventDefault(),this.ex_forgotpassword(this.form).then((function(t){e.$bvToast.toast(t.message,{title:"Profile Settings",variant:200==t.status?"success":"danger",solid:!0}),200==t.status?(e.complete=!0,e.notifyuser=t.message):(e.message=t.message,e.haserror=!0)}))},clearmessage:function(){this.haserror&&(this.haserror=!1)}}),computed:{}},Be=Oe,Ae=(a("02f8"),Object(m["a"])(Be,Ie,Le,!1,null,"f7d07806",null)),Pe=Ae.exports,Ee=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{attrs:{fluid:""}},[a("div",{staticClass:"app_main_wrapper"},[a("b-container",[a("div",{staticClass:"currenSection"},[a("h5",{staticClass:"css-indicator-nav",staticStyle:{"padding-left":"20px","padding-right":"40px"},on:{click:t.navback}},[a("b-icon",{attrs:{icon:"chevron-left"}}),t._v("Login ? ")],1),a("h5",{staticClass:"css-indicator-active"},[t._v("Reset Password")])]),a("div",{staticClass:"form-parent app_rounded app_topmargin"},[t.complete?[a("success-notification"),a("hr"),a("h3",[t._v(t._s(t.notifyuser))])]:[a("h3",{staticClass:"app_pageheader app_20padding app_bottommargin"},[a("b-icon",{attrs:{icon:"person-fill","aria-hidden":"true"}}),t._v(" Enter new account password ")],1),a("b-form",{on:{submit:t.onSubmit}},[a("b-form-group",{attrs:{id:"input-group-1","label-for":"input-1"}},[a("b-form-input",{class:{error:t.printerros.password},attrs:{id:"input-1",type:"text",required:"",placeholder:"Enter password"},on:{change:function(e){return t.clearerror("firstname")}},model:{value:t.form.api_password,callback:function(e){t.$set(t.form,"api_password",e)},expression:"form.api_password"}})],1),a("b-form-group",{attrs:{id:"input-group-2","label-for":"input-2"}},[a("b-form-input",{class:{error:t.printerros.confirmation},attrs:{id:"input-2",placeholder:"Enter confirm password"},on:{change:function(e){return t.clearerror("othernames")}},model:{value:t.form.api_cpassword,callback:function(e){t.$set(t.form,"api_cpassword",e)},expression:"form.api_cpassword"}})],1),t.printerros?a("b-form-group",{attrs:{id:"input-group-5","label-for":"input-5"}},[t.haserror?a("b-list-group",t._l(t.errorlist,(function(e,i){return a("b-list-group-item",{key:i,staticClass:"app_roundedlist app_notifyerror d-flex justify-content-start align-items-center"},[a("b-badge",{attrs:{variant:"danger",pill:""}},[t._v(t._s(i))]),a("span",{staticClass:"app_listchildright"},[t._v(t._s(e[0]))])],1)})),1):t._e()],1):t._e(),a("b-button",{staticClass:"app_button app_topmargin",attrs:{type:"submit",disabled:!t.formChanged,variant:"primary"}},[t._v("Change Password")])],1)]],2)])],1)])},qe=[],De={name:"app-message",components:{SuccessNotification:F},data:function(){return{complete:!1,status:"0",haserror:!1,userhas:0,notifyuser:"",password:"",backup:{},printerros:{password:!1,confirmation:!1},errorlist:[],faculties:[],form:{password:"",cpassword:""},tempinput:""}},methods:Object(n["a"])(Object(n["a"])({},Object(o["b"])({ex_campusfaculties:"store_campuses/ex_campusfaculties",exdelete:"exdelete",ex_profile:"ex_profile",ex_apiupdateuser:"ex_apiupdateuser"})),{},{navback:function(){this.$router.push({name:"Login"})},close:function(){this.exdelete()},onSubmit:function(t){var e=this;t.preventDefault(),this.ex_apiupdateuser(this.form).then((function(t){e.$bvToast.toast(t.message,{title:"Profile Settings",variant:200==t.status?"success":"danger",solid:!0}),200==t.status?(e.complete=!0,e.notifyuser=t.message,e.reset()):(e.errorlist=t.data,e.haserror=!0)}))},reset:function(){this.errorlist=[],this.haserror=!1},getusers:function(){var t=this;this.ex_profile().then((function(e){t.form=e.data,delete t.form.api_faculty,t.backup=JSON.parse(JSON.stringify(t.form));for(var a=0,i=Object.entries(t.form);a<i.length;a++){var r=Object(N["a"])(i[a],1),s=r[0];if("api_nim"==s)break;"api_staffid"==s&&(t.userhas=1,t.tempinput=e.data.api_staffid)}}))},clearerror:function(t){this.printerros[t]=!1,delete this.errorlist[t]},geterrors:function(){for(var t=0,e=Object.entries(this.errorlist);t<e.length;t++){var a=Object(N["a"])(e[t],2),i=a[0],r=a[1];switch(i){case"firstname":this.printerros.firstname=!0,this.printerros.firstnameerror=r[0];break;case"othernames":this.printerros.othernames=!0,this.printerros.othernameserror=r[0];break;case"email":this.printerros.email=!0,this.printerros.emailerror=r[0];break;case"contact":this.printerros.contact=!0,this.printerros.contacterror=r[0];break}}}}),computed:{formChanged:function(){for(var t=0,e=0,a=Object.entries(this.backup);e<a.length;e++){var i=Object(N["a"])(a[e],2),r=i[0],s=i[1];this.form[r]==s&&(t+=1)}return 5!=t},errorwatcher:function(){return this.errorlist}},watch:{errorwatcher:function(){this.geterrors()}},created:function(){this.getusers()}},Ne=De,Ue=(a("47f6"),Object(m["a"])(Ne,Ee,qe,!1,null,"beaaf068",null)),Me=Ue.exports,Te=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app_next"},[a("b-container",{staticClass:"app_main_wrapper",attrs:{fluid:""}},[a("b-container",{staticClass:"app-center-all",attrs:{fluid:""}},[a("b-container",{attrs:{fluid:""}},[a("b-row",[a("b-col",{staticClass:"item-contentonly",attrs:{cols:1!=t.get_user.role?"6":"12"}},[a("div",{staticClass:"self-form"},[a("b-form",{staticClass:"search-form",on:{submit:function(t){t.preventDefault()}}},[a("b-input",{attrs:{inline:"",placeholder:"Search"},model:{value:t.filterinput,callback:function(e){t.filterinput=e},expression:"filterinput"}})],1)],1),a("b-container",{staticClass:"app_topmargin",attrs:{fluid:""}},[1!=t.get_user.role?a("div",[a("p",{},[t._v("Select from items below to preview")]),a("div",{staticClass:"text-center app-director"},[a("p",{staticClass:"mt-3"},[a("b-icon",{attrs:{icon:"chevron-right",scale:"1",rotate:"90","shift-h":"4",variant:"secondary"}})],1)])]):t._e(),a("b-row",{staticClass:"item-list",attrs:{id:"itemList"}},t._l(t.filterItems,(function(e,i){return a("b-col",{key:i,staticClass:"pr-4 mb-4",class:{itemprofile:1!=t.get_user.role,cssviewingitem:t.viewingitem==i},staticStyle:{gap:"2px"},attrs:{md:1==t.get_user.role?2:4},on:{click:function(e){return t.setPreview(i)}}},[a("b-card",{staticClass:"overflow-hidden item-body p-0",staticStyle:{"max-width":"100%"},attrs:{title:e.api_name,"img-src":e.api_thumbnail,"img-alt":e.api_name,"img-top":"",tag:"article"}},[a("b-card-text",{staticClass:"description"},[t._v(t._s(e.api_description)+" ")]),a("div",{staticClass:"detailstatus"},[a("b-button",{attrs:{href:"#",variant:"outline-primary css-themebtn"},on:{click:function(a){return t.gotoitem(e)}}},[t._v("View Details")]),a("div",{staticClass:"isavailable"},[e.api_available?a("b-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:"This item is available",icon:"check2-circle",animation:"throb","font-scale":"1",variant:"success"}}):a("b-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:"This item is unavailable",icon:"dash-circle-fill",animation:"throb","font-scale":"1",variant:"danger"}})],1)],1)],1)],1)})),1)],1)],1),1!=t.get_user.role?a("b-col"):t._e(),1!=t.get_user.role?a("b-col",{staticClass:"previewer-pane",attrs:{cols:"5"}},[a("div",{staticClass:"app_rounded app_padding30 app_plain"},[!1===t.watchpreview?[a("empty-preview")]:[a("div",{staticClass:"preview-indicator"},[t.previewreload?a("b-skeleton",{attrs:{type:"input",animation:"throb",width:"20%"}}):a("div",{staticClass:"app_20padding text-center mb-4"},[a("h5",{staticClass:"previewer-header app_shader"},[t._v("PREVIEW ITEM")])]),a("p",{staticClass:"previewx",on:{click:t.closepreview}},[a("b-icon",{attrs:{icon:"x-circle-fill",scale:"2.5",variant:"danger"}})],1)],1),a("div",[a("b-row",[a("b-col",{staticClass:"mb-item",attrs:{md:"12"}},[a("div",{staticClass:"itemonly-header"},[a("div",[t.previewreload?a("b-skeleton",{attrs:{type:"text",scale:"0.5",animation:"throb",width:"20%"}}):[a("div",{staticClass:"app_20padding text-center mb-4"},[a("h3",{staticClass:"previewer-header"},[a("b-icon",{attrs:{icon:"journal-richtext",variant:"info"}}),t._v(" Item Information ")],1)])]],2),a("div",[t.previewreload?[a("span",{staticClass:"d-flex justify-content-between align-items-center"},[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),a("b-skeleton",{attrs:{animation:"throb",width:"55%"}})],1)]:[a("span",{staticClass:"openurl"},[a("b-icon",{staticStyle:{},attrs:{icon:"box-arrow-up-right"}}),a("a",{on:{click:function(e){return t.gotoitem(t.currentview)}}},[t._v(" open url")])],1)]],2)]),a("b-row",[a("b-col",{attrs:{md:"6"}},[t.previewreload?a("b-skeleton-img",{staticClass:"mb-img-skeleten",attrs:{"no-aspect":"",height:"150px"}}):a("b-img",{staticClass:"mb-image",attrs:{fluid:"",src:t.currentview.api_thumbnail,alt:t.currentview.api_name}})],1),a("b-col",{staticClass:"mb-borrower",attrs:{md:"6"}},[a("b-list-group",[t.previewreload?[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),a("b-skeleton",{attrs:{animation:"throb",width:"55%"}})],1)]:[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("small",[t._v("ID")]),a("span",[t._v(t._s(t.currentview.api_id))])])],t.previewreload?[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),a("b-skeleton",{attrs:{animation:"throb",width:"55%"}})],1)]:[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("small",[t._v("Item Name")]),a("span",[t._v(t._s(t.currentview.api_name))])])],t.previewreload?[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),a("b-skeleton",{attrs:{animation:"throb",width:"55%"}})],1)]:[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("small",[t._v("Campus")]),a("span",[t._v(t._s(t.currentview.api_campus.api_name))])])],t.previewreload?[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),a("b-skeleton",{attrs:{animation:"throb",width:"55%"}})],1)]:[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("small",[t._v("Faculty")]),a("span",[t._v(t._s(t.currentview.api_faculty.api_name))])])]],2)],1)],1)],1),a("b-col",{staticClass:"app_20padding"}),a("b-col",{attrs:{md:"12"}},[a("div",{staticClass:"app_20padding mb-4"},[a("h3",{staticClass:"previewer-header"},[a("b-icon",{attrs:{icon:"file-earmark-play-fill\n",variant:"danger"}}),t._v(" Video Preview ")],1)]),a("b-container",{attrs:{fluid:""}},[t.previewreload?a("b-skeleton-img",{staticClass:"mb-img-skeleten",staticStyle:{"border-radius":"30px"},attrs:{"no-aspect":"",height:"150px"}}):[t.currentview.api_videos.length>0?a("b-row",t._l(t.currentview.api_videos,(function(e,i){return a("b-col",{key:i,staticClass:"css-videopreview",attrs:{md:"4"}},[a("b-embed",{attrs:{type:"iframe",aspect:"16by9",src:t.videoplayer(e.src),allowfullscreen:""}})],1)})),1):[a("empty-video")]]],2)],1)],1),3==t.get_user.role?a("div",{staticClass:"mb-control app_topmargin"},[t.previewreload?a("b-skeleton",{staticClass:"gb-skeleten",attrs:{type:"button",animation:"throb",width:"30%"}}):a("b-button-group",[a("b-button",{attrs:{variant:"secondary"},on:{click:function(e){return t.formaction(2)}}},[t._v("Update")]),a("b-button",{attrs:{variant:"outline-danger"},on:{click:function(e){return t.formaction(3)}}},[t._v(t._s(t.currentview.api_available?"Disable":"Enable"))])],1),[t.previewreload?a("b-skeleton",{staticClass:"gb-skeleten",attrs:{type:"button",animation:"throb",width:"10%"}}):a("b-button",{attrs:{variant:"danger"},on:{click:function(e){return t.formaction(4)}}},[t._v("Delete")])]],2):t._e()],1)]],2)]):t._e()],1)],1),a("div",{staticClass:"app-create-action"},[3==t.get_user.role&&!1===t.preview?[a("b-button",{staticClass:"app_new_button",attrs:{variant:"success",size:"lg"},on:{click:function(e){return t.formaction(1)}}},[a("b-icon",{attrs:{icon:"plus-circle-fill"}}),t._v(" Item ")],1)]:t._e()],2),a("b-modal",{ref:"modal",attrs:{size:"lg",id:"modal-forms",title:t.formButton+" Item",centered:""},on:{ok:t.form_navigator,cancel:t.onFormsCancel},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var i=e.ok,r=e.cancel;return[a("div",{staticClass:"w-100"},[a("b-button",{staticClass:"float-left",attrs:{variant:"outline-danger"},on:{click:function(t){return r()}}},[t._v(" Cancel ")]),a("b-button",{staticClass:"float-right",attrs:{variant:t.themebutton},on:{click:function(t){return i()}}},[t._v(" "+t._s(t.formButton)+" ")])],1)]}}])},[a("b-card",{attrs:{"bg-variant":"light"}},[a("form",{ref:"itemform",on:{submit:function(e){return t.form_navigator(e)}}},[1==t.updatemode?[t.imagepreviewer?a("div",{staticClass:"mb-6",attrs:{id:"preview"}},[a("b-img",{attrs:{fluid:"",src:t.imagepreviewer,alt:t.createform.api_name}}),a("b-icon",{staticClass:"app_closefix",attrs:{"font-scale":"2",icon:"x-circle-fill",variant:"danger"},on:{click:t.clearPicture}}),a("hr")],1):t._e(),a("b-form-group",{attrs:{id:"input-group-0"}},[a("b-input-group",[a("b-input-group-prepend",{attrs:{"is-text":""}},[a("b-icon",{attrs:{icon:"image-fill"}})],1),a("b-form-file",{attrs:{id:"form-image",placeholder:"Choose a file or drop it here...","drop-placeholder":"Drop file here...",accept:"image/*"},on:{change:t.uploadImage},model:{value:t.createform.api_thumbnail,callback:function(e){t.$set(t.createform,"api_thumbnail",e)},expression:"createform.api_thumbnail"}})],1)],1),a("b-form-group",{attrs:{id:"input-group-1",label:"Item Name"}},[a("b-form-input",{class:{error:t.errorlist.name},attrs:{id:"input-1",required:"",placeholder:"Item name"},model:{value:t.createform.api_name,callback:function(e){t.$set(t.createform,"api_name",e)},expression:"createform.api_name"}}),t.errorlist.name?a("small",{staticClass:"errortext"},[t._v(" "+t._s(t.errorlist.name[0])+" ")]):t._e()],1),a("b-form-group",{attrs:{id:"input-group-3",label:"Item Description"}},[a("b-form-textarea",{class:{error:t.errorlist.description},attrs:{id:"input-3",required:"",placeholder:"Enter description",rows:"3","max-rows":"6"},model:{value:t.createform.api_description,callback:function(e){t.$set(t.createform,"api_description",e)},expression:"createform.api_description"}}),t.errorlist.description?a("small",{staticClass:"errortext"},[t._v(" "+t._s(t.errorlist.description[0])+" ")]):t._e()],1),a("b-form-group",{attrs:{id:"input-group-4",label:"Item Quantity"}},[a("b-form-input",{class:{error:t.errorlist.quantity},attrs:{id:"input-4",required:"",placeholder:"Enter item quantiy",type:"number"},model:{value:t.createform.api_quantity,callback:function(e){t.$set(t.createform,"api_quantity",e)},expression:"createform.api_quantity"}}),t.errorlist.quantity?a("small",{staticClass:"errortext"},[t._v(" "+t._s(t.errorlist.quantity[0])+" ")]):t._e()],1),a("b-form-group",{attrs:{id:"input-group-5",label:"Item Campus and Faculty"}},[a("b-form-row",[a("b-col",[a("b-form-select",{staticClass:"campusxfaculty",class:{error:t.errorlist.campus},attrs:{id:"input-8","value-field":"api_id","text-field":"api_name",options:t.campuses,placeholder:"Choose Campus",required:""},model:{value:t.createform.api_campus,callback:function(e){t.$set(t.createform,"api_campus",e)},expression:"createform.api_campus"}})],1),a("b-col",[a("b-form-select",{class:{error:t.errorlist.faculty},attrs:{id:"input-9",options:t.faculty,disabled:!t.faculty,"value-field":"api_id","text-field":"api_name",placeholder:"Choose Faculty",required:""},model:{value:t.createform.api_faculty,callback:function(e){t.$set(t.createform,"api_faculty",e)},expression:"createform.api_faculty"}})],1)],1)],1),a("b-form-group",{attrs:{id:"input-group-8"}},[t.errorlist.campuses?a("small",{staticClass:"errortext"},[t._v(" "+t._s(t.errorlist.campuses[0])+" ")]):t._e()]),a("b-form-group",{attrs:{id:"input-group-6",label:"Add Video"}},[a("b-input-group",{staticClass:"mt-3"},[a("b-form-input",{class:{error:t.errorlist.password},attrs:{id:"input-6",required:"",placeholder:"Enter youtube source",type:"text",disabled:t.createform.api_videos.length>=3},model:{value:t.sourceinput,callback:function(e){t.sourceinput=e},expression:"sourceinput"}}),a("b-input-group-append",[a("b-button",{attrs:{disabled:t.createform.api_videos.length>=3,variant:"info"},on:{click:t.addsource}},[t._v("Add")])],1)],1),t.errorlist.password?a("small",{staticClass:"errortext"},[t._v(" "+t._s(t.errorlist.password[0])+" ")]):t._e()],1),a("b-form-group",{attrs:{id:"input-group-7"}},[a("b-container",{attrs:{fluid:""}},[a("b-row",{staticClass:"mt-4"},t._l(t.renderVideos,(function(e,i){return a("b-col",{key:i,staticClass:"css-videopreview",attrs:{md:"4"}},[a("div",{staticClass:"xvideo"},[a("b-icon",{staticClass:"rounded-circle bg-danger p-2",attrs:{icon:"trash","font-scale":"2",variant:"light"},on:{click:function(e){return t.createform.api_videos.splice(i,1)}}})],1),a("b-embed",{attrs:{type:"iframe",aspect:"16by9",src:t.videoplayer(e.src),allowfullscreen:""}})],1)})),1)],1)],1),t.createerror?a("b-list-group",t._l(t.createerror,(function(e,i){return a("b-list-group-item",{key:i,attrs:{button:""}},[t._v(t._s(e[0]))])})),1):t._e()]:t._e(),2==t.updatemode?[a("b-form-group",{attrs:{label:"Item Photo"}},[t.imagepreviewer?a("div",{staticClass:"mb-6",attrs:{id:"preview"}},[a("b-img",{staticClass:"p4",attrs:{fluid:"",src:t.imagepreviewer,alt:t.currentview.api_name}}),a("b-icon",{staticClass:"app_closefix",attrs:{"font-scale":"2",icon:"x-circle-fill",variant:"danger"},on:{click:t.clearPicture}}),a("hr")],1):a("div",{staticClass:"itemPicture"},[a("b-img",{staticClass:"css-campusthumbnail p4",attrs:{fluid:"",src:t.currentview.api_thumbnail,rounded:"circle",alt:t.currentview.api_name}})],1)]),a("b-form-group",{attrs:{id:"input-group-0"}},[a("b-input-group",[a("b-input-group-prepend",{attrs:{"is-text":""}},[a("b-icon",{attrs:{icon:"image-fill"}})],1),a("b-form-file",{attrs:{id:"form-image",placeholder:"Choose a file or drop it here...","drop-placeholder":"Drop file here...",accept:"image/*"},on:{change:t.uploadImage},model:{value:t.update_thumbnail,callback:function(e){t.update_thumbnail=e},expression:"update_thumbnail"}})],1)],1),a("b-form-group",{attrs:{id:"input-group-1",label:"Item Name"}},[a("b-form-input",{class:{error:t.errorlist.name},attrs:{id:"input-1",required:"",placeholder:"Item name"},model:{value:t.updateform.api_name,callback:function(e){t.$set(t.updateform,"api_name",e)},expression:"updateform.api_name"}}),t.errorlist.name?a("small",{staticClass:"errortext"},[t._v(" "+t._s(t.errorlist.name[0])+" ")]):t._e()],1),a("b-form-group",{attrs:{id:"input-group-3",label:"Item Description"}},[a("b-form-textarea",{class:{error:t.errorlist.description},attrs:{id:"input-3",required:"",placeholder:"Enter description",rows:"3","max-rows":"6"},model:{value:t.updateform.api_description,callback:function(e){t.$set(t.updateform,"api_description",e)},expression:"updateform.api_description"}}),t.errorlist.description?a("small",{staticClass:"errortext"},[t._v(" "+t._s(t.errorlist.description[0])+" ")]):t._e()],1),a("b-form-group",{attrs:{id:"input-group-4",label:"Item Quantity"}},[a("b-form-input",{class:{error:t.errorlist.quantity},attrs:{id:"input-4",required:"",placeholder:"Enter item quantiy",type:"number"},model:{value:t.updateform.api_quantity,callback:function(e){t.$set(t.updateform,"api_quantity",e)},expression:"updateform.api_quantity"}}),t.errorlist.quantity?a("small",{staticClass:"errortext"},[t._v(" "+t._s(t.errorlist.quantity[0])+" ")]):t._e()],1),a("b-form-group",{attrs:{id:"input-group-8"}},[t.errorlist.campuses?a("small",{staticClass:"errortext"},[t._v(" "+t._s(t.errorlist.campuses[0])+" ")]):t._e()]),a("b-form-group",{attrs:{id:"input-group-6",label:"Add Video"}},[a("b-input-group",{staticClass:"mt-3"},[a("b-form-input",{class:{error:t.errorlist.password},attrs:{id:"input-6",required:"",placeholder:"Enter youtube source",type:"text",disabled:t.updateform.api_videos.length>=3},model:{value:t.sourceinput,callback:function(e){t.sourceinput=e},expression:"sourceinput"}}),a("b-input-group-append",[a("b-button",{attrs:{disabled:t.updateform.api_videos.length>=3,variant:"info"},on:{click:t.addsource}},[t._v("Add")])],1)],1),t.errorlist.password?a("small",{staticClass:"errortext"},[t._v(" "+t._s(t.errorlist.password[0])+" ")]):t._e()],1),a("b-form-group",{attrs:{id:"input-group-7"}},[a("b-container",{attrs:{fluid:""}},[a("b-row",{staticClass:"mt-4"},t._l(t.renderVideos,(function(e,i){return a("b-col",{key:i,staticClass:"css-videopreview",attrs:{md:"4"}},[a("div",{staticClass:"xvideo"},[a("b-icon",{staticClass:"rounded-circle bg-danger p-2",attrs:{icon:"trash","font-scale":"2",variant:"light"},on:{click:function(e){return t.updateform.api_videos.splice(i,1)}}})],1),a("b-embed",{attrs:{type:"iframe",aspect:"16by9",src:t.videoplayer(e.src),allowfullscreen:""}})],1)})),1)],1)],1)]:t._e(),3==t.updatemode||4==t.updatemode?[a("h5",{staticClass:"mb-4"},[t._v(" "+t._s(3==t.updatemode?"Block ":"Delete ")+" "+t._s(t.currentview.api_name)+" ? ")]),a("div",{staticClass:"css-deletewrapper"},[a("b-img",{staticClass:"css-userthumbnail",attrs:{fluid:"",src:t.currentview.api_thumbnail,rounded:"circle",alt:"Get full name"}}),a("div",{staticClass:"css-deleteid"},[a("small",[t._v("ITEM ID")]),a("h5",[t._v(t._s(t.currentview.api_id))])])],1),a("b-list-group",{staticClass:"confirmation_list"},[a("h3",[t._v("Item Information")]),a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[t._v(" Item Name ")]),a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[t._v(" Item Description "),a("p",[t._v(t._s(t.currentview.api_description))])]),a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[t._v(" Campus "),a("p")])],1)]:t._e()],2)])],1),a("b-modal",{ref:"modal",attrs:{centered:"",id:"modal-confirmation","header-bg-variant":"danger","header-text-variant":"light",title:"Confirm Action"},on:{ok:t.confirm_modelAction,cancel:t.onConfirmCancel},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var i=e.ok,r=e.cancel;return[a("div",{staticClass:"w-100"},[a("b-button",{staticClass:"float-left",attrs:{variant:"outline-danger"},on:{click:function(t){return r()}}},[t._v(" Cancel ")]),a("b-button",{staticClass:"float-right",attrs:{variant:"danger"},on:{click:function(t){return i()}}},[t._v(" Continue ")])],1)]}}])},[a("b-card",{ref:"updateform",on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.modalConfirmAction(e)}}},[a("div",{staticClass:"text-center"},[a("b-icon",{staticStyle:{width:"80px",height:"80px"},attrs:{icon:"exclamation-circle"}}),a("h5",[t._v("Are you sure about this ?")])],1)])],1)],1)],1)],1)},Re=[],ze=(a("caad"),a("2532"),function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)}),Fe=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"empty-preview"},[i("img",{staticClass:"preview-img",attrs:{src:a("e8e8"),alt:"",srcset:""}})])}],Je={},Ge=Je,Ve=(a("7383"),Object(m["a"])(Ge,ze,Fe,!1,null,"165b3043",null)),We=Ve.exports,Ye={props:["propsitems"],components:{EmptyPreview:dt,EmptyVideo:We},data:function(){return{createerror:[],currentPage:1,perPage:30,errorlist:[],update_thumbnail:[],viewingitem:"-",imagepreviewer:"",filterinput:"",updatemode:0,formButton:"",updateform:{},createform:{api_name:"",api_description:"",api_thumbnail:[],api_quantity:1,api_available:1,api_campus:"",api_faculty:"",api_videos:[]},title:"",formimage:{},sourceinput:"",errorImageDimension:!1,campuses:[],apiitemcollections:[],faculty:[],preview:!1,previewreload:!1,query:!1,currentview:{},search:"",fields:["photo","name","description","actions"],variant:"dark",additem:!1,options:[{item:1,name:"Make Available"},{item:0,name:"Unavailable"}],file:""}},methods:Object(n["a"])(Object(n["a"])({},Object(o["b"])({apiitems:"store_items/apiitems",ex_addItem:"store_items/ex_addItem",ex_updateItem:"store_items/ex_updateItem",ex_campusfaculties:"store_campuses/ex_campusfaculties",ex_setavailable:"store_items/ex_setavailable",ex_deleteitem:"store_items/ex_deleteitem"})),{},{setPreview:function(t){var e=this;this.previewreload=!0,this.viewingitem=t,setTimeout((function(){e.preview=t,e.currentview=e.filterItems[t],e.previewreload=!1}),1e3)},formaction:function(t){switch(this.updatemode=t,t){case 1:this.formButton="create",this.getcampuses();break;case 2:this.formButton="Update",this.updateform=JSON.parse(JSON.stringify(this.currentview)),this.updateform.api_thumbnail=[],this.preview=!1;break;case 3:this.formButton="Block",this.confirmation=!0;break;case 4:this.formButton="Delete",this.confirmation=!0;break}this.confirmation?this.$bvModal.show("modal-confirmation"):this.$bvModal.show("modal-forms")},form_navigator:function(t){switch(t.preventDefault(),this.updatemode){case 1:this.fn_create();break;case 2:this.fn_update();break;case 3:this.fn_block();break;case 4:this.fn_delete();break}},confirm_modelAction:function(t){t.preventDefault(),this.modalConfirmAction()},modalConfirmAction:function(){var t=this;this.confirmation?this.$nextTick((function(){t.$bvModal.hide("modal-confirmation"),t.$bvModal.show("modal-forms"),t.confirmation=!1})):this.$bvModal.show("modal-forms")},onFormsCancel:function(){this.updateform={},this.createform={}},onConfirmCancel:function(){this.confirmation=!1},fn_create:function(){var t=this,e=new FormData;e.append("api_name",this.createform.api_name),e.append("api_thumbnail",this.file),e.append("api_quantity",this.createform.api_quantity),e.append("api_available",this.createform.api_available),e.append("api_campus",this.createform.api_campus),e.append("api_faculty",this.createform.api_faculty),e.append("api_videos",JSON.stringify(this.createform.api_videos)),e.append("api_description",this.createform.api_description),this.ex_addItem(e).then((function(e){t.$bvToast.toast(e.message,{title:"Create Item",variant:200==e.status?"primary":"danger",solid:!0}),200==e.status?(t.preview=!1,t.$nextTick((function(){t.$bvModal.hide("modal-forms")})),t.defaultcreate(),t.clearview()):t.createerror=e.data}))},fn_update:function(){var t=this,e=new FormData;e.append("_method","PUT"),e.append("api_id",this.currentview.api_id),e.append("api_name",this.updateform.api_name),e.append("api_thumbnail",this.currentview.api_thumbnail==this.updateform.api_thumbnail?this.currentview.api_thumbnail:this.file),e.append("api_quantity",this.updateform.api_quantity),e.append("api_available",this.updateform.api_available),e.append("api_campus",this.updateform.api_campus),e.append("api_faculty",this.updateform.api_faculty),e.append("api_campusinfo",this.updateform.api_campusinfo),e.append("api_videos",JSON.stringify(this.updateform.api_videos)),e.append("api_description",this.updateform.api_description),this.ex_updateItem(e).then((function(e){200==e.status&&(t.preview=!1,t.$bvToast.toast(e.message,{title:"Update Item",variant:200==e.status?"primary":"danger",solid:!0}),t.$nextTick((function(){t.$bvModal.hide("modal-forms")})),t.clearview())}))},fn_block:function(){var t=this;this.ex_setavailable(this.currentview.api_id).then((function(e){t.$bvToast.toast(e.message,{title:"Block Item",variant:200==e.status?"primary":"danger",solid:!0}),200==e.status&&(t.preview=!1,t.$nextTick((function(){t.$bvModal.hide("modal-forms")})),t.clearview())}))},fn_delete:function(){var t=this;this.ex_deleteitem(this.currentview.api_id).then((function(e){t.$bvToast.toast(e.message,{title:"Delete Item",variant:200==e.status?"primary":"danger",solid:!0}),200==e.status&&(t.preview=!1,t.$nextTick((function(){t.$bvModal.hide("modal-forms")})),t.clearview())}))},clearview:function(){this.currentview={},this.viewingitem="-",this.getItems()},browse:function(){this.query=!0},gotoitem:function(t){var e=this.$router.resolve({name:"Itemdetails",params:{propscontent:t.api_id}});window.open(e.href,"_blank")},getcampuses:function(){var t=this;this.ex_campusfaculties().then((function(e){t.campuses=e.data.filter((function(t){return"admin"!=t.api_name}))}))},getfaculty:function(){var t=this;1==this.updatemode?this.campuses.forEach((function(e){t.createform.api_campus==e.api_id&&(t.faculty=e.api_faculties)})):this.campuses.forEach((function(e){t.updateform.api_campus.api_id==e.api_id&&(t.faculty=e.api_faculties)}))},uploadImage:function(t){var e=t.target.files[0];this.file=t.target.files[0],this.imagepreviewer=URL.createObjectURL(e),URL.revokeObjectURL(e)},upload:function(){this.ex_uploaditem(this.itemform).then((function(t){console.log(t)}))},addsource:function(){if(1==this.updatemode){if(this.sourceinput.length<1||this.createform.api_videos.length>3)return;this.createform.api_videos.push({id:this.createform.api_videos.length+1,src:this.sourceinput})}else{if(this.sourceinput.length<1||this.updateform.api_videos.length>3)return;this.updateform.api_videos.push({id:this.updateform.api_videos.length+1,src:this.sourceinput})}this.sourceinput=""},getItems:function(){var t=this;this.apiitems().then((function(e){t.apiitemcollections=e.data}))},clearPicture:function(){this.createform.api_thumbnail=[],this.imagepreviewer=""},closepreview:function(){this.preview=!1,this.viewingitem="-"},videoplayer:function(t){return"https://www.youtube.com/embed/"+t},defaultcreate:function(){this.imagepreviewer="",this.createform.api_name="",this.createform.api_description="",this.createform.api_thumbnail=[],this.createform.api_quantity=1,this.createform.api_available=1,this.createform.api_campus="",this.createform.api_faculty="",this.createform.api_videos=[]}}),computed:Object(n["a"])(Object(n["a"])({},Object(o["c"])(["get_user"])),{},{filterItems:function(){var t=this,e=this.filterinput.length>0?this.apiitemcollections:this.apiitemcollections.slice((this.currentPage-1)*this.perPage,this.currentPage*this.perPage);return e.filter((function(e){return e.api_name.toLowerCase().includes(t.filterinput.toLowerCase())}))},totalresult:function(){var t=this.items.length.toString();return"(".concat(t,")  ").concat(1==this.items.length?" item ":"items ","  found")},activecampus:function(){return 1==this.updatemode?this.createform.api_campus:this.updateform.api_campus},renderVideos:function(){return 1==this.updatemode?this.createform.api_videos:this.updateform.api_videos},watchpreview:function(){return this.preview},themebutton:function(){return"Delete"==this.formButton?"danger":"success"}}),watch:{activecampus:function(){this.getfaculty()}},created:function(){this.getItems()}},He=Ye,Qe=(a("0260"),Object(m["a"])(He,Te,Re,!1,null,"769ce2a3",null)),Ke=Qe.exports,Xe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app_next"},[a("b-container",{staticClass:"app_main_wrapper",attrs:{fluid:""}},[a("b-container",{staticClass:"app-center-all",attrs:{fluid:""}},[a("b-container",{attrs:{fluid:""}},[a("b-row",[a("b-col",{staticClass:"item-contentonly",attrs:{cols:1!=t.get_user.role?"6":"12"}},[a("div",{staticClass:"app-css-section-row"},[a("ul",{staticClass:"app-cus-ul"},[a("li",{staticClass:"app-cus-li",class:{app_activetab:1==t.settab},on:{click:function(e){return t.tabAction(1)}}},[t._v(" Active ("+t._s(t.activeonly.length)+") ")]),a("li",{staticClass:"app-cus-li",class:{app_activetab:2==t.settab},on:{click:function(e){return t.tabAction(2)}}},[t._v(" Search ")])]),a("div",{staticClass:"self-form"},[a("b-form",{staticClass:"search-form"},[a("label",{staticClass:"sr-only",attrs:{for:"inline-form-input-name"}},[t._v("Name")]),a("b-input",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{id:"inline-form-input-name",placeholder:"Search Borrowings"},model:{value:t.filterinput,callback:function(e){t.filterinput=e},expression:"filterinput"}}),2==t.settab?a("b-button",{staticClass:"ml-4 pl-5 pr-5",attrs:{variant:"primary"},on:{click:t.customsearch}},[t._v("Search")]):t._e()],1)],1),a("b-container",{staticClass:"app_topmargin",attrs:{fluid:""}},[1!=t.get_user.role?a("div",[a("p",{},[t._v("Select from borrowings below to preview")]),a("div",{staticClass:"text-center app-director"},[a("p",{staticClass:"mt-3"},[a("b-icon",{attrs:{icon:"chevron-right",scale:"1",rotate:"90","shift-h":"4",variant:"secondary"}})],1)])]):t._e()]),1==t.settab?[t.apiborrowings.length>0?[a("b-list-group",{attrs:{id:"itemList"}},t._l(t.filterborrowing,(function(e,i){return a("b-list-group-item",{key:i,staticClass:"d-flex align-items-center",on:{click:function(e){return t.setpreview(i)}}},[a("b-avatar",{staticClass:"mr-3",attrs:{src:e.api_borrower.api_picture}}),a("span",{staticClass:"mr-auto app_capitalize"},[t._v(t._s(e.api_borrower.api_name)+" "),a("small",{staticClass:"css_info"},[t._v("( "+t._s(e.api_item.api_name)+" )")])]),a("b-badge",[t._v(t._s(e.api_borrowdate)+" - "+t._s(e.api_returndate)+" ")])],1)})),1)]:[a("empty-content")]]:t._e(),2==t.settab?[Object.keys(t.pendingborrowing).length>0?[a("b-list-group",t._l(t.pendingborrowing,(function(e,i){return a("b-list-group-item",{key:i,staticClass:"d-flex align-items-center",on:{click:function(a){return t.setpendingpreview(e)}}},[a("b-avatar",{staticClass:"mr-3",attrs:{src:e.api_borrower.api_picture}}),a("span",{staticClass:"mr-auto app_capitalize"},[t._v(t._s(e.api_item.api_name)+" | "),a("small",[t._v(t._s(e.api_borrower.api_name))])]),a("b-badge",[t._v(t._s(e.api_borrowdate)+" - "+t._s(e.api_returndate)+" ")])],1)})),1)]:[a("empty-content")]]:t._e(),Object.keys(t.pendingborrowing).length<0?[t.searchempty?a("b-list-group-item",{staticClass:"app_roundedlist app_notifyerror app_2border d-flex justify-content-between align-items-center"},[a("b-badge",{attrs:{variant:"danger",pill:""}},[t._v("empty")]),a("span",{staticClass:"app_listchildright"},[a("span",[t._v("No record found for: "+t._s(t.filterinput))])])],1):a("div",{staticClass:"managecontent-form"},[a("div",{staticClass:"emptydisplay"},[a("h3",[t._v("EMPTY")])])])]:t._e(),t.filterborrowing.length>20?a("div",{staticClass:"mt-3"},[a("b-pagination",{attrs:{align:"center","per-page":t.perPage,"aria-controls":"itemList",pills:"","total-rows":t.apiborrowings.length},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1):t._e()],2)]),a("b-col"),a("b-col",{staticClass:"previewer-pane",attrs:{cols:"5"}},[a("div",{staticClass:"app_rounded app_padding30 app_plain"},[Object.keys(t.currentborrowing).length?[t.preview?[a("div",{staticClass:"preview-indicator"},[t.previewreload?a("b-skeleton",{attrs:{type:"input",animation:"throb",width:"20%"}}):a("div",{staticClass:"app_20padding text-center mb-4"},[a("h5",{staticClass:"previewer-header app_shader"},[t._v("PREVIEW BORROWING")])]),a("p",{staticClass:"previewx",on:{click:t.closepreview}},[a("b-icon",{attrs:{icon:"x-circle-fill",scale:"2.5",variant:"danger"}})],1)],1),[a("div",[t.previewreload?a("b-skeleton",{attrs:{type:"text",scale:"0.5",animation:"throb",width:"20%"}}):[a("div",{staticClass:" text-center"},[a("h3",{staticClass:"previewer-header"},[a("b-icon",{attrs:{icon:"journal-richtext",variant:"info"}}),t._v(" Borrowing Details ")],1)])]],2),a("b-row",[a("b-col",{attrs:{md:"12"}},[t.previewreload?[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),a("b-skeleton",{attrs:{animation:"throb",width:"55%"}})],1)]:[a("div",{staticClass:"text-center"},[a("p",[t._v("Borrowing ID")]),a("p",{staticClass:"app_id app_red app_1020padding app_rounded"},[t._v(" "+t._s(t.currentborrowing.api_id)+" ")])])]],2),a("b-col",{staticClass:"mt-5",attrs:{md:"6"}},[t.previewreload?a("b-skeleton-img",{staticClass:"mb-img-skeleten",attrs:{"no-aspect":"",height:"350px"}}):[t.currentborrowing?a("qrcode",{staticClass:"app_2border",attrs:{value:t.currentborrowing.api_id,options:{width:350}}}):t._e()]],2),a("b-col",{staticClass:"mt-5",attrs:{md:"6"}},[a("b-list-group",[t.previewreload?[a("b-list-group-item",{staticClass:"d-flex justify-content-around align-items-center"},[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),a("b-skeleton",{attrs:{animation:"throb",width:"55%"}})],1)]:[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("small",[t._v("Borrowing Status ")]),a("span",{staticClass:"app_id app_dark app_410padding app_rounded"},[t._v(t._s(t.thisbookingstatus()))])])],t.previewreload?[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),a("b-skeleton",{attrs:{animation:"throb",width:"55%"}})],1)]:[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("small",[t._v("Pick Date")]),a("span",[t._v(t._s(t.currentborrowing.api_borrowdate))])])],t.previewreload?[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),a("b-skeleton",{attrs:{animation:"throb",width:"55%"}})],1)]:[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("small",[t._v("Return Date")]),a("span",[t._v(t._s(t.currentborrowing.api_returndate))])])],t.previewreload?[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),a("b-skeleton",{attrs:{animation:"throb",width:"55%"}})],1)]:[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("small",[t._v("Reason")]),a("span",[t._v(t._s(t.currentborrowing.api_reason))])])],t.previewreload?[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),a("b-skeleton",{attrs:{animation:"throb",width:"55%"}})],1)]:[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-start"},[a("small",[t._v("Approved By")]),a("small",[t._v(t._s(t.thisapprovedby()))])])],2==t.currentborrowing.api_request.status?[t.previewreload?[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),a("b-skeleton",{attrs:{animation:"throb",width:"55%"}})],1)]:[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-start"},[a("small",[t._v("Return/Received By")]),a("small",[t._v(t._s(t.currentborrowing.api_request.receivedby))])])]]:t._e()],2)],1)],1)],[a("b-row",{staticClass:"mt-5"},[a("b-col",[a("b-container",{staticClass:"mb-item"},[a("div",{staticClass:"itemonly-header"},[a("div",[t.previewreload?a("b-skeleton",{attrs:{type:"text",scale:"0.5",animation:"throb",width:"20%"}}):[a("div",[a("h3",{staticClass:"previewer-header"},[a("b-icon",{attrs:{icon:"journal-richtext",variant:"info"}}),t._v(" Item Information ")],1)])]],2),t.previewreload?[a("span",{staticClass:"d-flex justify-content-between align-items-center"},[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),a("b-skeleton",{attrs:{animation:"throb",width:"55%"}})],1)]:[a("span",{staticClass:"openurl"},[a("b-icon",{staticStyle:{},attrs:{icon:"box-arrow-up-right"}}),a("a",{on:{click:function(e){return t.geturl(t.currentborrowing.api_item)}}},[t._v(" open url")])],1)]],2),a("b-row",[a("b-col",{staticClass:"mt-3",attrs:{md:"12"}},[t.previewreload?a("b-skeleton-img",{staticClass:"mb-img-skeleten",attrs:{"no-aspect":"",height:"150px"}}):a("b-img",{staticClass:"mb-image",attrs:{fluid:"",src:t.currentborrowing.api_item.api_thumbnail,alt:t.currentborrowing.api_item.api_name}}),a("b-list-group",[t.previewreload?[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),a("b-skeleton",{attrs:{animation:"throb",width:"55%"}})],1)]:[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("small",[t._v("Item Name")]),a("span",[t._v(t._s(t.currentborrowing.api_item.api_name))])])],t.previewreload?[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),a("b-skeleton",{attrs:{animation:"throb",width:"55%"}})],1)]:[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("small",[t._v("Campus")]),a("small",[t._v(t._s(t.currentborrowing.api_item.api_faculty.faculty+" @ "+t.currentborrowing.api_item.api_faculty.campus))])])],t.previewreload?[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),a("b-skeleton",{attrs:{animation:"throb",width:"55%"}})],1)]:[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("small",[t._v("Faculty")]),a("span",[t._v(t._s(t.currentborrowing.api_item.api_name))])])]],2)],1)],1)],1)],1),a("b-col",{attrs:{md:"6"}},[a("b-container",{staticClass:"mb-borrower",attrs:{md:"12"}},[t.previewreload?a("b-skeleton",{attrs:{type:"text",animation:"throb",width:"20%"}}):a("p",{staticClass:"previewer-header"},[t._v("Borrower Information")]),a("b-row",[a("b-col",{attrs:{md:"12"}},[t.previewreload?a("b-skeleton-img",{staticClass:"mb-img-skeleten",attrs:{"no-aspect":"",height:"150px"}}):a("b-img",{staticClass:"mb-image",attrs:{fluid:"",src:t.currentborrowing.api_borrower.api_picture,alt:t.currentborrowing.api_borrower.api_name}})],1),a("b-col",{attrs:{md:"12"}},[a("b-list-group",[t.previewreload?[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),a("b-skeleton",{attrs:{animation:"throb",width:"55%"}})],1)]:[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("small",[t._v("ID")]),a("span",{staticClass:"app_id app_dark app_410padding app_rounded"},[t._v(t._s(t.currentborrowing.api_borrower.api_id))])])],t.previewreload?[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),a("b-skeleton",{attrs:{animation:"throb",width:"55%"}})],1)]:[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("small",[t._v("Name")]),a("span",[t._v(t._s(t.currentborrowing.api_borrower.api_name))])])],t.previewreload?[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),a("b-skeleton",{attrs:{animation:"throb",width:"55%"}})],1)]:[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("small",[t._v("NIM")]),a("span",[t._v(t._s(t.currentborrowing.api_borrower.api_nim))])])],t.previewreload?[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),a("b-skeleton",{attrs:{animation:"throb",width:"55%"}})],1)]:[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("small",[t._v("E-mail")]),a("span",[t._v(t._s(t.currentborrowing.api_borrower.api_email))])])],t.previewreload?[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),a("b-skeleton",{attrs:{animation:"throb",width:"55%"}})],1)]:[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("small",[t._v("Campus / Faculty")]),a("small",[t._v(t._s(t.currentborrowing.api_borrower.api_faculty.faculty+" @ "+t.currentborrowing.api_item.api_faculty.campus))])])],t.previewreload?[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),a("b-skeleton",{attrs:{animation:"throb",width:"55%"}})],1)]:[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("small",[t._v("Contact")]),a("span",[t._v(t._s(t.currentborrowing.api_borrower.api_contact))])])]],2),a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-prevent-closing",modifiers:{"modal-prevent-closing":!0}}],staticClass:"mb-4 mt-4",attrs:{variant:"outline-secondary"}},[a("b-icon",{attrs:{icon:"inbox-fill","aria-hidden":"true"}}),t._v(" Message ")],1)],1)],1)],1)],1)],1)],a("div",{staticClass:"mb-control"},[t.previewreload?a("b-skeleton",{staticClass:"gb-skeleten",attrs:{type:"button",animation:"throb",width:"30%"}}):a("b-button-group",[2==t.currentborrowing.api_request.status?[a("b-button",{attrs:{disabled:"",variant:"success"}},[t._v("Completed "),a("b-icon",{attrs:{icon:"check"}})],1)]:[1==t.currentborrowing.api_request.status?[a("b-button",{attrs:{variant:"secondary"},on:{click:function(e){return t.formaction(2)}}},[t._v("Update")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(e){return t.formaction(5)}}},[t._v("Return")])]:t._e(),0==t.currentborrowing.api_request.status?a("b-button-group",[a("b-button",{attrs:{variant:"secondary"},on:{click:function(e){return t.formaction(2)}}},[t._v("Update")]),a("b-button",{attrs:{variant:"secondary"},on:{click:function(e){return t.formaction(3)}}},[t._v("Approve")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(e){return t.formaction(4)}}},[t._v("Reject")])],1):t._e()]],2),3==t.get_user.role?[t.previewreload?a("b-skeleton",{staticClass:"gb-skeleten",attrs:{type:"button",animation:"throb",width:"30%"}}):a("b-button",{attrs:{variant:"danger"},on:{click:function(e){return t.formaction(6)}}},[t._v("Delete")])]:t._e()],2)]:t._e()]:[a("empty-preview")]],2)])],1)],1)],1)],1),3==t.get_user.role&&0==t.preview?a("div",{staticClass:"app-create-action"},[a("b-button",{attrs:{variant:"success"},on:{click:function(e){return t.formaction(1)}}},[a("b-icon",{attrs:{icon:"plus-circle-fill"}}),t._v(" Borrowing ")],1)],1):t._e(),a("b-modal",{ref:"modal",attrs:{size:"xl",id:"modal-forms",title:t.formButton+" Borrowing",centered:""},on:{ok:t.form_navigator},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var i=e.ok,r=e.cancel;return[a("div",{staticClass:"w-100"},[a("b-button",{staticClass:"float-left",attrs:{variant:"danger"},on:{click:function(t){return r()}}},[t._v(" Cancel ")]),a("b-button",{staticClass:"float-right",attrs:{variant:"success"},on:{click:function(t){return i()}}},[t._v(" "+t._s(t.formButton)+" ")])],1)]}}])},[a("b-card",[a("form",{ref:"form",on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.form_navigator(e)}}},[1==t.updatemode?[a("b-form-group",{attrs:{id:"input-group-0",label:"Borrower"}},[a("b-form-row",[a("b-col",{attrs:{md:"12"}},[a("b-form-select",{attrs:{"value-field":"api_id","text-field":"api_firstname",options:t.userscollections,placeholder:"Choose Campus",required:""},on:{change:t.create_userpreview},model:{value:t.createform.api_borrower,callback:function(e){t.$set(t.createform,"api_borrower",e)},expression:"createform.api_borrower"}})],1),a("b-col",{staticClass:"mt-5",attrs:{md:"12"}},[Object.keys(t.displayselecteduser).length>0?[a("h5",[t._v("Borrower Information")]),a("b-row",[a("b-col",{attrs:{md:"6"}},[a("b-img",{staticClass:"mb-image",attrs:{fluid:"",src:t.displayselecteduser.api_picture,alt:t.displayselecteduser.api_name}})],1),a("b-col",{attrs:{md:"6"}},[a("b-list-group",[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[t._v(" Name "),a("span",[t._v(t._s(t.displayselecteduser.api_firstname)+" "+t._s(t.displayselecteduser.api_othernames))])]),a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[t._v(" Email "),a("span",[t._v(t._s(t.displayselecteduser.api_email))])]),a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[t._v(" "+t._s(1==t.displayselecteduser.api_role?"NIM":"Staff ID")+" "),a("span",[t._v(t._s(1==t.displayselecteduser.api_role?t.displayselecteduser.api_nim:t.displayselecteduser.api_staffid))])]),a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[t._v(" Contact "),a("span",[t._v(t._s(t.displayselecteduser.api_contact))])]),a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[t._v(" Campus "),a("span",[t._v(t._s(t.displayselecteduser.api_campus.api_name))])]),a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[t._v(" Faculty "),a("span",[t._v(t._s(t.displayselecteduser.api_faculty.api_name))])])],1)],1)],1)]:[a("empty-preview")]],2)],1),a("hr")],1),a("b-form-group",{attrs:{id:"input-group-00",label:"Item"}},[a("b-form-row",[a("b-col",{attrs:{md:"12"}},[a("b-form-select",{attrs:{"value-field":"api_id","text-field":"api_name",options:t.itemscollections,placeholder:"Choose Item",required:""},on:{change:t.create_itempreview},model:{value:t.createform.api_item,callback:function(e){t.$set(t.createform,"api_item",e)},expression:"createform.api_item"}})],1),a("b-col",{staticClass:"mt-5",attrs:{md:"12"}},[Object.keys(t.displayselecteditem).length>0?[a("h5",[t._v("Item Information")]),a("b-row",[a("b-col",{attrs:{md:"6"}},[a("b-img",{staticClass:"mb-image",attrs:{fluid:"",src:t.displayselecteditem.api_thumbnail,alt:t.displayselecteditem.api_name}})],1),a("b-col",{attrs:{md:"6"}},[a("b-list-group",[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[t._v(" Item Name "),a("span",[t._v(t._s(t.displayselecteditem.api_name))])]),a("b-list-group-item",{staticClass:"d-flex-row justify-content-between align-items-center"},[a("p",[t._v("Description")]),a("span",[t._v(t._s(t.displayselecteditem.api_description))])]),a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[t._v(" Campus "),a("span",[t._v(t._s(t.displayselecteditem.api_campus.api_name))])]),a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[t._v(" Faculty "),a("span",[t._v(t._s(t.displayselecteditem.api_faculty.api_name))])])],1)],1)],1)]:[a("empty-preview")]],2)],1)],1),a("b-form-group",{attrs:{id:"input-group-000",label:"Borrowing Information"}},[a("b-form-row",[a("b-col",{staticClass:"mt-5",attrs:{md:"12"}},[a("h5",[t._v("Item Information")]),a("b-row",[a("b-col",{attrs:{md:"6"}},[a("b-form-datepicker",{staticClass:"mb-2",attrs:{"date-format-options":{year:"numeric",month:"short",day:"2-digit",weekday:"short"}},model:{value:t.createform.api_borrowdate,callback:function(e){t.$set(t.createform,"api_borrowdate",e)},expression:"createform.api_borrowdate"}})],1),a("b-col",{attrs:{md:"6"}},[a("b-form-datepicker",{staticClass:"mb-2",attrs:{"date-format-options":{year:"numeric",month:"short",day:"2-digit",weekday:"short"}},model:{value:t.createform.api_returndate,callback:function(e){t.$set(t.createform,"api_returndate",e)},expression:"createform.api_returndate"}})],1)],1)],1)],1)],1),a("b-form-group",{attrs:{id:"input-group-0000",label:"Borrowing"}},[a("b-textarea",{model:{value:t.createform.api_reason,callback:function(e){t.$set(t.createform,"api_reason",e)},expression:"createform.api_reason"}})],1)]:t._e(),2==t.updatemode?[a("b-form-row",[a("b-col",[a("b-form-group",[a("h3",[t._v("Borrower Information")]),a("b-img",{staticClass:"mb-image",attrs:{fluid:"",src:t.currentborrowing.api_borrower.api_picture,alt:t.currentborrowing.api_borrower.api_name}}),a("b-list-group",[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[t._v(" Name "),a("span",[t._v(t._s(t.currentborrowing.api_borrower.api_name))])]),a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[t._v(" Email "),a("span",[t._v(t._s(t.currentborrowing.api_borrower.api_email))])]),a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[t._v(" NIM "),a("span",[t._v(t._s(t.currentborrowing.api_borrower.api_nim))])])],1)],1)],1),a("b-col",[a("b-form-group",[a("h3",[t._v("Item Information")]),a("b-img",{staticClass:"mb-image",attrs:{fluid:"",src:t.currentborrowing.api_item.api_thumbnail,alt:t.currentborrowing.api_item.api_name}}),a("b-list-group",[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[t._v(" Name "),a("span",[t._v(t._s(t.currentborrowing.api_item.api_name))])]),a("div",{staticClass:"app_divider"}),a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[t._v(" Campus "),a("span",[t._v(t._s(t.getfaculty(t.currentborrowing.api_item.api_faculty)))])])],1)],1)],1)],1),a("hr"),a("h3",[t._v("Borrowing Period")]),a("b-form-group",{staticClass:"mt-4"},[a("b-form-row",[a("b-col",[a("b-form-datepicker",{staticClass:"mb-2",attrs:{"date-format-options":{year:"numeric",month:"short",day:"2-digit",weekday:"short"}},model:{value:t.updateform.api_borrowdate,callback:function(e){t.$set(t.updateform,"api_borrowdate",e)},expression:"updateform.api_borrowdate"}})],1),a("b-col",[a("b-form-datepicker",{staticClass:"mb-2",attrs:{"date-format-options":{year:"numeric",month:"short",day:"2-digit",weekday:"short"}},model:{value:t.updateform.api_returndate,callback:function(e){t.$set(t.updateform,"api_returndate",e)},expression:"updateform.api_returndate"}})],1)],1),a("b-form-group",{attrs:{label:"Reason"}},[a("b-textarea",{attrs:{rows:"6"},model:{value:t.updateform.api_reason,callback:function(e){t.$set(t.updateform,"api_reason",e)},expression:"updateform.api_reason"}})],1)],1)]:t._e(),3==t.updatemode||4==t.updatemode||5==t.updatemode||6==t.updatemode?[a("div",{staticClass:"text-center mt-5"},[a("div",{staticClass:"css-deletewrapper"},[a("b-img",{staticClass:"css-userthumbnail",attrs:{src:t.currentborrowing.api_item.api_thumbnail,rounded:"circle",alt:"Get full name"}}),a("div",{staticClass:"text-center"},[a("p",[t._v("Borrowing ID")]),a("p",{staticClass:"app_id app_red app_1020padding app_rounded"},[t._v(" "+t._s(t.currentborrowing.api_id)+" ")])])],1)]),a("b-list-group",[a("div",{staticClass:"text-center mt-5"},[a("h3",[t._v("Borrowing Information")]),a("p",[t._v(" "+t._s(t.formButton)+" this item borrowed by "),a("span",{staticClass:"app_capitalize"},[t._v(t._s(t.currentborrowing.api_borrower.api_name))]),t._v("? ")])]),a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[t._v(" Item Name "),a("p",{staticClass:"app_capitalize"},[t._v(t._s(t.currentborrowing.api_item.api_name))])]),a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[t._v(" Borrower "),a("p",{staticClass:"app_capitalize"},[t._v(t._s(t.currentborrowing.api_borrower.api_name))])]),a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[t._v(" NIM "),a("p",[t._v(" "+t._s(t.currentborrowing.api_borrower.api_nim)+" ")])]),a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[t._v(" Borrowing Period "),a("p",[a("small",{staticClass:"ft"},[t._v("from")]),t._v(" "+t._s(t.currentborrowing.api_borrowdate)+" "),a("small",{staticClass:"ft"},[t._v("To")]),t._v(" "+t._s(t.currentborrowing.api_returndate)+" ")])])],1)]:t._e()],2)])],1),Object.keys(t.currentborrowing).length>0?a("b-modal",{ref:"modal",attrs:{size:"xl",id:"modal-prevent-closing",title:"Message",centered:""},on:{ok:t.sendMessage},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var i=e.ok,r=e.cancel;return[a("div",{staticClass:"w-100"},[a("b-button",{staticClass:"float-left",attrs:{variant:"danger"},on:{click:function(t){return r()}}},[t._v(" Cancel ")]),a("b-button",{staticClass:"float-right",attrs:{variant:"success"},on:{click:function(t){return i()}}},[t._v(" Send ")])],1)]}}],null,!1,2899833625)},[a("form",{ref:"form",on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.sendMessage(e)}}},[a("b-form-group",{attrs:{label:"Subject","label-for":"name-input","invalid-feedback":"Name is required"}},[a("b-form-input",{attrs:{id:"input-1",type:"email",required:"",disabled:"",placeholder:"Bookinig ID : "+t.currentborrowing.api_id.toString()}})],1),a("b-form-group",{attrs:{label:"Message","label-for":"name-input","invalid-feedback":"Name is required"}},[a("b-form-textarea",{attrs:{id:"textarea",placeholder:"Enter something...",rows:"9","max-rows":"12"},model:{value:t.messageform,callback:function(e){t.messageform=e},expression:"messageform"}})],1)],1)]):t._e()],1)},Ze=[],ta=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},ea=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"emptydisplay"},[a("h3",[t._v("EMPTY")])])}],aa={name:"empty-content"},ia=aa,ra=(a("2b09"),Object(m["a"])(ia,ta,ea,!1,null,"6849ac92",null)),sa=ra.exports,na={components:{EmptyContent:sa,EmptyPreview:dt},methods:Object(n["a"])(Object(n["a"])({},Object(o["b"])({apimyborrow:"apimyborrow",ex_getborrowings:"store_borrowings/ex_getborrowings",ex_create:"store_borrowings/ex_createborrowing",ex_update:"store_borrowings/ex_updateborrowing",ex_delete:"store_borrowings/ex_deleteborrowing",ex_approveorreturn:"store_borrowings/ex_approveborrowing",ex_postnewmessage:"ex_postnewmessage",ex_getusers:"ex_getusers",apiitems:"store_items/apiitems"})),{},{sendMessage:function(){var t=this,e={recipient:this.currentborrowing.api_borrower.api_id,subject:"booking id : "+this.currentborrowing.api_id,message:this.messageform};this.ex_postnewmessage(e).then((function(e){t.$bvToast.toast(e.message,{title:"Message",variant:200==e.status?"primary":"danger",solid:!0})}))},tabAction:function(t){this.settab=1==t?1:2},setactive:function(t){this.paneservice=t},print:function(){var t=document.getElementById("activecontent").innerHTML,e=document.body.innerHTML;document.body.innerHTML=t,window.print(),document.body.innerHTML=e},gotoitem:function(t){var e=this.$router.resolve({name:"Itemdetails",params:{item:t}});window.open(e.href,"_blank")},setpreview:function(t){var e=this;this.previewreload=!0,this.viewingitem=t,this.previewindex=t,setTimeout((function(){e.preview=!0,e.currentborrowing=e.filterborrowing[t],e.previewreload=!1}),1e3)},setpendingpreview:function(t){var e=this;this.previewreload=!0,setTimeout((function(){e.preview=!0,e.currentborrowing=t,e.previewreload=!1}),1e3)},geturl:function(t){var e=this.$router.resolve({name:"Itemdetails",params:{propscontent:t.api_id}});window.open(e.href,"_blank")},formaction:function(t){switch(this.updatemode=t,t){case 1:this.getusers();break;case 2:this.formButton="Update",this.updateform=JSON.parse(JSON.stringify(this.currentborrowing));break;case 3:this.formButton="Approve";break;case 4:this.formButton="Reject";break;case 5:this.formButton="Return";break;case 6:this.formButton="Delete";break}this.$bvModal.show("modal-forms")},form_navigator:function(){switch(this.updatemode){case 1:this.fn_create();break;case 2:this.preview=!1,this.fn_update();break;case 3:this.fn_approveorreturn(1);break;case 4:this.fn_reject();break;case 5:this.fn_approveorreturn(2);break;case 6:this.fn_delete();break}},fn_create:function(){var t=this;this.ex_create(this.createform).then((function(e){t.$bvToast.toast(e.message,{title:"Create Borrowing",variant:200==e.status?"primary":"danger",solid:!0}),t.preview=!1,t.defaultborrowing(),t.getborrowings()}))},fn_update:function(){var t=this,e={api_id:this.currentborrowing.api_id,api_data:this.updateform};this.ex_update(e).then((function(e){t.reload=!0,t.$bvToast.toast(e.message,{title:"Update Borrowing",variant:200==e.status?"primary":"danger",solid:!0}),200==e.status&&(t.preview=!1,t.getborrowings())})),this.reload=!1},fn_approveorreturn:function(t){var e=this;this.ex_approveorreturn({api_id:this.currentborrowing.api_id,action:t}).then((function(a){e.$bvToast.toast(a.message,{title:1==t?"Approve":"Return",variant:200==a.status?"primary":"danger",solid:!0}),e.preview=!1,e.getborrowings()}))},fn_reject:function(){var t=this;this.ex_delete(this.currentborrowing.api_id).then((function(e){t.$bvToast.toast(e.message,{title:"Reject",variant:200==e.status?"primary":"danger",solid:!0}),t.preview=!1,t.getborrowings()}))},fn_delete:function(){var t=this;this.ex_delete(this.currentborrowing.api_id).then((function(e){t.$bvToast.toast(e.message,{title:3==t.updatemode?"Approve":"Return",variant:200==e.status?"primary":"danger",solid:!0}),t.clearview()}))},getusers:function(){var t=this;this.ex_getusers().then((function(e){t.formButton="Create",t.userscollections=e.data})),this.apiitems().then((function(e){t.itemscollections=e.data}))},getfaculty:function(t){return"".concat(t.faculty+"@"+t.campus)},getborrowings:function(){var t=this;this.ex_getborrowings().then((function(e){t.apiborrowings=e.data,t.activeonly=t.apiborrowings.filter((function(t){return 1==t.api_request.status}))}))},clearview:function(){this.preview=!1,this.viewingitem="-",this.previewindex="-",this.currentborrowing={},this.settab=1,this.filterinput="",this.getborrowings()},thisbookingstatus:function(){switch(this.currentborrowing.api_request.status){case 0:return"Pending";case 1:return"Approved";case 2:return"Completed";default:return"N/A"}},thisapprovedby:function(){return this.currentborrowing.api_request.approvedby?this.currentborrowing.api_request.approvedby:"N/A"},customsearch:function(){var t=this,e=this.apiborrowings.filter((function(e){return e.api_id==t.filterinput}));e.length>0?(this.sample=e,this.pendingborrowing=e,this.$bvToast.toast("Borrowing found",{title:"Approve",variant:"primary",solid:!0})):this.searchempty=!0},closepreview:function(){this.preview=!1,this.viewingitem="-",this.previewindex="-",this.currentborrowing={}},create_userpreview:function(t){var e=this;this.userscollections.forEach((function(a){a.api_id==t&&(e.displayselecteduser=a)}))},create_itempreview:function(t){var e=this;this.itemscollections.forEach((function(a){a.api_id==t&&(e.displayselecteditem=a)}))},defaultborrowing:function(){this.createform={},this.displayselecteduser={}}}),data:function(){return{displayselecteduser:{},displayselecteditem:{},activeonly:[],usercode:"",searchempty:!1,viewingitem:"-",currentPage:1,perPage:30,apiborrowings:[],currentborrowing:{},settab:1,updatemode:0,formButton:"",filterinput:"",reload:!1,userscollections:[],itemscollections:[],preview:!1,previewindex:"-",previewreload:!1,query:!1,messageform:"",borrowingform:{},createform:{},updateform:{},campus:[],search:"",borrowingcode:"",itemscollection:[],borroweditems:[],pendingborrowing:{},sample:{},variant:"dark",paneservice:1,mainProps:{width:50,height:50,class:"m1"}}},computed:Object(n["a"])(Object(n["a"])({},Object(o["c"])(["get_user"])),{},{filterborrowing:function(){var t=this,e=this.activeonly.slice((this.currentPage-1)*this.perPage,this.currentPage*this.perPage);return e.filter((function(e){return e.api_borrower.api_name.toLowerCase().includes(t.filterinput.toLowerCase())||e.api_item.api_name.toLowerCase().includes(t.filterinput.toLowerCase())||e.api_borrowdate.includes(t.filterinput.toLowerCase())}))},watchtab:function(){return this.settab},checkreload:function(){return this.reload}}),watch:{watchtab:function(){this.preview=!1,this.currentborrowing={},this.filterinput="",this.pendingborrowing={}},checkreload:function(){this.preview=!1,this.currentborrowing={},this.pendingborrowing={},this.filterinput=""}},created:function(){this.getborrowings()}},oa=na,ca=(a("930b"),Object(m["a"])(oa,Xe,Ze,!1,null,"0ea7f1b4",null)),la=ca.exports,pa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{staticClass:"app_next",attrs:{fluid:""}},[a("b-container",{staticClass:"app_main_wrapper",attrs:{fluid:""}},[a("b-container",{staticClass:"app-center-all",attrs:{fluid:""}},[a("b-container",{attrs:{fluid:""}},[a("b-row",[a("b-col",{staticClass:"item-contentonly",attrs:{cols:1!=t.get_user.role?"6":"12"}},[a("div",{staticClass:"app-css-section-row"},[a("ul",{staticClass:"app-cus-ul"},[a("li",{staticClass:"app-cus-li",class:{app_activetab:1==t.settab},on:{click:function(e){return t.tabAction(1)}}},[t._v(" Active ("+t._s(t.activeonly.length)+") ")]),a("li",{staticClass:"app-cus-li",class:{app_activetab:2==t.settab},on:{click:function(e){return t.tabAction(2)}}},[t._v(" Search ")])]),a("div",{staticClass:"self-form"},[a("b-form",{staticClass:"search-form"},[a("label",{staticClass:"sr-only",attrs:{for:"inline-form-input-name"}},[t._v("Name")]),a("b-input",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{id:"inline-form-input-name",placeholder:"Search Borrowings"},model:{value:t.filterinput,callback:function(e){t.filterinput=e},expression:"filterinput"}}),2==t.settab?a("b-button",{staticClass:"ml-4 pl-5 pr-5",attrs:{variant:"primary"},on:{click:t.customsearch}},[t._v("Search")]):t._e()],1)],1),a("b-container",{staticClass:"app_topmargin",attrs:{fluid:""}},[a("div",[a("p",{},[t._v(" Select from campuses/faculties below to preview ")]),a("div",{staticClass:"text-center app-director"},[a("p",{staticClass:"mt-3"},[a("b-icon",{attrs:{icon:"chevron-right",scale:"1",rotate:"90","shift-h":"4",variant:"secondary"}})],1)])])]),a("b-container",{staticClass:"p-0 m-0",attrs:{fluid:"",card:""}},[[t.apiborrowings.length>0&&t.filterborrowing.length>0?[a("b-list-group",{attrs:{id:"itemList"}},t._l(t.filterborrowing,(function(e,i){return a("b-list-group-item",{key:i,staticClass:"d-flex align-items-center",on:{click:function(e){return t.setpreview(i)}}},[a("b-avatar",{staticClass:"mr-3",attrs:{src:e.api_borrower.api_picture}}),a("span",{staticClass:"mr-auto app_capitalize"},[t._v(t._s(e.api_borrower.api_name)+" "),a("small",{staticClass:"css_info"},[t._v("( "+t._s(e.api_item.api_name)+" )")]),t._v(" "),2==t.settab?a("span",[a("b-badge",{attrs:{pill:"",variant:"light"}},[t._v("status - "+t._s(t.thisbookingstatus(e.api_request.status)))])],1):t._e()]),a("b-badge",{attrs:{pill:"",variant:"secondary"}},[t._v(t._s(e.api_borrowdate)+" - "+t._s(e.api_returndate)+" ")])],1)})),1)]:[a("empty-content")]]],2)],1)]),a("b-col"),a("b-col",{staticClass:"previewer-pane",attrs:{md:"5"}},[a("div",{staticClass:"app_rounded app_padding30 app_plain"},[t.previewer?[a("div",{staticClass:"preview-indicator"},[t.previewreload?a("b-skeleton",{attrs:{type:"input",animation:"throb",width:"20%"}}):a("div",{staticClass:"app_20padding text-center mb-4"},[a("h5",{staticClass:"previewer-header app_shader"},[t._v(" PREVIEW BORROWING ")])]),a("p",{staticClass:"previewx",on:{click:t.closepreview}},[a("b-icon",{attrs:{icon:"x-circle-fill",scale:"2.5",variant:"danger"}})],1)],1),[a("div",[t.previewreload?a("b-skeleton",{attrs:{type:"text",scale:"0.5",animation:"throb",width:"20%"}}):[a("div",{staticClass:" text-center"},[a("h3",{staticClass:"previewer-header"},[a("b-icon",{attrs:{icon:"journal-richtext",variant:"info"}}),t._v(" Borrowing Details ")],1)])]],2),a("b-row",[a("b-col",{attrs:{md:"12"}},[t.previewreload?[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),a("b-skeleton",{attrs:{animation:"throb",width:"55%"}})],1)]:[a("div",{staticClass:"text-center"},[a("p",[t._v("Borrowing ID")]),a("p",{staticClass:"app_id app_red app_1020padding app_rounded"},[t._v(" "+t._s(t.currentview.api_id)+" ")])])]],2),a("b-col",{staticClass:"mt-5",attrs:{md:"6"}},[t.previewreload?a("b-skeleton-img",{staticClass:"mb-img-skeleten",attrs:{"no-aspect":"",height:"350px"}}):[t.currentview?a("qrcode",{staticClass:"app_2border",attrs:{value:t.currentview.api_id,options:{width:350}}}):t._e()]],2),a("b-col",{staticClass:"mt-5",attrs:{md:"6"}},[a("b-list-group",[t.previewreload?[a("b-list-group-item",{staticClass:"d-flex justify-content-around align-items-center"},[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),a("b-skeleton",{attrs:{animation:"throb",width:"55%"}})],1)]:[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("small",[t._v("Borrowing Status ")]),a("span",{staticClass:"app_id app_dark app_410padding app_rounded"},[t._v(t._s(t.thisbookingstatus(t.currentview.api_request.status)))])])],t.previewreload?[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),a("b-skeleton",{attrs:{animation:"throb",width:"55%"}})],1)]:[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("small",[t._v("Pick Date")]),a("span",[t._v(t._s(t.currentview.api_borrowdate))])])],t.previewreload?[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),a("b-skeleton",{attrs:{animation:"throb",width:"55%"}})],1)]:[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("small",[t._v("Return Date")]),a("span",[t._v(t._s(t.currentview.api_returndate))])])],t.previewreload?[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),a("b-skeleton",{attrs:{animation:"throb",width:"55%"}})],1)]:[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("small",[t._v("Reason")]),a("span",[t._v(t._s(t.currentview.api_reason))])])],t.previewreload?[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),a("b-skeleton",{attrs:{animation:"throb",width:"55%"}})],1)]:[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-start"},[a("small",[t._v("Approved By")]),a("small",[t._v(t._s(t.thisapprovedby()))])])],2==t.currentview.api_request.status?[t.previewreload?[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),a("b-skeleton",{attrs:{animation:"throb",width:"55%"}})],1)]:[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-start"},[a("small",[t._v("Return/Received By")]),a("small",[t._v(t._s(t.currentview.api_request.receivedby))])])]]:t._e()],2)],1)],1)],[a("b-row",{staticClass:"mt-5"},[a("b-col",[a("b-container",{staticClass:"mb-item"},[a("div",{staticClass:"itemonly-header"},[a("div",[t.previewreload?a("b-skeleton",{attrs:{type:"text",scale:"0.5",animation:"throb",width:"20%"}}):[a("div",[a("h3",{staticClass:"previewer-header"},[a("b-icon",{attrs:{icon:"journal-richtext",variant:"info"}}),t._v(" Item Information ")],1)])]],2),t.previewreload?[a("span",{staticClass:"d-flex justify-content-between align-items-center"},[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),a("b-skeleton",{attrs:{animation:"throb",width:"55%"}})],1)]:[a("span",{staticClass:"openurl"},[a("b-icon",{staticStyle:{},attrs:{icon:"box-arrow-up-right"}}),a("a",{on:{click:function(e){return t.geturl(t.currentview.api_item)}}},[t._v(" open url")])],1)]],2),a("b-row",[a("b-col",{staticClass:"mt-3",attrs:{md:"12"}},[t.previewreload?a("b-skeleton-img",{staticClass:"mb-img-skeleten",attrs:{"no-aspect":"",height:"150px"}}):a("b-img",{staticClass:"mb-image",attrs:{fluid:"",src:t.currentview.api_item.api_thumbnail,alt:t.currentview.api_item.api_name}}),a("b-list-group",[t.previewreload?[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),a("b-skeleton",{attrs:{animation:"throb",width:"55%"}})],1)]:[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("small",[t._v("Item Name")]),a("span",[t._v(t._s(t.currentview.api_item.api_name))])])],t.previewreload?[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),a("b-skeleton",{attrs:{animation:"throb",width:"55%"}})],1)]:[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("small",[t._v("Campus")]),a("small",[t._v(t._s(t.currentview.api_item.api_faculty.faculty+" @ "+t.currentview.api_item.api_faculty.campus))])])],t.previewreload?[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),a("b-skeleton",{attrs:{animation:"throb",width:"55%"}})],1)]:[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("small",[t._v("Faculty")]),a("span",[t._v(t._s(t.currentview.api_item.api_name))])])]],2)],1)],1)],1)],1),a("b-col",{attrs:{md:"6"}},[a("b-container",{staticClass:"mb-borrower",attrs:{md:"12"}},[t.previewreload?a("b-skeleton",{attrs:{type:"text",animation:"throb",width:"20%"}}):a("p",{staticClass:"previewer-header"},[t._v("Borrower Information")]),a("b-row",[a("b-col",{attrs:{md:"12"}},[t.previewreload?a("b-skeleton-img",{staticClass:"mb-img-skeleten",attrs:{"no-aspect":"",height:"150px"}}):a("b-img",{staticClass:"mb-image",attrs:{fluid:"",src:t.currentview.api_borrower.api_picture,alt:t.currentview.api_borrower.api_name}})],1),a("b-col",{attrs:{md:"12"}},[a("b-list-group",[t.previewreload?[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),a("b-skeleton",{attrs:{animation:"throb",width:"55%"}})],1)]:[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("small",[t._v("ID")]),a("span",{staticClass:"app_id app_dark app_410padding app_rounded"},[t._v(t._s(t.currentview.api_borrower.api_id))])])],t.previewreload?[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),a("b-skeleton",{attrs:{animation:"throb",width:"55%"}})],1)]:[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("small",[t._v("Name")]),a("span",[t._v(t._s(t.currentview.api_borrower.api_name))])])],t.previewreload?[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),a("b-skeleton",{attrs:{animation:"throb",width:"55%"}})],1)]:[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("small",[t._v("NIM")]),a("span",[t._v(t._s(t.currentview.api_borrower.api_nim))])])],t.previewreload?[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),a("b-skeleton",{attrs:{animation:"throb",width:"55%"}})],1)]:[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("small",[t._v("E-mail")]),a("span",[t._v(t._s(t.currentview.api_borrower.api_email))])])],t.previewreload?[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),a("b-skeleton",{attrs:{animation:"throb",width:"55%"}})],1)]:[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("small",[t._v("Campus / Faculty")]),a("small",[t._v(t._s(t.currentview.api_borrower.api_faculty.faculty+" @ "+t.currentview.api_item.api_faculty.campus))])])],t.previewreload?[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),a("b-skeleton",{attrs:{animation:"throb",width:"55%"}})],1)]:[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("small",[t._v("Contact")]),a("span",[t._v(t._s(t.currentview.api_borrower.api_contact))])])]],2),a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-prevent-closing",modifiers:{"modal-prevent-closing":!0}}],staticClass:"mb-4 mt-4",attrs:{variant:"outline-secondary"}},[a("b-icon",{attrs:{icon:"inbox-fill","aria-hidden":"true"}}),t._v(" Message ")],1)],1)],1)],1)],1)],1)],a("div",{staticClass:"mb-control"},[t.previewreload?a("b-skeleton",{staticClass:"gb-skeleten",attrs:{type:"button",animation:"throb",width:"30%"}}):a("b-button-group",[2==t.currentview.api_request.status?[a("b-button",{attrs:{disabled:"",variant:"success"}},[t._v("Completed "),a("b-icon",{attrs:{icon:"check"}})],1)]:[1==t.currentview.api_request.status?[a("b-button",{attrs:{variant:"secondary"},on:{click:function(e){return t.formaction(2)}}},[t._v("Update")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(e){return t.formaction(5)}}},[t._v("Return")])]:t._e(),0==t.currentview.api_request.status?a("b-button-group",[a("b-button",{attrs:{variant:"secondary"},on:{click:function(e){return t.formaction(2)}}},[t._v("Update")]),a("b-button",{attrs:{variant:"secondary"},on:{click:function(e){return t.formaction(3)}}},[t._v("Approve")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(e){return t.formaction(4)}}},[t._v("Reject")])],1):t._e()]],2),3==t.get_user.role?[t.previewreload?a("b-skeleton",{staticClass:"gb-skeleten",attrs:{type:"button",animation:"throb",width:"30%"}}):a("b-button",{attrs:{variant:"danger"},on:{click:function(e){return t.formaction(6)}}},[t._v("Delete")])]:t._e()],2)]:[a("empty-preview")]],2)])],1),3==t.get_user.role&&!1===t.preview?a("div",{staticClass:"app-create-action"},[a("b-button",{attrs:{variant:"success"},on:{click:function(e){return t.formaction(1)}}},[a("b-icon",{attrs:{icon:"plus-circle-fill"}}),t._v(" Borrowing")],1)],1):t._e()],1)],1)],1),a("b-modal",{ref:"modal",attrs:{size:"xl",id:"modal-forms",title:t.formButton,centered:""},on:{ok:t.form_navigator},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var i=e.ok,r=e.cancel;return[a("div",{staticClass:"w-100"},[a("b-button",{staticClass:"float-left",attrs:{variant:"outline-danger"},on:{click:function(t){return r()}}},[t._v(" Cancel ")]),a("b-button",{staticClass:"float-right",attrs:{variant:"Delete"!=t.formButton?"success":"danger"},on:{click:function(t){return i()}}},[t._v(" "+t._s(t.formButton)+" ")])],1)]}}])},[a("b-form",[a("b-card",[1==t.updatemode?[a("b-form",{on:{"~submit":function(e){return e.preventDefault(),t.form_navigator(e)}}},[a("b-card",{attrs:{"bg-variant":"light"}},[a("b-form-group",{attrs:{id:"input-group-0",label:"Borrower"}},[a("b-form-row",[a("b-col",{attrs:{md:"12"}},[a("b-form-select",{attrs:{"value-field":"api_id","text-field":"api_firstname",options:t.userscollections,placeholder:"Choose Campus",required:""},on:{change:t.create_userpreview},model:{value:t.createform.api_borrower,callback:function(e){t.$set(t.createform,"api_borrower",e)},expression:"createform.api_borrower"}})],1),a("b-col",{staticClass:"mt-5",attrs:{md:"12"}},[Object.keys(t.displayselecteduser).length>0?[a("h5",[t._v("Borrower Information")]),a("b-row",[a("b-col",{attrs:{md:"6"}},[a("b-img",{staticClass:"mb-image",attrs:{fluid:"",src:t.displayselecteduser.api_picture,alt:t.displayselecteduser.api_name}})],1),a("b-col",{attrs:{md:"6"}},[a("b-list-group",[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[t._v(" Name "),a("span",[t._v(t._s(t.displayselecteduser.api_firstname)+" "+t._s(t.displayselecteduser.api_othernames))])]),a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[t._v(" Email "),a("span",[t._v(t._s(t.displayselecteduser.api_email))])]),a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[t._v(" "+t._s(1==t.displayselecteduser.api_role?"NIM":"Staff ID")+" "),a("span",[t._v(t._s(1==t.displayselecteduser.api_role?t.displayselecteduser.api_nim:t.displayselecteduser.api_staffid))])]),a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[t._v(" Contact "),a("span",[t._v(t._s(t.displayselecteduser.api_contact))])]),a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[t._v(" Campus "),a("span",[t._v(t._s(t.displayselecteduser.api_campus.api_name))])]),a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[t._v(" Faculty "),a("span",[t._v(t._s(t.displayselecteduser.api_faculty.api_name))])])],1)],1)],1)]:[a("empty-preview")]],2)],1),a("hr")],1),a("b-form-group",{attrs:{id:"input-group-00",label:"Item"}},[a("b-form-row",[a("b-col",{attrs:{md:"12"}},[a("b-form-select",{attrs:{"value-field":"api_id","text-field":"api_name",options:t.itemscollections,placeholder:"Choose Item",required:""},on:{change:t.create_itempreview},model:{value:t.createform.api_item,callback:function(e){t.$set(t.createform,"api_item",e)},expression:"createform.api_item"}})],1),a("b-col",{staticClass:"mt-5",attrs:{md:"12"}},[Object.keys(t.displayselecteditem).length>0?[a("h5",[t._v("Item Information")]),a("b-row",[a("b-col",{attrs:{md:"6"}},[a("b-img",{staticClass:"mb-image",attrs:{fluid:"",src:t.displayselecteditem.api_thumbnail,alt:t.displayselecteditem.api_name}})],1),a("b-col",{attrs:{md:"6"}},[a("b-list-group",[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[t._v(" Item Name "),a("span",[t._v(t._s(t.displayselecteditem.api_name))])]),a("b-list-group-item",{staticClass:"d-flex-row justify-content-between align-items-center"},[a("p",[t._v("Description")]),a("span",[t._v(t._s(t.displayselecteditem.api_description))])]),a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[t._v(" Campus "),a("span",[t._v(t._s(t.displayselecteditem.api_campus.api_name))])]),a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[t._v(" Faculty "),a("span",[t._v(t._s(t.displayselecteditem.api_faculty.api_name))])])],1)],1)],1)]:[a("empty-preview")]],2)],1)],1),a("b-form-group",{attrs:{id:"input-group-000",label:"Borrowing Information"}},[a("b-form-row",[a("b-col",{staticClass:"mt-5",attrs:{md:"12"}},[a("h5",[t._v("Item Information")]),a("b-row",[a("b-col",{attrs:{md:"6"}},[a("b-form-datepicker",{staticClass:"mb-2",attrs:{"date-format-options":{year:"numeric",month:"short",day:"2-digit",weekday:"short"}},model:{value:t.createform.api_borrowdate,callback:function(e){t.$set(t.createform,"api_borrowdate",e)},expression:"createform.api_borrowdate"}})],1),a("b-col",{attrs:{md:"6"}},[a("b-form-datepicker",{staticClass:"mb-2",attrs:{"date-format-options":{year:"numeric",month:"short",day:"2-digit",weekday:"short"}},model:{value:t.createform.api_returndate,callback:function(e){t.$set(t.createform,"api_returndate",e)},expression:"createform.api_returndate"}})],1)],1)],1)],1)],1),a("b-form-group",{attrs:{id:"input-group-0000",label:"Borrowing"}},[a("b-textarea",{model:{value:t.createform.api_reason,callback:function(e){t.$set(t.createform,"api_reason",e)},expression:"createform.api_reason"}})],1)],1)],1)]:t._e(),2==t.updatemode?[a("b-form",{on:{"~submit":function(e){return e.preventDefault(),t.form_navigator(e)}}},[a("b-card",{attrs:{"bg-variant":"light"}},[a("b-form-row",[a("b-col",[a("b-form-group",[a("h3",[t._v("Borrower Information")]),a("b-img",{staticClass:"mb-image",attrs:{fluid:"",src:t.updateform.api_borrower.api_picture,alt:t.updateform.api_borrower.api_name}}),a("b-list-group",[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[t._v(" Name "),a("span",[t._v(t._s(t.updateform.api_borrower.api_name))])]),a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[t._v(" Email "),a("span",[t._v(t._s(t.updateform.api_borrower.api_email))])]),a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[t._v(" NIM "),a("span",[t._v(t._s(t.updateform.api_borrower.api_nim))])])],1)],1)],1),a("b-col",[a("b-form-group",[a("h3",[t._v("Item Information")]),a("b-img",{staticClass:"mb-image",attrs:{fluid:"",src:t.updateform.api_item.api_thumbnail,alt:t.updateform.api_item.api_name}}),a("b-list-group",[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[t._v(" Name "),a("span",[t._v(t._s(t.currentview.api_item.api_name))])]),a("div",{staticClass:"app_divider"}),a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[t._v(" Campus "),a("span",[t._v(t._s(t.getfaculty(t.updateform.api_item.api_faculty)))])])],1)],1)],1)],1),a("hr"),a("h3",[t._v("Borrowing Period")]),a("b-form-group",{staticClass:"mt-4"},[a("b-form-row",[a("b-col",[a("b-form-datepicker",{staticClass:"mb-2",attrs:{"date-format-options":{year:"numeric",month:"short",day:"2-digit",weekday:"short"}},model:{value:t.updateform.api_borrowdate,callback:function(e){t.$set(t.updateform,"api_borrowdate",e)},expression:"updateform.api_borrowdate"}})],1),a("b-col",[a("b-form-datepicker",{staticClass:"mb-2",attrs:{"date-format-options":{year:"numeric",month:"short",day:"2-digit",weekday:"short"}},model:{value:t.updateform.api_returndate,callback:function(e){t.$set(t.updateform,"api_returndate",e)},expression:"updateform.api_returndate"}})],1)],1),a("b-form-group",{attrs:{label:"Reason"}},[a("b-textarea",{attrs:{rows:"6"},model:{value:t.updateform.api_reason,callback:function(e){t.$set(t.updateform,"api_reason",e)},expression:"updateform.api_reason"}})],1)],1)],1)],1)]:t._e(),3==t.updatemode||4==t.updatemode||5==t.updatemode||6==t.updatemode?[a("b-form",{on:{"~submit":function(e){return e.preventDefault(),t.form_navigator(e)}}},[a("b-card",{attrs:{"bg-variant":"light"}},[a("div",{staticClass:"text-center mt-5"},[a("div",{staticClass:"css-deletewrapper"},[a("b-img",{staticClass:"css-userthumbnail",attrs:{src:t.currentview.api_item.api_thumbnail,rounded:"circle",alt:"Get full name"}}),a("div",{staticClass:"text-center"},[a("p",[t._v("Borrowing ID")]),a("p",{staticClass:"app_id app_red app_1020padding app_rounded"},[t._v(" "+t._s(t.currentview.api_id)+" ")])])],1)]),a("b-list-group",[a("div",{staticClass:"text-center mt-5"},[a("h3",[t._v("Borrowing Information")]),a("p",[t._v(" "+t._s(t.formButton)+" this item borrowed by "),a("span",{staticClass:"app_capitalize"},[t._v(t._s(t.currentview.api_borrower.api_name))]),t._v("? ")])]),a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[t._v(" Item Name "),a("p",{staticClass:"app_capitalize"},[t._v(t._s(t.currentview.api_item.api_name))])]),a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[t._v(" Borrower "),a("p",{staticClass:"app_capitalize"},[t._v(t._s(t.currentview.api_borrower.api_name))])]),a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[t._v(" NIM "),a("p",[t._v(" "+t._s(t.currentview.api_borrower.api_nim)+" ")])]),a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[t._v(" Borrowing Period "),a("p",[a("small",{staticClass:"ft"},[t._v("from")]),t._v(" "+t._s(t.currentview.api_borrowdate)+" "),a("small",{staticClass:"ft"},[t._v("To")]),t._v(" "+t._s(t.currentview.api_returndate)+" ")])])],1)],1)],1)]:t._e()],2)],1)],1),a("b-modal",{ref:"modal",attrs:{centered:"",id:"modal-confirmation","header-bg-variant":"danger","header-text-variant":"light",title:"Confirm Action"},on:{ok:t.confirm_modelAction,cancel:t.onConfirmCancel},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var i=e.ok,r=e.cancel;return[a("div",{staticClass:"w-100"},[a("b-button",{staticClass:"float-left",attrs:{variant:"outline-danger"},on:{click:function(t){return r()}}},[t._v(" Cancel ")]),a("b-button",{staticClass:"float-right",attrs:{variant:"danger"},on:{click:function(t){return i()}}},[t._v(" Continue ")])],1)]}}])},[a("b-card",{ref:"form",on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.modalConfirmAction(e)}}},[a("div",{staticClass:"text-center"},[a("b-icon",{staticStyle:{width:"80px",height:"80px"},attrs:{icon:"exclamation-circle"}}),a("h5",[t._v("Are you sure about this ?")])],1)])],1),Object.keys(t.currentview).length>0?a("b-modal",{ref:"modal",attrs:{size:"xl",id:"modal-prevent-closing",title:"Message",centered:""},on:{ok:t.sendMessage},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var i=e.ok,r=e.cancel;return[a("div",{staticClass:"w-100"},[a("b-button",{staticClass:"float-left",attrs:{variant:"danger"},on:{click:function(t){return r()}}},[t._v(" Cancel ")]),a("b-button",{staticClass:"float-right",attrs:{variant:"success"},on:{click:function(t){return i()}}},[t._v(" Send ")])],1)]}}],null,!1,2899833625)},[a("form",{ref:"form",on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.sendMessage(e)}}},[a("b-form-group",{attrs:{label:"Subject","label-for":"name-input","invalid-feedback":"Name is required"}},[a("b-form-input",{attrs:{id:"input-1",type:"email",required:"",disabled:"",placeholder:"Bookinig ID : "+t.currentview.api_id.toString()}})],1),a("b-form-group",{attrs:{label:"Message","label-for":"name-input","invalid-feedback":"Name is required"}},[a("b-form-textarea",{attrs:{id:"textarea",placeholder:"Enter something...",rows:"9","max-rows":"12"},model:{value:t.messageform,callback:function(e){t.messageform=e},expression:"messageform"}})],1)],1)]):t._e()],1)},ua=[],ma=(a("c740"),a("a15b"),a("ac1f"),a("466d"),{name:"app_campusescollection",components:{EmptyContent:sa,EmptyPreview:dt},data:function(){return{apiborrowings:[],allborrowing:[],currentborrowing:{},userscollections:[],itemscollections:[],displayselecteduser:{},displayselecteditem:{},usercode:"",searchempty:!1,messageform:"",borrowingform:{},createform:{},updateform:{},pendingborrowing:{},apicampusescollection:[],apifacultycollection:[],imagepreviewer:"",file:"",setmodal:0,updatemode:0,confirmation:!1,rows:100,perPage:1,viewingitem:"",currentPage:1,settab:0,preview:!1,previewindex:"-",tabIndex:0,facultyedit:"false",addfacultyform:{api_id:"",api_thumbnail:[]},facultyform:{api_name:"",api_description:""},currentview:{},campusform:{api_name:"",api_thumbnail:[],api_description:"",api_address:"",api_email:""},campuscreateform:{api_name:"",api_thumbnail:[],api_description:"",api_address:"",api_contact:"",api_email:""},passwordvalue:"",selected:"A",show_updatemodal:!1,show_createcampus:!1,show_deletecampus:!1,previewreload:!1,search:"",filterinput:"",pendingcampus:[],variant:"dark",role:[{value:1,text:"Student"},{value:2,text:"Staff"},{value:3,text:"Admin"}],campus:[],faculty:[],campusfaculties:[],formButton:"",activeonly:[]}},methods:Object(n["a"])(Object(n["a"])({},Object(o["b"])({ex_campusfaculties:"store_campuses/ex_campusfaculties",apicampuses:"store_campuses/apicampuses",ex_campuses:"store_campuses/ex_campuses",ex_campusupdate:"store_campuses/ex_campusupdate",ex_querycampusfaculty:"store_campuses/ex_querycampusfaculty",ex_addcampusfaculty:"store_campuses/ex_addcampusfaculty",ex_faculties:"store_campuses/ex_faculties",ex_putfaculty:"store_campuses/ex_putfaculty",ex_getfaculties:"store_campuses/ex_getfaculties",ex_unmapfaculty:"store_campuses/ex_unmapfaculty",ex_deletecampus:"store_campuses/ex_deletecampus",ex_deletefaculty:"store_campuses/ex_deletefaculty",apimyborrow:"apimyborrow",ex_getborrowings:"store_borrowings/ex_getborrowings",ex_create:"store_borrowings/ex_createborrowing",ex_update:"store_borrowings/ex_updateborrowing",ex_delete:"store_borrowings/ex_deleteborrowing",ex_approveorreturn:"store_borrowings/ex_approveborrowing",ex_postnewmessage:"ex_postnewmessage",ex_getusers:"ex_getusers",apiitems:"store_items/apiitems"})),{},{tabAction:function(t){1==t?this.getborrowings():this.getfaculties(),this.settab=t},confirm_modelAction:function(t){t.preventDefault(),this.modalConfirmAction()},modalConfirmAction:function(){var t=this;this.confirmation?this.$nextTick((function(){t.$bvModal.hide("modal-confirmation"),t.$bvModal.show("modal-forms"),t.confirmation=!1})):this.$bvModal.show("modal-forms")},onConfirmCancel:function(){this.confirmation=!1,this.defaultborrowing()},getcampuses:function(){var t=this;this.ex_campusfaculties().then((function(e){t.apicampusescollection=e.data.filter((function(t){return 20201205125211!==t.api_id})),t.settab=1}))},getfaculties:function(){var t=this;this.ex_getfaculties().then((function(e){t.apifacultycollection=e.data.filter((function(t){return"admin"!=t.api_name}))})),this.settab=2},setpreview:function(t){var e=this;this.previewreload=!0,setTimeout((function(){e.preview=!0,e.previewindex=t,e.currentview=JSON.parse(JSON.stringify(e.filterborrowing[t])),e.previewreload=!1}),500)},setpendingpreview:function(t){var e=this;this.previewreload=!0,setTimeout((function(){e.preview=!0,e.currentview=t,e.previewreload=!1}),1e3)},formaction:function(t){switch(this.updatemode=t,t){case 1:this.getusers();break;case 2:this.updateform=JSON.parse(JSON.stringify(this.currentview)),this.formButton="Update";break;case 3:this.formButton="Approve";break;case 4:this.formButton="Reject";break;case 5:this.formButton="Return";break;case 6:this.formButton="Delete";break}this.confirmation?this.$bvModal.show("modal-confirmation"):this.$bvModal.show("modal-forms")},geturl:function(t){var e=this.$router.resolve({name:"Itemdetails",params:{propscontent:t.api_id}});window.open(e.href,"_blank")},countfaculty:function(){return this.apifacultycollection.length},fn_cancelupdate:function(){this.show_updatemodal=!1,this.form={}},form_navigator:function(){switch(this.updatemode){case 1:this.fn_create();break;case 2:this.fn_update();break;case 3:this.fn_approveorreturn(1);break;case 4:this.fn_reject();break;case 5:this.fn_approveorreturn(2);break;case 6:this.fn_delete();break}},fn_create:function(){var t=this;this.ex_create(this.createform).then((function(e){t.$bvToast.toast(e.message,{title:"Create Borrowing",variant:200==e.status?"primary":"danger",solid:!0}),200==e.status&&(t.defaultborrowing(),t.clearview())}))},fn_update:function(){var t=this,e={api_id:this.currentview.api_id,api_data:this.updateform};this.ex_update(e).then((function(e){t.$bvToast.toast(e.message,{title:"Update Borrowing",variant:200==e.status?"primary":"danger",solid:!0}),200==e.status&&t.clearview()}))},fn_approveorreturn:function(t){var e=this;this.ex_approveorreturn({api_id:this.currentview.api_id,action:t}).then((function(a){e.$bvToast.toast(a.message,{title:1==t?"Approve":"Return",variant:200==a.status?"primary":"danger",solid:!0}),200==a.status&&e.clearview()}))},fn_reject:function(){var t=this;this.ex_delete(this.currentview.api_id).then((function(e){t.$bvToast.toast(e.message,{title:"Reject",variant:200==e.status?"primary":"danger",solid:!0}),200==e.status&&(t.defaultborrowing(),t.clearview())}))},fn_delete:function(){var t=this;this.ex_delete(this.currentview.api_id).then((function(e){t.$bvToast.toast(e.message,{title:3==t.updatemode?"Approve":"Return",variant:200==e.status?"primary":"danger",solid:!0}),200==e.status&&(t.preview=!1,t.currentview=t.activeonly[0]),t.clearview()}))},get_campusheader:function(){return 1==this.currentview.api_role?"NIM":"Staff ID"},get_campusidentity:function(){return 1==this.currentview.api_role?this.currentview.api_nim:this.currentview.api_staffid},generatepassword:function(){var t=Math.random().toString(36).substring(2,6)+Math.random().toString(36).substring(2,8);this.passwordvalue=t,this.form.api_password=t},getfacultyapi:function(){},fn_showcreatecampus:function(){this.show_createcampus=!0},abbreviate:function(t){var e=t.match(/\b(\w)/g),a=e.join("");return a},updatefaculty:function(){var t=this,e={faculty:this.currentview.api_id,api_name:this.facultyform.api_name,api_description:this.facultyform.api_description};this.ex_putfaculty(e).then((function(e){t.$bvToast.toast(e.message,{title:"Update Faculty",variant:200==e.status?"primary":"danger",solid:!0})})),this.clearFacultyView()},clearview:function(){this.preview=0,this.getborrowings()},clearFacultyView:function(){this.preview=0,this.getfaculties(),this.settab=2},customsearch:function(){var t=this,e=this.apiborrowings.filter((function(e){return e.api_id==t.filterinput}));e.length>0?(this.sample=e,this.pendingborrowing=e,this.$bvToast.toast("Borrowing found",{title:"Approve",variant:"primary",solid:!0})):this.searchempty=!0},closepreview:function(){this.preview=!1},uploadImage:function(t){var e=t.target.files[0];this.file=t.target.files[0],this.imagepreviewer=URL.createObjectURL(e),URL.revokeObjectURL(e)},clearPicture:function(){this.campuscreateform.api_thumbnail=[],this.imagepreviewer="",this.file=""},setThumbnail:function(){return this.file?this.file:null},getborrowings:function(){var t=this;this.ex_getborrowings().then((function(e){t.apiborrowings=e.data,t.settab=1}))},getfaculty:function(t){return"".concat(t.faculty+"@"+t.campus)},thisbookingstatus:function(t){switch(t){case 0:return"Pending";case 1:return"Approved";case 2:return"Completed";default:return"N/A"}},thisapprovedby:function(){return this.currentview.api_request.approvedby?this.currentview.api_request.approvedby:"N/A"},getusers:function(){var t=this;this.ex_getusers().then((function(e){t.formButton="Create",t.userscollections=e.data})),this.apiitems().then((function(e){t.itemscollections=e.data}))},create_userpreview:function(t){var e=this;this.userscollections.forEach((function(a){a.api_id==t&&(e.displayselecteduser=a)}))},create_itempreview:function(t){var e=this;this.itemscollections.forEach((function(a){a.api_id==t&&(e.displayselecteditem=a)}))},sendMessage:function(){var t=this,e={recipient:this.currentview.api_borrower.api_id,subject:"booking id : "+this.currentview.api_id,message:this.messageform};this.ex_postnewmessage(e).then((function(e){t.$bvToast.toast(e.message,{title:"Message",variant:200==e.status?"primary":"danger",solid:!0})}))},defaultborrowing:function(){this.createform={},this.displayselecteduser={},this.displayselecteditem={}}}),computed:Object(n["a"])(Object(n["a"])({},Object(o["c"])(["get_user"])),{},{searchtype:function(){return this.settab},filterborrowing:function(){var t=this;return(1==this.settab?this.activeonly:this.allborrowing).filter((function(e){return e.api_id.toString().includes(t.filterinput.toString())||e.api_borrower.api_name.toLowerCase().includes(t.filterinput.toLowerCase())||e.api_item.api_name.toLowerCase().includes(t.filterinput.toLowerCase())||e.api_borrowdate.includes(t.filterinput.toLowerCase())}))},checkcampus:function(){return this.campusform.api_campus},whichmodal:function(){return this.setmodal},previewer:function(){return this.preview},watchtab:function(){return this.settab}}),watch:{searchtype:function(){var t=this;this.previewreload=!0,setTimeout((function(){t.previewreload=!1,t.preview=!1}),1e3)},checkcampus:function(){var t=this,e=this.campus.findIndex((function(e){return e.api_id==t.campusform.api_campus}));this.campusfaculties=this.campus[e].api_faculties},whichmodal:function(){this.show_createcampus=!0},watchtab:function(t){this.preview=!1,this.currentview={},this.filterinput="",this.pendingborrowing={},1==t?this.activeonly=this.apiborrowings.filter((function(t){return 1==t.api_request.status})):this.allborrowing=this.apiborrowings}},created:function(){this.getborrowings()}}),da=ma,fa=(a("fcb5"),Object(m["a"])(da,pa,ua,!1,null,"14913002",null)),ba=fa.exports,_a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app_next"},[a("b-container",{staticClass:"app_main_wrapper",attrs:{fluid:""}},[a("b-container",{staticClass:"app-center-all",attrs:{fluid:""}},[a("b-container",{attrs:{fluid:""}},[a("b-row",[a("b-col",{staticClass:"item-contentonly",attrs:{cols:"6"}},[a("div",{staticClass:"app-css-section-row"},[a("ul",{staticClass:"app-cus-ul"},[a("li",{staticClass:"app-cus-li",class:{app_activetab:1==t.settab},on:{click:function(e){return t.tabAction(1)}}},[t._v(" Active ("+t._s(t.activeonly.length)+") ")]),a("li",{staticClass:"app-cus-li",class:{app_activetab:2==t.settab},on:{click:function(e){return t.tabAction(2)}}},[t._v(" Completed ")])]),a("div",{staticClass:"self-form"},[a("b-form",{staticClass:"search-form"},[a("label",{staticClass:"sr-only",attrs:{for:"inline-form-input-name"}},[t._v("Name")]),a("b-input",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{id:"inline-form-input-name",placeholder:"Search Borrowings"},model:{value:t.filterinput,callback:function(e){t.filterinput=e},expression:"filterinput"}}),2==t.settab?a("b-button",{staticClass:"ml-4 pl-5 pr-5",attrs:{variant:"primary"},on:{click:t.customsearch}},[t._v("Search")]):t._e()],1)],1),a("b-container",{staticClass:"app_topmargin",attrs:{fluid:""}},[1!=t.get_user.role?a("div",[a("p",{},[t._v("Select from borrowings below to preview")]),a("div",{staticClass:"text-center app-director"},[a("p",{staticClass:"mt-3"},[a("b-icon",{attrs:{icon:"chevron-right",scale:"1",rotate:"90","shift-h":"4",variant:"secondary"}})],1)])]):t._e()]),1==t.settab?[t.apiborrowings.length>0?[a("b-list-group",{attrs:{id:"itemList"}},t._l(t.filterborrowing,(function(e,i){return a("b-list-group-item",{key:i,staticClass:"d-flex align-items-center",on:{click:function(e){return t.setpreview(i)}}},[a("b-avatar",{staticClass:"mr-3",attrs:{src:e.api_item.api_thumbnail}}),a("span",{staticClass:"mr-auto app_capitalize"},[t._v(t._s(e.api_item.api_name)+" | "),a("b-badge",[t._v(t._s(t.thisbookingstatus(e.api_request))+" ")])],1),a("b-badge",[t._v(t._s(e.api_borrowdate)+" - "+t._s(e.api_returndate)+" ")])],1)})),1)]:[a("empty-content")]]:t._e(),2==t.settab?[t.pendingborrowing.length>0?[a("b-list-group",t._l(t.pendingborrowing,(function(e,i){return a("b-list-group-item",{key:i,staticClass:"d-flex align-items-center",on:{click:function(e){t.preview=!0}}},[a("b-avatar",{staticClass:"mr-3",attrs:{src:e.api_borrower.api_picture}}),a("span",{staticClass:"mr-auto app_capitalize"},[t._v(t._s(e.api_item.api_name)+" | "),a("small",[t._v(t._s(e.api_borrower.api_name))])]),a("b-badge",[t._v(t._s(e.api_borrowdate)+" - "+t._s(e.api_returndate)+" ")])],1)})),1)]:[a("empty-content")]]:t._e(),t.pendingborrowing.length<0?[a("div",{staticClass:"managecontent-form"},[a("div",{staticClass:"emptydisplay"},[a("h3",[t._v("EMPTY")])])])]:t._e(),t.searchempty?[a("b-list-group-item",{staticClass:"app_roundedlist app_notifyerror app_2border d-flex justify-content-between align-items-center"},[a("b-badge",{attrs:{variant:"danger",pill:""}},[t._v("empty")]),a("span",{staticClass:"app_listchildright"},[a("span",[t._v("No record found for: "+t._s(t.filterinput))])])],1)]:t._e(),t.filterborrowing.length>20?a("div",{staticClass:"mt-3"},[a("b-pagination",{attrs:{align:"center","per-page":t.perPage,"aria-controls":"itemList",pills:"","total-rows":t.apiborrowings.length},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1):t._e()],2)]),a("b-col"),a("b-col",{staticClass:"previewer-pane",attrs:{cols:"5"}},[a("div",{staticClass:"app_rounded app_padding30 app_plain"},[!1===t.preview?[a("empty-preview")]:[a("div",{staticClass:"preview-indicator"},[t.previewreload?a("b-skeleton",{attrs:{type:"input",animation:"throb",width:"20%"}}):a("div",{staticClass:"app_20padding text-center mb-4"},[a("h5",{staticClass:"previewer-header app_shader"},[t._v("PREVIEW BORROWING")])]),a("p",{staticClass:"previewx",on:{click:t.closepreview}},[a("b-icon",{attrs:{icon:"x-circle-fill",scale:"2.5",variant:"danger"}})],1)],1),a("div",{attrs:{id:"activecontent"}},[[a("div",[t.previewreload?a("b-skeleton",{attrs:{type:"text",scale:"0.5",animation:"throb",width:"20%"}}):[a("div",{staticClass:" text-center"},[a("h3",{staticClass:"previewer-header"},[a("b-icon",{attrs:{icon:"journal-richtext",variant:"info"}}),t._v(" Borrowing Details ")],1)])]],2),a("b-row",[a("b-col",{attrs:{md:"12"}},[t.previewreload?[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),a("b-skeleton",{attrs:{animation:"throb",width:"55%"}})],1)]:[a("div",{staticClass:"text-center"},[a("p",[t._v("Borrowing ID")]),a("p",{staticClass:"app_id app_red app_1020padding app_rounded"},[t._v(" "+t._s(t.currentborrowing.api_id)+" ")])])]],2),a("b-col",{staticClass:"mt-5",attrs:{md:"6"}},[t.previewreload?a("b-skeleton-img",{staticClass:"mb-img-skeleten",attrs:{"no-aspect":"",height:"350px"}}):[t.currentborrowing?a("qrcode",{staticClass:"app_2border",attrs:{value:t.currentborrowing.api_id,options:{width:350}}}):t._e()]],2),a("b-col",{staticClass:"mt-5",attrs:{md:"6"}},[a("b-list-group",[t.previewreload?[a("b-list-group-item",{staticClass:"d-flex justify-content-around align-items-center"},[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),a("b-skeleton",{attrs:{animation:"throb",width:"55%"}})],1)]:[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("small",[t._v("Borrowing Status ")]),a("span",{staticClass:"app_id app_dark app_410padding app_rounded"},[t._v(t._s(t.thisbookingstatus(t.currentborrowing.api_request)))])])],t.previewreload?[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),a("b-skeleton",{attrs:{animation:"throb",width:"55%"}})],1)]:[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("small",[t._v("Pick Date")]),a("span",[t._v(t._s(t.currentborrowing.api_borrowdate))])])],t.previewreload?[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),a("b-skeleton",{attrs:{animation:"throb",width:"55%"}})],1)]:[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("small",[t._v("Return Date")]),a("span",[t._v(t._s(t.currentborrowing.api_returndate))])])],t.previewreload?[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),a("b-skeleton",{attrs:{animation:"throb",width:"55%"}})],1)]:[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("small",[t._v("Reason")]),a("span",[t._v(t._s(t.currentborrowing.api_reason))])])],2==t.currentborrowing.api_request.status?[t.previewreload?[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),a("b-skeleton",{attrs:{animation:"throb",width:"55%"}})],1)]:[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-start"},[a("small",[t._v("Return/Received By")]),a("small",[t._v(t._s(t.currentborrowing.api_request.receivedby))])])]]:t._e()],2)],1)],1)],[a("b-row",{staticClass:"mt-5"},[a("b-col",[a("b-container",{staticClass:"mb-item"},[a("div",{staticClass:"itemonly-header"},[a("div",[t.previewreload?a("b-skeleton",{attrs:{type:"text",scale:"0.5",animation:"throb",width:"20%"}}):[a("div",[a("h3",{staticClass:"previewer-header"},[a("b-icon",{attrs:{icon:"journal-richtext",variant:"info"}}),t._v(" Item Information ")],1)])]],2)]),a("b-row",[a("b-col",{staticClass:"mt-3",attrs:{md:"12"}},[t.previewreload?a("b-skeleton-img",{staticClass:"mb-img-skeleten",attrs:{"no-aspect":"",height:"150px"}}):a("b-img",{staticClass:"mb-image",attrs:{fluid:"",src:t.currentborrowing.api_item.api_thumbnail,alt:t.currentborrowing.api_item.api_name}}),a("b-list-group",[t.previewreload?[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),a("b-skeleton",{attrs:{animation:"throb",width:"55%"}})],1)]:[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("small",[t._v("Item Name")]),a("span",[t._v(t._s(t.currentborrowing.api_item.api_name))])])],t.previewreload?[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),a("b-skeleton",{attrs:{animation:"throb",width:"55%"}})],1)]:[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("small",[t._v("Campus")]),a("small",[t._v(t._s(t.currentborrowing.api_item.api_faculty.faculty+" @ "+t.currentborrowing.api_item.api_faculty.campus))])])],t.previewreload?[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),a("b-skeleton",{attrs:{animation:"throb",width:"55%"}})],1)]:[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("small",[t._v("Faculty")]),a("span",[t._v(t._s(t.currentborrowing.api_item.api_name))])])]],2)],1)],1)],1)],1),a("b-col",{attrs:{md:"6"}},[a("b-container",{staticClass:"mb-borrower",attrs:{md:"12"}},[t.previewreload?a("b-skeleton",{attrs:{type:"text",animation:"throb",width:"20%"}}):a("p",{staticClass:"previewer-header"},[t._v("Borrower Information")]),a("b-row",[a("b-col",{attrs:{md:"12"}},[t.previewreload?a("b-skeleton-img",{staticClass:"mb-img-skeleten",attrs:{"no-aspect":"",height:"150px"}}):a("b-img",{staticClass:"mb-image",attrs:{fluid:"",src:t.currentborrowing.api_borrower.api_picture,alt:t.currentborrowing.api_borrower.api_name}})],1),a("b-col",{attrs:{md:"12"}},[a("b-list-group",[t.previewreload?[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),a("b-skeleton",{attrs:{animation:"throb",width:"55%"}})],1)]:[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("small",[t._v("ID")]),a("span",{staticClass:"app_id app_dark app_410padding app_rounded"},[t._v(t._s(t.currentborrowing.api_borrower.api_id))])])],t.previewreload?[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),a("b-skeleton",{attrs:{animation:"throb",width:"55%"}})],1)]:[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("small",[t._v("Name")]),a("span",[t._v(t._s(t.currentborrowing.api_borrower.api_name))])])],t.previewreload?[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),a("b-skeleton",{attrs:{animation:"throb",width:"55%"}})],1)]:[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("small",[t._v("NIM")]),a("span",[t._v(t._s(t.currentborrowing.api_borrower.api_nim))])])],t.previewreload?[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),a("b-skeleton",{attrs:{animation:"throb",width:"55%"}})],1)]:[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("small",[t._v("E-mail")]),a("span",[t._v(t._s(t.currentborrowing.api_borrower.api_email))])])],t.previewreload?[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),a("b-skeleton",{attrs:{animation:"throb",width:"55%"}})],1)]:[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("small",[t._v("Campus / Faculty")]),a("small",[t._v(t._s(t.currentborrowing.api_borrower.api_faculty.faculty+" @ "+t.currentborrowing.api_item.api_faculty.campus))])])],t.previewreload?[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),a("b-skeleton",{attrs:{animation:"throb",width:"55%"}})],1)]:[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("small",[t._v("Contact")]),a("span",[t._v(t._s(t.currentborrowing.api_borrower.api_contact))])])]],2)],1)],1)],1)],1)],1)]],2),a("b-button",{staticClass:"mb-4 mt-5",attrs:{size:"xl",variant:"dark"},on:{click:t.print}},[a("b-icon",{attrs:{icon:"printer-fill","aria-hidden":"true"}}),t._v(" Print ")],1)]],2)])],1)],1)],1)],1)],1)},ha=[],va=a("2909"),ga={components:{EmptyContent:sa,EmptyPreview:dt},methods:Object(n["a"])(Object(n["a"])({},Object(o["b"])({apimyborrow:"apimyborrow",ex_getborrowings:"store_borrowings/ex_getborrowings",ex_getownborrowings:"store_borrowings/ex_getownborrowings",ex_create:"store_borrowings/ex_createborrowing",ex_update:"store_borrowings/ex_updateborrowing",ex_delete:"store_borrowings/ex_deleteborrowing",ex_approve:"store_borrowings/ex_approveborrowing",ex_postnewmessage:"ex_postnewmessage",ex_getusers:"ex_getusers",apiitems:"store_items/apiitems"})),{},{sendMessage:function(){var t=this,e={recipient:this.apiborrowings[this.preview].borrower.id,subject:this.apiborrowings[this.preview].id+"-"+this.apiborrowings[this.preview].item.name,message:this.messageform};this.ex_postnewmessage(e).then((function(e){t.$bvToast.toast(e.message,{title:"Message",variant:1==e.status?"primary":"danger",solid:!0})}))},tabAction:function(t){this.settab=1==t?1:2},setactive:function(t){this.paneservice=t},print:function(){for(var t=document.getElementById("activecontent").innerHTML,e="",a=0,i=Object(va["a"])(document.querySelectorAll('link[rel="stylesheet"], style'));a<i.length;a++){var r=i[a];e+=r.outerHTML}var s=window.open("","","left=0,top=0,width=800,height=900,toolbar=0,scrollbars=0,status=0");s.document.write("<!DOCTYPE html>\n<html>\n  <head>\n    ".concat(e,"\n  </head>\n  <body>\n    ").concat(t,"\n  </body>\n</html>")),s.document.close(),s.focus(),s.print()},gotoitem:function(t){var e=this.$router.resolve({name:"Itemdetails",params:{item:t}});window.open(e.href,"_blank")},setpreview:function(t){var e=this;this.previewreload=!0,this.viewingitem=t,setTimeout((function(){e.preview=t,e.currentborrowing=e.filterborrowing[t],e.previewreload=!1}),1e3)},geturl:function(t){alert(t)},formaction:function(t){switch(this.updatemode=t,t){case 1:this.getusers();break;case 2:this.formButton="Update",this.updateform=JSON.parse(JSON.stringify(this.currentborrowing));break;case 3:this.formButton="Approve";break;case 4:this.formButton="Reject";break;case 5:this.formButton="Return";break;case 6:this.formButton="Delete";break}this.$bvModal.show("modal-forms")},form_navigator:function(){switch(this.updatemode){case 1:this.fn_create();break;case 2:this.fn_update();break;case 3:this.fn_approvexreturn();break;case 4:this.fn_reject();break;case 5:this.fn_approvexreturn();break;case 6:this.fn_delete();break}},fn_create:function(){var t=this;this.ex_create(this.createform).then((function(e){t.$bvToast.toast(e.message,{title:"Create Borrowing",variant:1==e.status?"primary":"danger",solid:!0}),t.clearview()}))},fn_update:function(){var t=this,e={api_id:this.currentborrowing.api_id,api_data:this.updateform};this.ex_update(e).then((function(e){t.$bvToast.toast(e.message,{title:"Update Borrowing",variant:200==e.status?"primary":"danger",solid:!0}),t.clearview()}))},fn_approvexreturn:function(){var t=this;this.ex_approve(this.currentborrowing.api_id).then((function(e){t.$bvToast.toast(e.message,{title:3==t.updatemode?"Approve":"Return",variant:200==e.status?"primary":"danger",solid:!0}),t.clearview()}))},fn_delete:function(){var t=this;this.ex_delete(this.currentborrowing.api_id).then((function(e){t.$bvToast.toast(e.message,{title:3==t.updatemode?"Approve":"Return",variant:200==e.status?"primary":"danger",solid:!0}),t.clearview()}))},getusers:function(){var t=this;this.ex_getusers().then((function(e){t.formButton="Create",t.userscollections=e.data})),this.apiitems().then((function(e){t.itemscollections=e.data}))},getborrowings:function(){var t=this;this.ex_getownborrowings().then((function(e){t.apiborrowings=e.data,t.activeonly=t.apiborrowings.filter((function(t){return 2!=t.api_request.status})),t.completed=t.apiborrowings.filter((function(t){return 2==t.api_request.status}))}))},clearview:function(){this.preview=!1,this.getborrowings()},thisbookingstatus:function(t){switch(t.status){case 0:return"Pending";case 1:return"Approved";case 2:return"Completed";default:return"N/A"}},thisapprovedby:function(){return this.currentborrowing.api_request.approvedby?this.currentborrowing.api_request.approvedby:"N/A"},customsearch:function(){var t=this,e=this.apiborrowings.filter((function(e){return e.api_id==t.filterinput}));e.length>0?(this.sample=e,this.pendingborrowing=e,this.$bvToast.toast("Borrowing found",{title:"Approve",variant:"primary",solid:!0})):this.searchempty=!0},closepreview:function(){this.preview=!1,this.viewingitem="-"}}),data:function(){return{activeonly:[],completed:[],usercode:"",searchempty:!1,viewingitem:"-",currentPage:1,perPage:30,apiborrowings:[],currentborrowing:{},settab:1,updatemode:0,formButton:"",filterinput:"",userscollections:[],itemscollections:[],preview:!1,previewreload:!1,query:!1,messageform:"",borrowingform:{},createform:{},updateform:{},campus:[],search:"",borrowingcode:"",itemscollection:[],borroweditems:[],pendingborrowing:{},sample:{},variant:"dark",paneservice:1,mainProps:{width:50,height:50,class:"m1"}}},computed:Object(n["a"])(Object(n["a"])({},Object(o["c"])(["get_user"])),{},{totalresult:function(){var t=this.items.length.toString();return"(".concat(t,")  ").concat(1==this.items.length?" item ":"items ","  found")},filterborrowing:function(){var t=this,e=(1==this.settab?this.activeonly:this.completed).slice((this.currentPage-1)*this.perPage,this.currentPage*this.perPage);return e.filter((function(e){return e.api_borrower.api_name.toLowerCase().includes(t.filterinput.toLowerCase())||e.api_item.api_name.toLowerCase().includes(t.filterinput.toLowerCase())}))},checkinput:function(){return this.pendingborrowing},watchtab:function(){return this.settab}}),watch:{checkinput:function(){this.currentborrowing=this.pendingborrowing[0]},watchtab:function(){this.preview=!1,this.currentborrowing={},this.filterinput="",this.pendingborrowing={}}},created:function(){this.getborrowings()}},wa=ga,ya=(a("974f"),Object(m["a"])(wa,_a,ha,!1,null,"d811ff62",null)),Ca=ya.exports,xa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{staticClass:"app_next",attrs:{fluid:""}},[a("b-container",{staticClass:"app_main_wrapper",attrs:{fluid:""}},[a("b-container",{staticClass:"app-center-all",attrs:{fluid:""}},[a("b-container",{attrs:{fluid:""}},[a("b-row",[a("b-col",{staticClass:"item-contentonly",attrs:{cols:1!=t.get_user.role?"6":"12"}},[a("div",{staticClass:"app-css-section-row"},[a("ul",{staticClass:"app-cus-ul"},[a("li",{staticClass:"app-cus-li",class:{activetab:1==t.settab},on:{click:function(e){t.settab=1}}},[t._v(" Active Users ("+t._s(t.activecount)+") ")]),a("li",{staticClass:"app-cus-li",class:{activetab:2==t.settab},on:{click:function(e){t.settab=2}}},[t._v(" Blocked Users ")])]),a("div",{staticClass:"self-form"},[a("b-form",{staticClass:"search-form"},[a("label",{staticClass:"sr-only",attrs:{for:"inline-form-input-name"}},[t._v("Name")]),a("b-input",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{id:"inline-form-input-name",placeholder:1==t.settab?"All users search":"Blocked users search"},model:{value:t.filterinput,callback:function(e){t.filterinput=e},expression:"filterinput"}}),2==t.settab?a("b-button",{staticClass:"ml-4 pl-5 pr-5",attrs:{variant:"primary"},on:{click:t.customsearch}},[t._v("Search")]):t._e()],1)],1),a("b-container",{staticClass:"app_topmargin",attrs:{fluid:""}},[a("div",[a("p",{},[t._v("Select from users below to preview")]),a("div",{staticClass:"text-center app-director"},[a("p",{staticClass:"mt-3"},[a("b-icon",{attrs:{icon:"chevron-right",scale:"1",rotate:"90","shift-h":"4",variant:"secondary"}})],1)])])]),a("b-container",{staticClass:"p-0 m-0",attrs:{fluid:"",card:""}},[1==t.settab?[t.activecount>0?[a("b-list-group",t._l(t.filterusers,(function(e,i){return a("b-list-group-item",{key:i,staticClass:"d-flex align-items-center",class:{activeview:t.previewindex==i},on:{click:function(e){return t.setpreview(i)}}},[a("b-avatar",{staticClass:"mr-3",attrs:{src:e.api_picture}}),a("span",{staticClass:"mr-auto capitalize"},[t._v(t._s(t.getfullname(e))+" "),a("small",{staticClass:"css-faculty"},[t._v(t._s(t.getcampusfaculty(e)))])]),a("b-badge",{staticClass:"cus-badge p-1",attrs:{variant:"secondary"}},[t._v(t._s(t.getrole(e.api_role)))])],1)})),1)]:[a("empty-content")]]:[t.filterusers.length>0?[a("b-list-group",t._l(t.filterusers,(function(e,i){return a("b-list-group-item",{key:i,staticClass:"d-flex justify-content-between align-items-center",class:{activeview:t.preview==i},on:{click:function(e){return t.setpreview(i)}}},[a("b-avatar",{staticClass:"mr-3",attrs:{src:e.api_picture}}),a("div",[a("span",{staticClass:"mr-auto capitalize"},[t._v(t._s(t.getfullname(e))+" "),a("small",{staticClass:"css-faculty"},[t._v(t._s(t.getcampusfaculty(e)))])]),a("b-badge",{staticClass:"cus-badge"},[t._v(t._s(t.getrole(e.api_role)))])],1)],1)})),1)]:[a("empty-content")]]],2)],1)]),a("b-col"),a("b-col",{staticClass:"previewer-pane",attrs:{cols:"5"}},[a("div",{staticClass:"app_rounded app_padding30 app_plain"},[Object.keys(t.currentuser).length?[t.watchpreview?[a("div",{staticClass:"preview-indicator"},[t.previewreload?a("b-skeleton",{attrs:{type:"input",animation:"throb",width:"20%"}}):a("div",{staticClass:"app_20padding text-center mb-4"},[a("h5",{staticClass:"previewer-header app_shader"},[t._v("PREVIEW USER")])]),a("p",{staticClass:"previewx",on:{click:t.closepreview}},[a("b-icon",{attrs:{icon:"x-circle-fill",scale:"2.5",variant:"danger"}})],1)],1),a("div",[a("b-row",[a("b-col",{staticClass:"mb-item",attrs:{md:"12"}},[a("div",{staticClass:"itemonly-header"},[a("div",[t.previewreload?a("b-skeleton",{attrs:{type:"text",scale:"0.5",animation:"throb",width:"20%"}}):[a("div",{staticClass:"app_20padding text-center mb-4"},[a("h3",{staticClass:"previewer-header"},[a("b-icon",{attrs:{icon:"journal-richtext",variant:"info"}}),t._v(" Profile Information ")],1)])]],2)]),a("b-row",[a("b-col",{attrs:{md:"6"}},[t.previewreload?a("b-skeleton-img",{staticClass:"mb-img-skeleten",attrs:{"no-aspect":"",height:"150px"}}):a("b-img",{staticClass:"mb-image",attrs:{fluid:"",src:t.currentuser.api_picture,alt:t.getfullname(t.currentuser)}})],1),a("b-col",{staticClass:"mb-borrower",attrs:{md:"6"}},[a("b-list-group",[t.previewreload?[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),a("b-skeleton",{attrs:{animation:"throb",width:"55%"}})],1)]:[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("small",[t._v("ID")]),a("span",[t._v(t._s(t.currentuser.api_id))])])],t.previewreload?[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),a("b-skeleton",{attrs:{animation:"throb",width:"55%"}})],1)]:[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("small",[t._v("Fullname")]),a("span",[t._v(t._s(t.getfullname(t.currentuser)))])])],t.previewreload?[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),a("b-skeleton",{attrs:{animation:"throb",width:"55%"}})],1)]:[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("small",[t._v("E-mail")]),a("span",[t._v(t._s(t.currentuser.api_email))])])],t.previewreload?[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),a("b-skeleton",{attrs:{animation:"throb",width:"55%"}})],1)]:[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("small",[t._v(t._s(t.get_userheader()))]),a("span",[t._v(t._s(t.get_useridentity()))])])],t.previewreload?[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),a("b-skeleton",{attrs:{animation:"throb",width:"55%"}})],1)]:[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("small",[t._v("Campus")]),a("span",[t._v(t._s(t.currentuser.api_campus.api_name))])])],t.previewreload?[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),a("b-skeleton",{attrs:{animation:"throb",width:"55%"}})],1)]:[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("small",[t._v("Faculty")]),a("span",[t._v(t._s(t.currentuser.api_faculty.api_name))])])],t.previewreload?[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),a("b-skeleton",{attrs:{animation:"throb",width:"55%"}})],1)]:[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("small",[t._v("Contact")]),a("span",[t._v(t._s(t.currentuser.api_contact))])])]],2)],1)],1)],1)],1),a("div",{staticClass:"mb-control"},[t.previewreload?a("b-skeleton",{staticClass:"gb-skeleten",attrs:{type:"button",animation:"throb",width:"20%"}}):a("b-button-group",[t.currentuser.api_status?a("b-button",{attrs:{variant:"secondary"},on:{click:function(e){return t.formaction(2)}}},[t._v("Update User")]):t._e(),a("b-button",{attrs:{variant:"outline-danger"},on:{click:function(e){return t.formaction(3)}}},["1"==t.currentuser.api_status?[t._v("Block User")]:[t._v(" Unblock User ")]],2)],1),t.previewreload?a("b-skeleton",{staticClass:"gb-skeleten",attrs:{type:"button",animation:"throb",width:"10%"}}):a("b-button",{attrs:{variant:"danger"},on:{click:function(e){return t.formaction(4)}}},[t._v("Delete User")])],1)],1)]:t._e()]:[a("empty-preview")]],2)])],1)],1)],1),a("div",{staticClass:"app-create-action"},[3==t.get_user.role&&0==t.preview?[a("b-button",{attrs:{variant:"success"},on:{click:function(e){return t.formaction(1)}}},[a("b-icon",{attrs:{icon:"plus-circle-fill"}}),t._v(" User Add ")],1)]:t._e()],2)],1),a("b-modal",{ref:"modal",attrs:{size:"lg",id:"modal-forms",title:t.formButton,centered:""},on:{ok:t.form_navigator},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var i=e.ok,r=e.cancel;return[a("div",{staticClass:"w-100"},[a("b-button",{staticClass:"float-left",attrs:{variant:"outline-danger"},on:{click:function(t){return r()}}},[t._v(" Cancel ")]),a("b-button",{staticClass:"float-right",attrs:{variant:t.formbuttontheme()},on:{click:function(t){return i()}}},[t._v(" "+t._s(t.formButton)+" ")])],1)]}}])},[a("b-form",{on:{"~submit":function(e){return e.preventDefault(),t.form_navigator(e)}}},[a("b-card",{attrs:{"bg-variant":"light"}},[1==t.updatemode?[a("b-form-group",{attrs:{id:"input-group-0"}},[t.imagepreviewer?a("div",{staticClass:"mb-6",attrs:{id:"preview"}},[a("b-img",{attrs:{src:t.imagepreviewer,alt:t.createform.api_name}}),a("b-icon",{staticClass:"app_closefix",attrs:{"font-scale":"2",icon:"x-circle-fill",variant:"danger"},on:{click:t.clearPicture}}),a("hr")],1):a("b-input-group",[a("b-input-group-prepend",{attrs:{"is-text":""}},[a("b-icon",{attrs:{icon:"image-fill"}})],1),a("b-form-file",{attrs:{id:"form-image",placeholder:"Choose a file or drop it here...","drop-placeholder":"Drop file here...",accept:"image/*"},on:{change:t.uploadImage},model:{value:t.createform.api_picture,callback:function(e){t.$set(t.createform,"api_picture",e)},expression:"createform.api_picture"}})],1)],1),a("b-form-group",{attrs:{label:"First, Middle, and Last name"}},[a("b-form-row",[a("b-col",[a("b-form-input",{attrs:{required:"",placeholder:"First Name"},model:{value:t.createform.api_firstname,callback:function(e){t.$set(t.createform,"api_firstname",e)},expression:"createform.api_firstname"}})],1),a("b-col",[a("b-form-input",{attrs:{required:"",placeholder:"Middle & Last Name"},model:{value:t.createform.api_othernames,callback:function(e){t.$set(t.createform,"api_othernames",e)},expression:"createform.api_othernames"}})],1)],1)],1),a("b-form-group",{attrs:{label:"Email Address"}},[a("b-form-input",{attrs:{type:"email",required:"",placeholder:"Enter email"},model:{value:t.createform.api_email,callback:function(e){t.$set(t.createform,"api_email",e)},expression:"createform.api_email"}})],1),a("b-form-group",{attrs:{label:"Password"}},[a("b-card",{attrs:{"bg-variant":"light"}},[a("b-form-radio-group",{staticClass:"mb-3",attrs:{options:t.passwordchoicecreate,"value-field":"item","text-field":"name","disabled-field":"notEnabled"},model:{value:t.passwordSelector,callback:function(e){t.passwordSelector=e},expression:"passwordSelector"}}),1==t.passwordSelector?a("b-input-group",[a("b-form-input",{staticClass:"css-password",attrs:{type:t.showpassword?"text":"password",required:"",placeholder:"Enter password"},model:{value:t.createform.api_password,callback:function(e){t.$set(t.createform,"api_password",e)},expression:"createform.api_password"}}),a("b-input-group-append",[a("b-button",{attrs:{variant:"info"},on:{click:function(e){t.showpassword=!t.showpassword}}},[t.showpassword?a("b-icon",{attrs:{icon:"eye-slash"}}):a("b-icon",{attrs:{icon:"eye"}})],1)],1)],1):t._e(),2==t.passwordSelector?a("b-input-group",[a("b-form-input",{staticClass:"css-password",attrs:{disabled:""},model:{value:t.passwordvalue,callback:function(e){t.passwordvalue=e},expression:"passwordvalue"}}),a("b-input-group-append",[a("b-button",{attrs:{variant:"info"},on:{click:t.generatepassword}},[t._v("Generate")])],1)],1):t._e()],1)],1),a("b-form-group",{attrs:{label:"User Role"}},[a("b-form-select",{attrs:{options:t.role,required:""},model:{value:t.createform.api_role,callback:function(e){t.$set(t.createform,"api_role",e)},expression:"createform.api_role"}})],1),a("b-form-group",{attrs:{label:"Campus & Faculty"}},[a("b-form-row",[a("b-col",[a("b-form-select",{attrs:{options:t.campus,"value-field":"api_id","text-field":"api_name",required:""},model:{value:t.createform.api_campus,callback:function(e){t.$set(t.createform,"api_campus",e)},expression:"createform.api_campus"}})],1),a("b-col",[a("b-form-select",{attrs:{options:t.faculty,"value-field":"api_id","text-field":"api_name",required:"","disabled-field":"campusfaculties"},model:{value:t.createform.api_faculty,callback:function(e){t.$set(t.createform,"api_faculty",e)},expression:"createform.api_faculty"}})],1)],1)],1),1==t.createform.api_role?a("b-form-group",{attrs:{label:"NIM"}},[a("b-form-input",{attrs:{type:"number",required:"",placeholder:"Enter NIM"},model:{value:t.createform.api_nim,callback:function(e){t.$set(t.createform,"api_nim",e)},expression:"createform.api_nim"}})],1):a("b-form-group",{attrs:{label:"Staff ID"}},[a("b-form-input",{attrs:{type:"number",required:"",placeholder:"Enter Staff ID"},model:{value:t.createform.api_staffid,callback:function(e){t.$set(t.createform,"api_staffid",e)},expression:"createform.api_staffid"}})],1),a("b-form-group",{attrs:{label:"Contact Number"}},[a("b-form-input",{attrs:{type:"number",required:"",placeholder:"Enter Contact"},model:{value:t.createform.api_contact,callback:function(e){t.$set(t.createform,"api_contact",e)},expression:"createform.api_contact"}})],1)]:t._e(),2==t.updatemode?[a("b-form-group",{attrs:{label:"User Photo"}},[t.imagepreviewer?a("div",{staticClass:"mb-6 align-items-center",attrs:{id:"preview"}},[a("b-img",{attrs:{src:t.imagepreviewer,alt:t.currentuser.api_name}}),a("b-icon",{staticClass:"app_closefix",attrs:{"font-scale":"2",icon:"x-circle-fill",variant:"danger"},on:{click:t.clearPicture}}),a("hr")],1):a("div",{staticClass:"userPicture centered"},[a("b-img",{staticClass:"css-campusthumbnail",attrs:{src:t.currentuser.api_picture,rounded:"circle",alt:t.currentuser.api_name}})],1)]),a("b-form-group",{attrs:{id:"input-group-0"}},[a("b-input-group",[a("b-input-group-prepend",{attrs:{"is-text":""}},[a("b-icon",{attrs:{icon:"image-fill"}})],1),a("b-form-file",{attrs:{id:"form-image",placeholder:"Choose a file or drop it here...","drop-placeholder":"Drop file here...",accept:"image/*"},on:{change:t.uploadImage},model:{value:t.update_picture,callback:function(e){t.update_picture=e},expression:"update_picture"}})],1)],1),a("b-form-group",{attrs:{label:"First, Middle, and Last name"}},[a("b-form-row",[a("b-col",[a("b-form-input",{attrs:{required:"",placeholder:"First Name"},model:{value:t.updateform.api_firstname,callback:function(e){t.$set(t.updateform,"api_firstname",e)},expression:"updateform.api_firstname"}})],1),a("b-col",[a("b-form-input",{attrs:{required:"",placeholder:"Middle & Last Name"},model:{value:t.updateform.api_othernames,callback:function(e){t.$set(t.updateform,"api_othernames",e)},expression:"updateform.api_othernames"}})],1)],1)],1),a("b-form-group",{attrs:{label:"Email Address"}},[a("b-form-input",{attrs:{type:"email",required:"",placeholder:"Enter email"},model:{value:t.updateform.api_email,callback:function(e){t.$set(t.updateform,"api_email",e)},expression:"updateform.api_email"}})],1),a("b-form-group",{attrs:{label:"Password"}},[a("b-card",{attrs:{"bg-variant":"light"}},[a("b-form-radio-group",{staticClass:"mb-3",attrs:{options:t.passwordchoice,"value-field":"item","text-field":"name","disabled-field":"notEnabled"},on:{change:t.passwordtype},model:{value:t.passwordSelector,callback:function(e){t.passwordSelector=e},expression:"passwordSelector"}}),1==t.passwordSelector?a("b-input-group",[a("b-form-input",{staticClass:"css-password",attrs:{placeholder:"Own Password",disabled:""},model:{value:t.updateform.api_password,callback:function(e){t.$set(t.updateform,"api_password",e)},expression:"updateform.api_password"}})],1):t._e(),2==t.passwordSelector?a("b-input-group",[a("b-form-input",{staticClass:"css-password",attrs:{type:t.showpassword?"text":"password",required:"",placeholder:"Enter password"},model:{value:t.updateform.api_password,callback:function(e){t.$set(t.updateform,"api_password",e)},expression:"updateform.api_password"}}),a("b-input-group-append",[a("b-button",{attrs:{variant:"info"},on:{click:function(e){t.showpassword=!t.showpassword}}},[t.showpassword?a("b-icon",{attrs:{icon:"eye-slash"}}):a("b-icon",{attrs:{icon:"eye"}})],1)],1)],1):t._e(),3==t.passwordSelector?a("b-input-group",[a("b-form-input",{staticClass:"css-password",attrs:{disabled:""},model:{value:t.passwordvalue,callback:function(e){t.passwordvalue=e},expression:"passwordvalue"}}),a("b-input-group-append",[a("b-button",{attrs:{variant:"info"},on:{click:t.generatepassword}},[t._v("Generate")])],1)],1):t._e()],1)],1),a("b-form-group",{attrs:{label:"User Role"}},[a("b-form-select",{attrs:{options:t.role,required:""},model:{value:t.updateform.api_role,callback:function(e){t.$set(t.updateform,"api_role",e)},expression:"updateform.api_role"}})],1),a("b-form-group",{attrs:{label:"Campus & Faculty"}},[a("b-form-row",[a("b-col",[a("b-form-select",{attrs:{options:t.campus,"value-field":"api_id","text-field":"api_name",required:""},model:{value:t.updateform.api_campus,callback:function(e){t.$set(t.updateform,"api_campus",e)},expression:"updateform.api_campus"}})],1),a("b-col",[a("b-form-select",{attrs:{options:t.faculty,"value-field":"api_id","text-field":"api_name",required:"","disabled-field":"campusfaculties"},model:{value:t.updateform.api_faculty,callback:function(e){t.$set(t.updateform,"api_faculty",e)},expression:"updateform.api_faculty"}})],1)],1)],1),1==t.updateform.api_role?a("b-form-group",{attrs:{label:"NIM"}},[a("b-form-input",{attrs:{type:"number",required:"",placeholder:"Enter NIM"},model:{value:t.updateform.api_nim,callback:function(e){t.$set(t.updateform,"api_nim",e)},expression:"updateform.api_nim"}})],1):a("b-form-group",{attrs:{label:"Staff ID"}},[a("b-form-input",{attrs:{type:"number",required:"",placeholder:"Enter Staff ID"},model:{value:t.updateform.api_staffid,callback:function(e){t.$set(t.updateform,"api_staffid",e)},expression:"updateform.api_staffid"}})],1),a("b-form-group",{attrs:{label:"Contact Number"}},[a("b-form-input",{attrs:{type:"number",required:"",placeholder:"Enter Contact"},model:{value:t.updateform.api_contact,callback:function(e){t.$set(t.updateform,"api_contact",e)},expression:"updateform.api_contact"}})],1)]:t._e(),3==t.updatemode||4==t.updatemode?[a("h5",{staticClass:"mb-4"},[t._v(t._s(3==t.updatemode?"Block ":"Delete ")+" "+t._s(t.currentuser.api_firstname)+" ? ")]),a("div",{staticClass:"css-deletewrapper"},[a("b-img",{staticClass:"css-userthumbnail",attrs:{src:t.currentuser.api_picture,rounded:"circle",alt:"Get full name"}}),a("div",{staticClass:"css-deleteid"},[a("small",[t._v("USER ID")]),a("h5",[t._v(t._s(t.currentuser.api_id))])])],1),a("b-list-group",[a("h3",[t._v("User Information")]),a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[t._v(" Name ")]),a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[t._v(" Email "),a("p",[t._v(t._s(t.currentuser.api_email))])]),a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[t._v(" Faculty "),a("p",[t._v(" "+t._s(t.currentuser.api_faculty.api_name)+", "+t._s(t.currentuser.api_campus.api_name)+" ")])]),a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[t._v(" "+t._s(1==t.currentuser.api_role?"NIM":"Staff ID")+" "),a("p",[t._v(" "+t._s(1==t.currentuser.api_role?t.currentuser.api_nim:t.currentuser.api_staffid)+" ")])])],1)]:t._e()],2)],1)],1),a("b-modal",{ref:"modal",attrs:{centered:"",id:"modal-confirmation","header-bg-variant":"danger","header-text-variant":"light",title:"Confirm Action"},on:{ok:t.confirm_modelAction,cancel:t.onConfirmCancel},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var i=e.ok,r=e.cancel;return[a("div",{staticClass:"w-100"},[a("b-button",{staticClass:"float-left",attrs:{variant:"outline-danger"},on:{click:function(t){return r()}}},[t._v(" Cancel ")]),a("b-button",{staticClass:"float-right",attrs:{variant:"danger"},on:{click:function(t){return i()}}},[t._v(" Continue ")])],1)]}}])},[a("b-card",{ref:"updateform",on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.modalConfirmAction(e)}}},[a("div",{staticClass:"text-center"},[a("b-icon",{staticStyle:{width:"80px",height:"80px"},attrs:{icon:"exclamation-circle"}}),a("h5",[t._v("Are you sure about this ?")])],1)])],1)],1)},ka=[],ja={components:{EmptyContent:sa,EmptyPreview:dt},data:function(){return{apiuserscollection:[],filterinput:"",settab:1,confirmation:!1,preview:!1,previewindex:"-",viewingitem:"-",tabIndex:0,currentuser:{},activecount:0,showpassword:!1,blockedcount:0,formButton:"",updateform:{},update_picture:[],createform:{api_firstname:"",api_othernames:"",api_role:1,api_picture:[],api_email:"",api_nim:"",api_contact:"",api_password:"",api_cpassword:"",api_campus:"",api_faculty:"",api_staffid:0,api_status:null},passwordvalue:"",selected:"A",updatemode:!1,passwordchoice:[{item:"1",name:"Current"},{item:"2",name:"New Password"},{item:"3",name:"Generate Password"}],passwordchoicecreate:[{item:"1",name:"New Password"},{item:"2",name:"Generate Password"}],updateerror:[],show_updatemodal:!1,show_createuser:!1,show_deleteuser:!1,previewreload:!1,passwordSelector:1,query:!1,roleof:2,search:"",fields:["photo","name","description","actions"],itemscollection:[],borroweditems:[],variant:"dark",paneservice:1,cloneform:[],file:"",imagepreviewer:"",role:[{value:1,text:"Student"},{value:2,text:"Staff"},{value:3,text:"Admin"}],campus:[],faculty:[],campusfaculties:[],mainProps:{width:50,height:50,class:"m1"}}},methods:Object(n["a"])(Object(n["a"])({},Object(o["b"])({apiitems:"apiitems",apimyborrow:"apimyborrow",apiusers:"apiusers",ex_apiupdateuser:"ex_apiupdateuser",ex_userBlock:"ex_userBlock",ex_userDelete:"ex_userDelete",ex_campusfaculties:"store_campuses/ex_campusfaculties",ex_getusers:"ex_getusers",ex_register:"ex_register"})),{},{onFormsCancel:function(){this.updateform={},this.createform={}},onConfirmCancel:function(){this.confirmation=!1},formaction:function(t){switch(alert("Form Action"),this.updatemode=t,t){case 1:this.formButton="Create";break;case 2:this.formButton="Update",this.updateform=this.currentuser,this.updateform.api_password="";break;case 3:this.formButton=1==this.currentuser.api_status?"Block":"Unblock",this.confirmation=!0;break;case 4:this.formButton="Delete",this.confirmation=!0;break}console.log("Gettting Out side"+t),1!=t&&2!=t||(console.log("Gettting"),this.fn_getcampuses()),this.confirmation?this.$bvModal.show("modal-confirmation"):this.$bvModal.show("modal-forms")},form_navigator:function(t){switch(t.preventDefault(),this.updatemode){case 1:this.fn_usercreate();break;case 2:this.preview=!1,this.fn_userupdate();break;case 3:this.preview=!1,this.fn_userBlock();break;case 4:this.preview=!1,this.fn_deleteuser();break}},confirm_modelAction:function(t){t.preventDefault(),this.modalConfirmAction()},modalConfirmAction:function(){var t=this;this.confirmation?this.$nextTick((function(){t.$bvModal.hide("modal-confirmation"),t.$bvModal.show("modal-forms"),t.confirmation=!1})):this.$bvModal.show("modal-forms")},fn_usercreate:function(){var t=this;this.createform.api_cpassword=this.createform.api_password,console.log(this.createform.api_role);var e=new FormData;e.append("api_firstname",this.createform.api_firstname),e.append("api_othernames",this.createform.api_othernames),e.append("api_role",this.createform.api_role),e.append("api_picture",this.file),e.append("api_email",this.createform.api_email),e.append("api_nim",this.createform.api_nim),e.append("api_password",this.createform.api_password),e.append("api_cpassword",this.createform.api_cpassword),e.append("api_contact",this.createform.api_contact),e.append("api_campus",this.createform.api_campus),e.append("api_faculty",this.createform.api_faculty),e.append("api_staffid",this.createform.api_staffid),e.append("api_status",this.createform.api_status),this.ex_register(e).then((function(e){console.log(e),200==e.status&&(t.defaultcreateform(),t.$bvToast.toast(e.message,{title:"Register",variant:200==e.status?"primary":"danger",solid:!0}),t.$nextTick((function(){t.$bvModal.hide("modal-usercreate")})),t.$nextTick((function(){t.$bvModal.hide("modal-forms")})),t.clearview())}))},fn_userupdate:function(){var t=this;if(1!=this.passwordSelector&&(3==this.passwordSelector&&(this.updateform.api_password=this.passwordvalue),!this.updateform.api_password||this.updateform.api_password.length<6))return alert("Check password length "),void(this.passwordSelector=1);var e=new FormData;e.append("_method","PUT"),e.append("api_id",this.updateform.api_id),e.append("api_firstname",this.updateform.api_firstname),e.append("api_othernames",this.updateform.api_othernames),e.append("api_role",this.updateform.api_role),e.append("api_picture",this.newPicture()),e.append("api_email",this.updateform.api_email),e.append("api_nim",this.updateform.api_nim),e.append("api_password",this.updateform.api_password),e.append("api_cpassword",this.updateform.api_password),e.append("api_contact",this.updateform.api_contact),e.append("api_role",this.updateform.api_role),e.append("api_campus",this.updateform.api_campus),e.append("api_faculty",this.updateform.api_faculty),e.append("api_staffid",this.updateform.api_staffid),e.append("api_status",this.updateform.api_status),this.ex_apiupdateuser(e).then((function(e){t.$bvToast.toast(e.message,{title:"Update",variant:200==e.status?"primary":"danger",solid:!0}),200==e.status&&(t.$nextTick((function(){t.$bvModal.hide("modal-forms")})),t.clearview()),400==e.status&&(t.updateerror=e.data)})),this.clearview()},fn_userBlock:function(){var t=this;this.ex_userBlock(this.currentuser.api_id).then((function(e){t.$bvToast.toast(e.message,{title:t.currentuser.api_status?"Block User ":"Unblock User",variant:200==e.status?"primary":"danger",solid:!0}),t.preview=!1,t.getusers()}))},fn_deleteuser:function(){var t=this;this.ex_userDelete(this.currentuser.api_id).then((function(e){t.$bvToast.toast(e.message,{title:"Delete User",variant:200==e.status?"primary":"danger",solid:!0}),200==e.status&&(t.$nextTick((function(){t.$bvModal.hide("modal-usercreate")})),t.$nextTick((function(){t.$bvModal.hide("modal-forms")})),t.currentuser=JSON.parse(JSON.stringify(t.filterusers[0])),t.preview=!1)}))},fn_getcampuses:function(){var t=this;alert("Getting"),this.ex_campusfaculties().then((function(e){t.campus=e.data.filter((function(t){return"admin"!=t.api_name})),console.log(t.campus[0]),2==t.updatemode?(t.updateform=JSON.parse(JSON.stringify(t.currentuser)),t.updateform.api_campus=t.currentuser.api_campus.api_id,t.updateform.api_picture=[]):t.createform.api_campus=t.campus[0].api_id}))},getusers:function(){var t=this;this.ex_getusers().then((function(e){t.apiuserscollection=e.data}))},setpreview:function(t){var e=this;this.previewreload=!0,setTimeout((function(){e.preview=!0,e.previewindex=t,e.currentuser=JSON.parse(JSON.stringify(e.filterusers[t])),e.previewreload=!1}),1e3)},getrole:function(t){return 1==t?"Student":2==t?" Staff ":" Admin "},geturl:function(t){alert(t);var e=this.$router.resolve({name:"Itemdetails",params:{item:t}});window.open(e.href,"_blank")},fn_cancelupdate:function(){this.show_updatemodal=!1,this.updateform={}},get_userheader:function(){return 1==this.currentuser.api_role?"NIM":"Staff ID"},get_useridentity:function(){return 1==this.currentuser.api_role?this.currentuser.api_nim:this.currentuser.api_staffid},generatepassword:function(){var t=Math.random().toString(36).substring(2,6)+Math.random().toString(36).substring(2,8);this.passwordvalue=t},getfacultyapi:function(){},getfullname:function(t){return t.api_firstname+" "+t.api_othernames},fn_showcreateuser:function(){},getcampusfaculty:function(t){return t.api_faculty.api_name+" @ "+t.api_campus.api_name},countblockedusers:function(){var t=this,e=0,a=0;this.apiuserscollection.filter((function(a){0==a.api_status&&(t.blockedcount+=1),1==a.api_status&&(e+=1)})),this.activecount=e,this.blockedcount=a},fetchfaculty:function(){var t=1==this.updatemode?this.updateform.api_campus:this.createform.api_campus,e=[];this.campus.filter((function(a){a.api_id==t&&(e=a.api_faculties)})),this.campusfaculties=e},formbuttontheme:function(){switch(this.formButton){case"Delete":return"danger";case"Block":return"danger";default:return"success"}},clearview:function(){this.preview=!1,this.previewindex="-",this.currentuser={},this.viewingitem="-",this.passwordSelector=1,this.getusers()},closepreview:function(){this.preview=!1,this.previewindex="-",this.currentuser={},this.viewingitem="-",this.passwordSelector=1},uploadImage:function(t){var e=t.target.files[0];this.file=t.target.files[0],this.imagepreviewer=URL.createObjectURL(e),URL.revokeObjectURL(e)},clearPicture:function(){this.createform.api_picture=[],this.imagepreviewer="",this.file=""},getUserfaculty:function(){var t=this;this.campus.forEach((function(e){"Create"==t.formButton&&t.createform.api_campus==e.api_id&&(t.faculty=e.api_faculties),"Update"==t.formButton&&t.updateform.api_campus==e.api_id&&(t.faculty=e.api_faculties)}))},whichAction:function(){return"Create"==this.formButton?this.createform.api_campus:"Update"==this.formButton?this.updateform.api_campus:void 0},newPicture:function(){return this.file?this.file:this.updateform.api_picture},passwordtype:function(t){this.passwordSelector=t},customsearch:function(){},defaultcreateform:function(){this.imagepreviewer="",this.createform.api_firstname="",this.createform.api_othernames="",this.createform.api_role=1,this.createform.api_picture=[],this.createform.api_email="",this.createform.api_nim="",this.createform.api_contact="",this.createform.api_password="",this.createform.api_cpassword="",this.createform.api_campus="",this.createform.api_faculty="",this.createform.api_staffid=0,this.createform.api_status=null}}),computed:Object(n["a"])(Object(n["a"])({},Object(o["c"])(["get_user"])),{},{totalresult:function(){var t=this.items.length.toString();return"(".concat(t,")  ").concat(1==this.items.length?" item ":"items ","  found")},activeitem:function(){return this.borroweditems.length>0?1:0},searchtype:function(){return this.settab},filterusers:function(){var t=this;return this.apiuserscollection.filter((function(e){return 1==t.settab?1==e.api_status&&e.api_firstname.toLowerCase().includes(t.filterinput.toLowerCase()):!e.api_status&&e.api_firstname.toLowerCase().includes(t.filterinput.toLowerCase())}))},checkpassword:function(){return this.passwordSelector},checkcampus:function(){var t=0;return t=1==this.updatemode?this.createform.api_campus?this.createform.api_campus:0:2==this.updatemode&&this.updateform.api_campus?this.updateform.api_campus:0,t},closeaction:function(){return this.preview},getcounter:function(){return this.apiuserscollection},watchtab:function(){return this.settab},activecampus:function(){return this.whichAction()},watchpreview:function(){return this.preview}}),watch:{searchtype:function(){var t=this;this.previewreload=!0,setTimeout((function(){t.previewreload=!1,t.preview=!1}),1e3)},checkpassword:function(){this.updateform.api_password="",this.passwordvalue=""},checkcampus:function(){this.fetchfaculty()},getcounter:function(){this.countblockedusers()},watchtab:function(){this.preview=!1,this.previewreload=!1,this.currentuser={},this.filterinput=""},activecampus:function(){this.getUserfaculty()}},created:function(){this.getusers()}},Sa=ja,$a=(a("0aa4"),Object(m["a"])(Sa,xa,ka,!1,null,"4731ba20",null)),Ia=$a.exports,La=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{staticClass:"app_next",attrs:{fluid:""}},[a("b-container",{staticClass:"app_main_wrapper",attrs:{fluid:""}},[a("b-container",{staticClass:"app-center-all",attrs:{fluid:""}},[a("b-container",{attrs:{fluid:""}},[a("b-row",[a("b-col",{staticClass:"item-contentonly",attrs:{cols:1!=t.get_user.role?"6":"12"}},[a("div",{staticClass:"app-css-section-row"},[a("ul",{staticClass:"app-cus-ul"},[a("li",{staticClass:"app-cus-li",class:{app_activetab:1==t.settab},on:{click:function(e){t.settab=1}}},[t._v(" Active Users ("+t._s(t.activecount)+") ")]),a("li",{staticClass:"app-cus-li",class:{app_activetab:2==t.settab},on:{click:function(e){t.settab=2}}},[t._v(" Blocked Users ( "+t._s(t.blockedcount)+") ")])]),a("div",{staticClass:"self-form"},[a("b-form",{staticClass:"search-form"},[a("label",{staticClass:"sr-only",attrs:{for:"inline-form-input-name"}},[t._v("Name")]),a("b-input",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{id:"inline-form-input-name",placeholder:1==t.settab?"Search Active User":"Search Blocked User"},model:{value:t.filterinput,callback:function(e){t.filterinput=e},expression:"filterinput"}})],1)],1),a("b-container",{staticClass:"app_topmargin",attrs:{fluid:""}},[a("div",[a("p",{},[t._v(" Select from campuses/faculties below to preview ")]),a("div",{staticClass:"text-center app-director"},[a("p",{staticClass:"mt-3"},[a("b-icon",{attrs:{icon:"chevron-right",scale:"1",rotate:"90","shift-h":"4",variant:"secondary"}})],1)])])]),a("b-container",{staticClass:"p-0 m-0",attrs:{fluid:"",card:""}},[t.filterusers.length>0?[1==t.settab?a("b-list-group",t._l(t.filterusers,(function(e,i){return a("b-list-group-item",{key:i,staticClass:"d-flex justify-content-between align-items-center",class:{activeview:t.previewindex==i},on:{click:function(e){return t.setpreview(i)}}},[a("div",[a("b-avatar",{staticClass:"mr-3",attrs:{src:e.api_picture}}),a("span",{staticClass:"mr-auto capitalize"},[t._v(t._s(e.api_name)+" ")]),a("span",{staticClass:"mr-auto capitalize"},[t._v(t._s(t.getfullname(e))+" "),a("small",{staticClass:"css-faculty"},[t._v(t._s(t.getcampusfaculty(e)))])])],1),a("b-badge",{staticClass:"cus-badge p-1",attrs:{variant:"secondary"}},[t._v(t._s(t.getrole(e.api_role)))])],1)})),1):t._e()]:[a("empty-content")],2==t.settab?a("b-list-group",[a("b-list-group",t._l(t.filterusers,(function(e,i){return a("b-list-group-item",{key:i,staticClass:"d-flex justify-content-between align-items-center",class:{activeview:t.preview==i},on:{click:function(e){return t.setpreview(i)}}},[a("b-avatar",{staticClass:"mr-3",attrs:{src:e.api_picture}}),a("div",[a("span",{staticClass:"mr-auto capitalize"},[t._v(t._s(t.getfullname(e))+" "),a("small",{staticClass:"css-faculty"},[t._v(t._s(t.getcampusfaculty(e)))])]),a("b-badge",{staticClass:"cus-badge"},[t._v(t._s(t.getrole(e.api_role)))])],1)],1)})),1)],1):t._e(),a("div",{staticClass:"managecontent-form"},[t.pendingcampus?[a("b-list-group",t._l(t.pendingcampus,(function(e,i){return a("b-list-group-item",{key:i},[t._v(" "+t._s(e)+" ")])})),1)]:t._e()],2)],2)],1)]),a("b-col"),a("b-col",{staticClass:"previewer-pane",attrs:{md:"5"}},[a("div",{staticClass:"app_rounded app_padding30 app_plain"},[t.previewer?[a("div",{staticClass:"preview-indicator"},[t.previewreload?a("b-skeleton",{attrs:{type:"input",animation:"throb",width:"20%"}}):a("div",{staticClass:"app_20padding text-center mb-4"},[a("h5",{staticClass:"previewer-header app_shader"},[t._v(" PREVIEW USER ")])]),a("p",{staticClass:"previewx",on:{click:t.closepreview}},[a("b-icon",{attrs:{icon:"x-circle-fill",scale:"2.5",variant:"danger"}})],1)],1),a("b-row",[a("b-col",{staticClass:"mb-item",attrs:{md:"12"}},[a("div",{staticClass:"itemonly-header"},[a("div",[t.previewreload?a("b-skeleton",{attrs:{type:"text",scale:"0.5",animation:"throb",width:"20%"}}):[a("div",{staticClass:"app_20padding text-center mb-4"},[a("h3",{staticClass:"previewer-header"},[a("b-icon",{attrs:{icon:"journal-richtext",variant:"info"}}),t._v(" Profile Information ")],1)])]],2)]),a("b-row",[a("b-col",{attrs:{md:"6"}},[t.previewreload?a("b-skeleton-img",{staticClass:"mb-img-skeleten",attrs:{"no-aspect":"",height:"150px"}}):a("b-img",{staticClass:"mb-image",attrs:{fluid:"",src:t.currentview.api_picture,alt:t.getfullname(t.currentview)}})],1),a("b-col",{staticClass:"mb-borrower",attrs:{md:"6"}},[a("b-list-group",[t.previewreload?[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),a("b-skeleton",{attrs:{animation:"throb",width:"55%"}})],1)]:[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("small",[t._v("ID")]),a("span",[t._v(t._s(t.currentview.api_id))])])],t.previewreload?[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),a("b-skeleton",{attrs:{animation:"throb",width:"55%"}})],1)]:[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("small",[t._v("Fullname")]),a("span",[t._v(t._s(t.getfullname(t.currentview)))])])],t.previewreload?[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),a("b-skeleton",{attrs:{animation:"throb",width:"55%"}})],1)]:[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("small",[t._v("E-mail")]),a("span",[t._v(t._s(t.currentview.api_email))])])],t.previewreload?[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),a("b-skeleton",{attrs:{animation:"throb",width:"55%"}})],1)]:[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("small",[t._v(t._s(t.get_userheader()))]),a("span",[t._v(t._s(t.get_useridentity()))])])],t.previewreload?[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),a("b-skeleton",{attrs:{animation:"throb",width:"55%"}})],1)]:[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("small",[t._v("Campus")]),a("span",[t._v(t._s(t.currentview.api_campus.api_name))])])],t.previewreload?[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),a("b-skeleton",{attrs:{animation:"throb",width:"55%"}})],1)]:[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("small",[t._v("Faculty")]),a("span",[t._v(t._s(t.currentview.api_faculty.api_name))])])],t.previewreload?[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),a("b-skeleton",{attrs:{animation:"throb",width:"55%"}})],1)]:[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("small",[t._v("Contact")]),a("span",[t._v(t._s(t.currentview.api_contact))])])]],2)],1)],1),a("div",{staticClass:"mb-control"},[t.previewreload?a("b-skeleton",{staticClass:"gb-skeleten",attrs:{type:"button",animation:"throb",width:"20%"}}):a("b-button-group",[t.currentview.api_status?a("b-button",{attrs:{variant:"secondary"},on:{click:function(e){return t.formaction(2)}}},[t._v("Update User")]):t._e(),a("b-button",{attrs:{variant:"outline-danger"},on:{click:function(e){return t.formaction(3)}}},["1"==t.currentview.api_status?[t._v("Block User")]:[t._v(" Unblock User ")]],2)],1),t.previewreload?a("b-skeleton",{staticClass:"gb-skeleten",attrs:{type:"button",animation:"throb",width:"10%"}}):a("b-button",{attrs:{variant:"danger"},on:{click:function(e){return t.formaction(4)}}},[t._v("Delete User")])],1)],1)],1)]:[a("empty-preview")]],2)])],1),a("div",{staticClass:"app-create-action"},[3==t.get_user.role&&0==t.preview?[a("b-button",{attrs:{variant:"success"},on:{click:function(e){return t.formaction(1)}}},[a("b-icon",{attrs:{icon:"plus-circle-fill"}}),t._v(" User ")],1)]:t._e()],2)],1)],1)],1),a("b-modal",{ref:"modal",attrs:{size:"lg",id:"modal-forms",title:t.formButton,centered:""},on:{ok:t.form_navigator},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var i=e.ok,r=e.cancel;return[a("div",{staticClass:"w-100"},[a("b-button",{staticClass:"float-left",attrs:{variant:"outline-danger"},on:{click:function(t){return r()}}},[t._v(" Cancel ")]),a("b-button",{staticClass:"float-right",attrs:{variant:"Delete"!=t.formButton?"success":"danger"},on:{click:function(t){return i()}}},[t._v(" "+t._s(t.formButton)+" ")])],1)]}}])},[a("b-form",[a("b-card",[1==t.updatemode?[a("b-form-group",{attrs:{id:"input-group-0"}},[t.imagepreviewer?a("div",{staticClass:"mb-6",attrs:{id:"preview"}},[a("b-img",{attrs:{src:t.imagepreviewer,alt:t.createform.api_name}}),a("b-icon",{staticClass:"app_closefix",attrs:{"font-scale":"2",icon:"x-circle-fill",variant:"danger"},on:{click:t.clearPicture}}),a("hr")],1):a("b-input-group",[a("b-input-group-prepend",{attrs:{"is-text":""}},[a("b-icon",{attrs:{icon:"image-fill"}})],1),a("b-form-file",{attrs:{id:"form-image",placeholder:"Choose a file or drop it here...","drop-placeholder":"Drop file here...",accept:"image/*"},on:{change:t.uploadImage},model:{value:t.createform.api_picture,callback:function(e){t.$set(t.createform,"api_picture",e)},expression:"createform.api_picture"}})],1)],1),a("b-form-group",{attrs:{label:"First, Middle, and Last name"}},[a("b-form-row",[a("b-col",[a("b-form-input",{attrs:{required:"",placeholder:"First Name"},model:{value:t.createform.api_firstname,callback:function(e){t.$set(t.createform,"api_firstname",e)},expression:"createform.api_firstname"}})],1),a("b-col",[a("b-form-input",{attrs:{required:"",placeholder:"Middle & Last Name"},model:{value:t.createform.api_othernames,callback:function(e){t.$set(t.createform,"api_othernames",e)},expression:"createform.api_othernames"}})],1)],1)],1),a("b-form-group",{attrs:{label:"Email Address"}},[a("b-form-input",{attrs:{type:"email",required:"",placeholder:"Enter email"},model:{value:t.createform.api_email,callback:function(e){t.$set(t.createform,"api_email",e)},expression:"createform.api_email"}})],1),a("b-form-group",{attrs:{label:"Password"}},[a("b-card",{attrs:{"bg-variant":"light"}},[a("b-form-radio-group",{staticClass:"mb-3",attrs:{options:t.passwordchoicecreate,"value-field":"item","text-field":"name","disabled-field":"notEnabled"},model:{value:t.passwordSelector,callback:function(e){t.passwordSelector=e},expression:"passwordSelector"}}),1==t.passwordSelector?a("b-input-group",[a("b-form-input",{staticClass:"css-password",attrs:{type:t.showpassword?"text":"password",required:"",placeholder:"Enter password"},model:{value:t.createform.api_password,callback:function(e){t.$set(t.createform,"api_password",e)},expression:"createform.api_password"}}),a("b-input-group-append",[a("b-button",{attrs:{variant:"info"},on:{click:function(e){t.showpassword=!t.showpassword}}},[t.showpassword?a("b-icon",{attrs:{icon:"eye-slash"}}):a("b-icon",{attrs:{icon:"eye"}})],1)],1)],1):t._e(),2==t.passwordSelector?a("b-input-group",[a("b-form-input",{staticClass:"css-password",attrs:{disabled:""},model:{value:t.passwordvalue,callback:function(e){t.passwordvalue=e},expression:"passwordvalue"}}),a("b-input-group-append",[a("b-button",{attrs:{variant:"info"},on:{click:t.generatepassword}},[t._v("Generate")])],1)],1):t._e()],1)],1),a("b-form-group",{attrs:{label:"User Role"}},[a("b-form-select",{attrs:{options:t.role,required:""},model:{value:t.createform.api_role,callback:function(e){t.$set(t.createform,"api_role",e)},expression:"createform.api_role"}})],1),a("b-form-group",{attrs:{label:"Campus & Faculty"}},[a("b-form-row",[a("b-col",[a("b-form-select",{attrs:{options:t.campus,"value-field":"api_id","text-field":"api_name",required:""},on:{change:t.campusvalue},model:{value:t.createform.api_campus,callback:function(e){t.$set(t.createform,"api_campus",e)},expression:"createform.api_campus"}})],1),a("b-col",[a("b-form-select",{attrs:{options:t.faculty,"value-field":"api_id","text-field":"api_name",required:"","disabled-field":"campusfaculties"},model:{value:t.createform.api_faculty,callback:function(e){t.$set(t.createform,"api_faculty",e)},expression:"createform.api_faculty"}})],1)],1)],1),1==t.createform.api_role?a("b-form-group",{attrs:{label:"NIM"}},[a("b-form-input",{attrs:{type:"number",required:"",placeholder:"Enter NIM"},model:{value:t.createform.api_nim,callback:function(e){t.$set(t.createform,"api_nim",e)},expression:"createform.api_nim"}})],1):a("b-form-group",{attrs:{label:"Staff ID"}},[a("b-form-input",{attrs:{type:"number",required:"",placeholder:"Enter Staff ID"},model:{value:t.createform.api_staffid,callback:function(e){t.$set(t.createform,"api_staffid",e)},expression:"createform.api_staffid"}})],1),a("b-form-group",{attrs:{label:"Contact Number"}},[a("b-form-input",{attrs:{type:"number",required:"",placeholder:"Enter Contact"},model:{value:t.createform.api_contact,callback:function(e){t.$set(t.createform,"api_contact",e)},expression:"createform.api_contact"}})],1)]:t._e(),2==t.updatemode?[a("b-form",{on:{"~submit":function(e){return e.preventDefault(),t.form_navigator(e)}}},[a("b-card",{attrs:{"bg-variant":"light"}},[a("b-form-group",{attrs:{label:"User Photo"}},[t.imagepreviewer?a("div",{staticClass:"mb-6",attrs:{id:"preview"}},[a("b-img",{attrs:{src:t.imagepreviewer,alt:t.currentview.api_name}}),a("b-icon",{staticClass:"app_closefix",attrs:{"font-scale":"2",icon:"x-circle-fill",variant:"danger"},on:{click:t.clearPicture}}),a("hr")],1):a("div",{staticClass:"userPicture"},[a("b-img",{staticClass:"css-campusthumbnail",attrs:{src:t.currentview.api_picture,rounded:"circle",alt:t.currentview.api_name}})],1)]),a("b-form-group",{attrs:{id:"input-group-0"}},[a("b-input-group",[a("b-input-group-prepend",{attrs:{"is-text":""}},[a("b-icon",{attrs:{icon:"image-fill"}})],1),a("b-form-file",{attrs:{id:"form-image",placeholder:"Choose a file or drop it here...","drop-placeholder":"Drop file here...",accept:"image/*"},on:{change:t.uploadImage},model:{value:t.update_picture,callback:function(e){t.update_picture=e},expression:"update_picture"}})],1)],1),a("b-form-group",{attrs:{label:"First, Middle, and Last name"}},[a("b-form-row",[a("b-col",[a("b-form-input",{attrs:{required:"",placeholder:"First Name"},model:{value:t.updateform.api_firstname,callback:function(e){t.$set(t.updateform,"api_firstname",e)},expression:"updateform.api_firstname"}})],1),a("b-col",[a("b-form-input",{attrs:{required:"",placeholder:"Middle & Last Name"},model:{value:t.updateform.api_othernames,callback:function(e){t.$set(t.updateform,"api_othernames",e)},expression:"updateform.api_othernames"}})],1)],1)],1),a("b-form-group",{attrs:{label:"Email Address"}},[a("b-form-input",{attrs:{type:"email",required:"",placeholder:"Enter email"},model:{value:t.updateform.api_email,callback:function(e){t.$set(t.updateform,"api_email",e)},expression:"updateform.api_email"}})],1),a("b-form-group",{attrs:{label:"Password"}},[a("b-card",{attrs:{"bg-variant":"light"}},[a("b-form-radio-group",{staticClass:"mb-3",attrs:{options:t.passwordchoice,"value-field":"item","text-field":"name","disabled-field":"notEnabled"},on:{change:t.passwordtype},model:{value:t.passwordSelector,callback:function(e){t.passwordSelector=e},expression:"passwordSelector"}}),1==t.passwordSelector?a("b-input-group",[a("b-form-input",{staticClass:"css-password",attrs:{placeholder:"Own Password",disabled:""},model:{value:t.updateform.api_password,callback:function(e){t.$set(t.updateform,"api_password",e)},expression:"updateform.api_password"}})],1):t._e(),2==t.passwordSelector?a("b-input-group",[a("b-form-input",{staticClass:"css-password",attrs:{type:t.showpassword?"text":"password",required:"",placeholder:"Enter password"},model:{value:t.updateform.api_password,callback:function(e){t.$set(t.updateform,"api_password",e)},expression:"updateform.api_password"}}),a("b-input-group-append",[a("b-button",{attrs:{variant:"info"},on:{click:function(e){t.showpassword=!t.showpassword}}},[t.showpassword?a("b-icon",{attrs:{icon:"eye-slash"}}):a("b-icon",{attrs:{icon:"eye"}})],1)],1)],1):t._e(),3==t.passwordSelector?a("b-input-group",[a("b-form-input",{staticClass:"css-password",attrs:{disabled:""},model:{value:t.passwordvalue,callback:function(e){t.passwordvalue=e},expression:"passwordvalue"}}),a("b-input-group-append",[a("b-button",{attrs:{variant:"info"},on:{click:t.generatepassword}},[t._v("Generate")])],1)],1):t._e()],1)],1),a("b-form-group",{attrs:{label:"User Role"}},[a("b-form-select",{attrs:{options:t.role,required:""},model:{value:t.updateform.api_role,callback:function(e){t.$set(t.updateform,"api_role",e)},expression:"updateform.api_role"}})],1),a("b-form-group",{attrs:{label:"Campus & Faculty"}},[a("b-form-row",[a("b-col",[a("b-form-select",{attrs:{options:t.campus,"value-field":"api_id","text-field":"api_name",required:""},on:{change:t.campusvalue},model:{value:t.updateform.api_campus,callback:function(e){t.$set(t.updateform,"api_campus",e)},expression:"updateform.api_campus"}})],1),a("b-col",[a("b-form-select",{attrs:{options:t.faculty,"value-field":"api_id","text-field":"api_name",required:"","disabled-field":"campusfaculties"},model:{value:t.updateform.api_faculty,callback:function(e){t.$set(t.updateform,"api_faculty",e)},expression:"updateform.api_faculty"}})],1)],1)],1),1==t.updateform.api_role?a("b-form-group",{attrs:{label:"NIM"}},[a("b-form-input",{attrs:{type:"number",required:"",placeholder:"Enter NIM"},model:{value:t.updateform.api_nim,callback:function(e){t.$set(t.updateform,"api_nim",e)},expression:"updateform.api_nim"}})],1):a("b-form-group",{attrs:{label:"Staff ID"}},[a("b-form-input",{attrs:{type:"number",required:"",placeholder:"Enter Staff ID"},model:{value:t.updateform.api_staffid,callback:function(e){t.$set(t.updateform,"api_staffid",e)},expression:"updateform.api_staffid"}})],1),a("b-form-group",{attrs:{label:"Contact Number"}},[a("b-form-input",{attrs:{type:"number",required:"",placeholder:"Enter Contact"},model:{value:t.updateform.api_contact,callback:function(e){t.$set(t.updateform,"api_contact",e)},expression:"updateform.api_contact"}})],1)],1)],1)]:t._e(),3==t.updatemode||4==t.updatemode?[a("b-form",{on:{"~submit":function(e){return e.preventDefault(),t.form_navigator(e)}}},[a("b-card",{attrs:{"bg-variant":"light"}},[a("h5",{staticClass:"mb-4"},[t._v(t._s(3==t.updatemode?"Block ":"Delete ")+" "+t._s(t.currentview.api_firstname)+" ? ")]),a("div",{staticClass:"css-deletewrapper"},[a("b-img",{staticClass:"css-userthumbnail",attrs:{src:t.currentview.api_picture,rounded:"circle",alt:"Get full name"}}),a("div",{staticClass:"css-deleteid"},[a("small",[t._v("USER ID")]),a("h5",[t._v(t._s(t.currentview.api_id))])])],1),a("b-list-group",[a("h3",[t._v("User Information")]),a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[t._v(" Name ")]),a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[t._v(" Email "),a("p",[t._v(t._s(t.currentview.api_email))])]),a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[t._v(" Faculty "),a("p",[t._v(" "+t._s(t.currentview.api_faculty.api_name)+", "+t._s(t.currentview.api_campus.api_name)+" ")])]),a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[t._v(" "+t._s(1==t.currentview.api_role?"NIM":"Staff ID")+" "),a("p",[t._v(" "+t._s(1==t.currentview.api_role?t.currentview.api_nim:t.currentview.api_staffid)+" ")])])],1)],1)],1)]:t._e(),5==t.updatemode||6==t.updatemode?[a("b-form-group",{attrs:{label:"Name"}},[a("b-form-input",{attrs:{type:"text",required:"",placeholder:"Enter Faculty Name"},model:{value:t.facultyform.api_name,callback:function(e){t.$set(t.facultyform,"api_name",e)},expression:"facultyform.api_name"}})],1),a("b-form-group",{attrs:{label:"Address"}},[a("b-form-textarea",{attrs:{id:"textarea",placeholder:"Enter Faculty Description...",rows:"3","max-rows":"6"},model:{value:t.facultyform.api_description,callback:function(e){t.$set(t.facultyform,"api_description",e)},expression:"facultyform.api_description"}})],1)]:t._e(),7==t.updatemode?[a("div",{staticClass:"css-deleteid"},[a("small",[t._v("FACULTY ID")]),a("h5",[t._v(t._s(t.currentview.api_id))])]),a("b-list-group",[a("h3",[t._v("Faculty Information")]),a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[t._v(" Name "),a("p",[t._v(t._s(t.currentview.api_name))])]),a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[t._v(" Description "),a("p",[t._v(t._s(t.currentview.api_description))])])],1)]:t._e()],2)],1)],1),a("b-modal",{ref:"modal",attrs:{centered:"",id:"modal-confirmation","header-bg-variant":"danger","header-text-variant":"light",title:"Confirm Action"},on:{ok:t.confirm_modelAction,cancel:t.onConfirmCancel},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var i=e.ok,r=e.cancel;return[a("div",{staticClass:"w-100"},[a("b-button",{staticClass:"float-left",attrs:{variant:"outline-danger"},on:{click:function(t){return r()}}},[t._v(" Cancel ")]),a("b-button",{staticClass:"float-right",attrs:{variant:"danger"},on:{click:function(t){return i()}}},[t._v(" Continue ")])],1)]}}])},[a("b-card",{ref:"form",on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.modalConfirmAction(e)}}},[a("div",{staticClass:"text-center"},[a("b-icon",{staticStyle:{width:"80px",height:"80px"},attrs:{icon:"exclamation-circle"}}),a("h5",[t._v("Are you sure about this ?")])],1)])],1)],1)},Oa=[],Ba={name:"app_campusescollection",components:{EmptyContent:sa,EmptyPreview:dt},data:function(){return{apiuserscollection:[],apicampusescollection:[],apifacultycollection:[],imagepreviewer:"",file:"",setmodal:0,updatemode:0,confirmation:!1,selectedcampus:0,rows:100,perPage:1,viewingitem:"",currentPage:1,settab:1,preview:!1,previewindex:"-",tabIndex:0,facultyedit:"false",addfacultyform:{api_id:"",api_thumbnail:[]},facultyform:{api_name:"",api_description:""},currentview:{},campusform:{api_name:"",api_thumbnail:[],api_description:"",api_address:"",api_email:""},campuscreateform:{api_name:"",api_thumbnail:[],api_description:"",api_address:"",api_contact:"",api_email:""},selected:"A",show_updatemodal:!1,show_createcampus:!1,show_deletecampus:!1,previewreload:!1,search:"",filterinput:"",pendingcampus:[],variant:"dark",role:[{value:1,text:"Student"},{value:2,text:"Staff"},{value:3,text:"Admin"}],campus:[],faculty:[],campusfaculties:[],formButton:"",createform:{api_firstname:"",api_othernames:"",api_role:1,api_picture:[],api_email:"",api_nim:"",api_contact:"",api_password:"",api_cpassword:"",api_campus:"",api_faculty:"",api_staffid:0,api_status:null},update_picture:[],passwordvalue:"",passwordchoice:[{item:"1",name:"Current"},{item:"2",name:"New Password"},{item:"3",name:"Generate Password"}],passwordchoicecreate:[{item:"1",name:"New Password"},{item:"2",name:"Generate Password"}],passwordSelector:1,showpassword:!1,activecount:0,blockedcount:0}},methods:Object(n["a"])(Object(n["a"])({},Object(o["b"])({apicampuses:"store_campuses/apicampuses",ex_campuses:"store_campuses/ex_campuses",ex_campusupdate:"store_campuses/ex_campusupdate",ex_querycampusfaculty:"store_campuses/ex_querycampusfaculty",ex_addcampusfaculty:"store_campuses/ex_addcampusfaculty",ex_faculties:"store_campuses/ex_faculties",ex_putfaculty:"store_campuses/ex_putfaculty",ex_getfaculties:"store_campuses/ex_getfaculties",ex_unmapfaculty:"store_campuses/ex_unmapfaculty",ex_deletecampus:"store_campuses/ex_deletecampus",ex_deletefaculty:"store_campuses/ex_deletefaculty",apiitems:"apiitems",apimyborrow:"apimyborrow",apiusers:"apiusers",ex_apiupdateuser:"ex_apiupdateuser",ex_userBlock:"ex_userBlock",ex_userDelete:"ex_userDelete",ex_campusfaculties:"store_campuses/ex_campusfaculties",ex_getusers:"ex_getusers",ex_register:"ex_register"})),{},{confirm_modelAction:function(t){t.preventDefault(),this.modalConfirmAction()},modalConfirmAction:function(){var t=this;this.confirmation?this.$nextTick((function(){t.$bvModal.hide("modal-confirmation"),t.$bvModal.show("modal-forms"),t.confirmation=!1})):this.$bvModal.show("modal-forms")},onConfirmCancel:function(){this.confirmation=!1},setpreview:function(t){var e=this;this.previewreload=!0,setTimeout((function(){e.preview=!0,e.previewindex=t,e.currentview=JSON.parse(JSON.stringify(e.filterusers[t])),e.previewreload=!1}),500)},formaction:function(t){switch(this.updatemode=t,t){case 1:this.formButton="Create";break;case 2:this.formButton="Update",this.updateform=JSON.parse(JSON.stringify(this.currentview));break;case 3:this.formButton=1==this.currentview.api_status?"Block":"Unblock",this.confirmation=!0;break;case 4:this.formButton="Delete",this.confirmation=!0;break}1!=t&&2!=t||this.fn_getcampuses(),this.confirmation?this.$bvModal.show("modal-confirmation"):this.$bvModal.show("modal-forms")},geturl:function(t){var e=this.$router.resolve({name:"Itemdetails",params:{item:t}});window.open(e.href,"_blank")},countcampus:function(){return this.apiuserscollection.length},countfaculty:function(){return this.apifacultycollection.length},fn_cancelupdate:function(){this.show_updatemodal=!1,this.form={}},form_navigator:function(){switch(this.updatemode){case 1:this.fn_usercreate();break;case 2:this.fn_userupdate();break;case 3:this.fn_userBlock();break;case 4:this.fn_deleteuser();break}},fn_usercreate:function(){var t=this;this.createform.api_cpassword=this.createform.api_password;var e=new FormData;e.append("api_firstname",this.createform.api_firstname),e.append("api_othernames",this.createform.api_othernames),e.append("api_role",this.createform.api_role),e.append("api_picture",this.file),e.append("api_email",this.createform.api_email),e.append("api_nim",this.createform.api_nim),e.append("api_password",this.createform.api_password),e.append("api_cpassword",this.createform.api_cpassword),e.append("api_contact",this.createform.api_contact),e.append("api_campus",this.createform.api_campus),e.append("api_faculty",this.createform.api_faculty),e.append("api_staffid",this.createform.api_staffid),e.append("api_status",this.createform.api_status),this.ex_register(e).then((function(e){200==e.status&&(t.$bvToast.toast(e.message,{title:"Register",variant:200==e.status?"primary":"danger",solid:!0}),t.defaultcreateform(),t.getusers())}))},fn_userupdate:function(){var t=this;if(1!=this.passwordSelector&&(3==this.passwordSelector&&(this.updateform.api_password=this.passwordvalue),!this.updateform.api_password||this.updateform.api_password.length<6))return alert("Check password length "),void(this.passwordSelector=1);var e=new FormData;e.append("_method","PUT"),e.append("api_id",this.updateform.api_id),e.append("api_firstname",this.updateform.api_firstname),e.append("api_othernames",this.updateform.api_othernames),e.append("api_role",this.updateform.api_role),e.append("api_picture",this.newPicture()),e.append("api_email",this.updateform.api_email),e.append("api_nim",this.updateform.api_nim),e.append("api_password",this.updateform.api_password),e.append("api_cpassword",this.updateform.api_password),e.append("api_contact",this.updateform.api_contact),e.append("api_role",this.updateform.api_role),e.append("api_campus",this.updateform.api_campus),e.append("api_faculty",this.updateform.api_faculty),e.append("api_staffid",this.updateform.api_staffid),e.append("api_status",this.updateform.api_status),this.ex_apiupdateuser(e).then((function(e){t.$bvToast.toast(e.message,{title:"Update",variant:200==e.status?"primary":"danger",solid:!0}),200==e.status&&(t.preview=!1,t.$nextTick((function(){t.$bvModal.hide("modal-forms")})),t.clearview()),400==e.status&&(t.updateerror=e.data)}))},fn_userBlock:function(){var t=this;this.ex_userBlock(this.currentview.api_id).then((function(e){t.$bvToast.toast(e.message,{title:t.currentview.api_status?"Block User ":"Unblock User",variant:200==e.status?"primary":"danger",solid:!0}),200==e.status&&(t.preview=!1,t.clearview())}))},fn_deleteuser:function(){var t=this;this.ex_userDelete(this.currentview.api_id).then((function(e){t.$bvToast.toast(e.message,{title:"Delete User",variant:200==e.status?"primary":"danger",solid:!0}),200==e.status&&(t.preview=!1,t.clearview())}))},get_campusheader:function(){return 1==this.currentview.api_role?"NIM":"Staff ID"},get_campusidentity:function(){return 1==this.currentview.api_role?this.currentview.api_nim:this.currentview.api_staffid},generatepassword:function(){var t=Math.random().toString(36).substring(2,6)+Math.random().toString(36).substring(2,8);this.passwordvalue=t,this.form.api_password=t},fn_showcreatecampus:function(){this.show_createcampus=!0},abbreviate:function(t){var e=t.match(/\b(\w)/g),a=e.join("");return a},updatefaculty:function(){var t=this,e={faculty:this.currentview.api_id,api_name:this.facultyform.api_name,api_description:this.facultyform.api_description};this.ex_putfaculty(e).then((function(e){t.$bvToast.toast(e.message,{title:"Update Faculty",variant:200==e.status?"primary":"danger",solid:!0})})),this.clearFacultyView()},clearview:function(){this.getusers()},clearFacultyView:function(){this.preview=0,this.currentview={},this.getfaculties(),this.settab=2},customsearch:function(){},closepreview:function(){this.preview=!1,this.viewingitem="-",this.previewindex="-"},uploadImage:function(t){var e=t.target.files[0];this.file=t.target.files[0],this.imagepreviewer=URL.createObjectURL(e),URL.revokeObjectURL(e)},clearPicture:function(){this.campuscreateform.api_thumbnail=[],this.imagepreviewer="",this.file=""},setThumbnail:function(){return this.file?this.file:null},getusers:function(){var t=this;this.ex_getusers().then((function(e){t.apiuserscollection=e.data,t.countblockedusers()}))},getcampusfaculty:function(t){return t.api_faculty.api_name+" @ "+t.api_campus.api_name},getrole:function(t){return 1==t?"Student":2==t?" Staff ":" Admin "},getfullname:function(t){return t.api_firstname+" "+t.api_othernames},get_userheader:function(){return 1==this.currentview.api_role?"NIM":"Staff ID"},get_useridentity:function(){return 1==this.currentview.api_role?this.currentview.api_nim:this.currentview.api_staffid},fn_getcampuses:function(){var t=this;this.ex_campusfaculties().then((function(e){t.campus=e.data.filter((function(t){return"admin"!=t.api_name})),t.campus.filter((function(e){2==t.updatemode&&t.currentview.api_campus.api_id==e.api_id&&(t.updateform=JSON.parse(JSON.stringify(t.currentview)),t.updateform.api_campus=t.currentview.api_campus.api_id,t.faculty=e.api_faculties,t.updateform.api_faculty=t.currentview.api_campusinfo,t.updateform.api_picture=[])}))}))},getUserfaculty:function(){var t=this;this.campus.forEach((function(e){t.selectedcampus==e.api_id&&(t.faculty=e.api_faculties)}))},passwordtype:function(t){this.passwordSelector=t},newPicture:function(){return this.file?this.file:this.updateform.api_picture},countblockedusers:function(){var t=0,e=0;this.apiuserscollection.filter((function(a){0==a.api_status&&(e+=1),1==a.api_status&&(t+=1)})),this.activecount=t,this.blockedcount=e},defaultcreateform:function(){this.imagepreviewer="",this.createform.api_firstname="",this.createform.api_othernames="",this.createform.api_role=1,this.createform.api_picture=[],this.createform.api_email="",this.createform.api_nim="",this.createform.api_contact="",this.createform.api_password="",this.createform.api_cpassword="",this.createform.api_campus="",this.createform.api_faculty="",this.createform.api_staffid=0,this.createform.api_status=null},campusvalue:function(t){this.selectedcampus=t}}),computed:Object(n["a"])(Object(n["a"])({},Object(o["c"])(["get_user"])),{},{totalresult:function(){var t=this.items.length.toString();return"(".concat(t,")  ").concat(1==this.items.length?" item ":"items ","  found")},activeitem:function(){return this.borroweditems.length>0?1:0},searchtype:function(){return this.settab},checkpassword:function(){return this.passwordSelector},closeaction:function(){return this.preview},getcounter:function(){return this.apiuserscollection},watchtab:function(){return this.settab},watchpreview:function(){return this.preview},filtercampuses:function(){var t=this;return this.apicampusescollection.filter((function(e){return e.api_name.toLowerCase().includes(t.filterinput.toLowerCase())}))},filterfaculties:function(){var t=this;return this.apifacultycollection?this.apifacultycollection.filter((function(e){return e.api_name.toLowerCase().includes(t.filterinput.toLowerCase())})):null},whichmodal:function(){return this.setmodal},previewer:function(){return this.preview},filterusers:function(){var t=this;return this.apiuserscollection.filter((function(e){return 1==t.settab?1==e.api_status&&e.api_firstname.toLowerCase().includes(t.filterinput.toLowerCase()):!e.api_status&&e.api_firstname.toLowerCase().includes(t.filterinput.toLowerCase())}))},activecampus:function(){return this.selectedcampus}}),watch:{searchtype:function(){var t=this;this.previewreload=!0,setTimeout((function(){t.previewreload=!1,t.preview=!1}),1e3)},whichmodal:function(){this.show_createcampus=!0},activecampus:function(){this.getUserfaculty()}},created:function(){this.getusers()}},Aa=Ba,Pa=(a("2be9"),Object(m["a"])(Aa,La,Oa,!1,null,"65875351",null)),Ea=Pa.exports,qa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{staticClass:"app_next",attrs:{fluid:""}},[a("b-container",{staticClass:"app_main_wrapper",attrs:{fluid:""}},[a("b-container",{staticClass:"app-center-all",attrs:{fluid:""}},[a("b-container",{attrs:{fluid:""}},[a("b-row",[a("b-col",{staticClass:"item-contentonly",attrs:{cols:1!=t.get_user.role?"6":"12"}},[a("div",{staticClass:"app-css-section-row"},[a("ul",{staticClass:"app-cus-ul"},[a("li",{staticClass:"app-cus-li",class:{app_activetab:1==t.settab},on:{click:function(e){return t.tabAction(1)}}},[t._v(" Campuses ("+t._s(t.countcampus())+") ")]),a("li",{staticClass:"app-cus-li",class:{app_activetab:2==t.settab},on:{click:function(e){return t.tabAction(2)}}},[t._v(" Faculties ( "+t._s(t.countfaculty())+") ")])]),a("div",{staticClass:"self-form"},[a("b-form",{staticClass:"search-form"},[a("label",{staticClass:"sr-only",attrs:{for:"inline-form-input-name"}},[t._v("Name")]),a("b-input",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{id:"inline-form-input-name",placeholder:1==t.settab?"Search Campus":"Search Faculty"},model:{value:t.filterinput,callback:function(e){t.filterinput=e},expression:"filterinput"}})],1)],1),a("b-container",{staticClass:"app_topmargin",attrs:{fluid:""}},[a("div",[a("p",{},[t._v(" Select from campuses/faculties below to preview ")]),a("div",{staticClass:"text-center app-director"},[a("p",{staticClass:"mt-3"},[a("b-icon",{attrs:{icon:"chevron-right",scale:"1",rotate:"90","shift-h":"4",variant:"secondary"}})],1)])])]),a("b-container",{staticClass:"p-0 m-0",attrs:{fluid:"",card:""}},[t.filtercampuses.length>0?[1==t.settab?a("b-list-group",t._l(t.filtercampuses,(function(e,i){return a("b-list-group-item",{key:i,staticClass:"d-flex justify-content-around align-items-center",class:{activeview:t.previewindex==i},on:{click:function(e){return t.setpreview(i)}}},[a("b-avatar",{staticClass:"mr-3",attrs:{src:e.api_thumbnail}}),a("span",{staticClass:"mr-auto capitalize"},[t._v(t._s(e.api_name)+" ")])],1)})),1):t._e()]:[a("empty-content")],2==t.settab?a("b-list-group",t._l(t.filterfaculties,(function(e,i){return a("b-list-group-item",{key:i,staticClass:"d-flex align-items-center",class:{activeview:t.previewindex==i},on:{click:function(e){return t.setpreview(i)}}},[t.previewreload?[a("b-skeleton",{staticClass:"gb-skeleten",attrs:{type:"button",animation:"throb",width:"30%"}})]:[a("b-badge",{staticClass:"cus-badge"},[t._v(t._s(t.abbreviate(e.api_name)))]),a("p",{staticClass:"css-spacer"}),a("span",{staticClass:"mr-auto capitalize"},[t._v(" "+t._s(e.api_name)+" ")])]],2)})),1):t._e(),a("div",{staticClass:"managecontent-form"},[t.pendingcampus?[a("b-list-group",t._l(t.pendingcampus,(function(e,i){return a("b-list-group-item",{key:i},[t._v(" "+t._s(e)+" ")])})),1)]:t._e()],2)],2)],1)]),a("b-col"),a("b-col",{staticClass:"previewer-pane",attrs:{md:"5"}},[a("div",{staticClass:"app_rounded app_padding30 app_plain"},[t.previewer?[a("div",{staticClass:"preview-indicator"},[t.previewreload?a("b-skeleton",{attrs:{type:"input",animation:"throb",width:"20%"}}):a("div",{staticClass:"app_20padding text-center mb-4"},[a("h5",{staticClass:"previewer-header app_shader"},[t._v(" PREVIEW "+t._s(1==t.settab?"CAMPUS":"FACULTY")+" ")])]),a("p",{staticClass:"previewx",on:{click:t.closepreview}},[a("b-icon",{attrs:{icon:"x-circle-fill",scale:"2.5",variant:"danger"}})],1)],1),1==t.settab?[a("div",[a("b-row",[a("b-col",{staticClass:"mb-item",attrs:{md:"12"}},[a("div",{staticClass:"itemonly-header"},[a("div",[t.previewreload?a("b-skeleton",{attrs:{type:"text",scale:"0.5",animation:"throb",width:"20%"}}):[a("div",{staticClass:"app_20padding text-center mb-4"},[a("h3",{staticClass:"previewer-header"},[a("b-icon",{attrs:{icon:"journal-richtext",variant:"info"}}),t._v(" Campus Information ")],1)])]],2)]),a("b-row",[a("b-col",{staticClass:"mb-borrower",attrs:{md:"6"}},[t.previewreload?a("b-skeleton-img",{staticClass:"mb-img-skeleten",attrs:{"no-aspect":"",height:"150px"}}):a("b-img",{staticClass:"mb-image",attrs:{fluid:"",src:t.currentview.api_thumbnail,alt:t.currentview.api_name}}),a("b-list-group",[t.previewreload?[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),a("b-skeleton",{attrs:{animation:"throb",width:"55%"}})],1)]:[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("small",[t._v("ID")]),a("span",{staticClass:"app-main-id"},[t._v(t._s(t.currentview.api_id))])])],t.previewreload?[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),a("b-skeleton",{attrs:{animation:"throb",width:"55%"}})],1)]:[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("small",[a("b-icon",{attrs:{icon:"tag"}}),t._v(" Name")],1),a("span",[t._v(t._s(t.currentview.api_name))])])],t.previewreload?[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),a("b-skeleton",{attrs:{animation:"throb",width:"55%"}})],1)]:[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("small",[a("b-icon",{attrs:{icon:"envelope"}}),t._v(" Email")],1),a("span",[t._v(t._s(t.currentview.api_email))])])],t.previewreload?[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),a("b-skeleton",{attrs:{animation:"throb",width:"55%"}})],1)]:[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("small",[a("b-icon",{attrs:{icon:"telephone-outbound"}}),t._v(" Contact")],1),a("span",[t._v(t._s(t.currentview.api_contact))])])],t.previewreload?[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),a("b-skeleton",{attrs:{animation:"throb",width:"55%"}})],1)]:[a("b-list-group-item",{},[a("small",[a("b-icon",{attrs:{icon:"patch-exclamation"}}),t._v(" Information")],1),a("p",{staticClass:"css_campusaddress"},[t._v(" "+t._s(t.currentview.api_description)+" ")])])],t.previewreload?[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),a("b-skeleton",{attrs:{animation:"throb",width:"55%"}})],1)]:[a("b-list-group-item",{},[a("small",[a("b-icon",{attrs:{icon:"building"}}),t._v(" Address")],1),a("p",{staticClass:"css_campusaddress"},[t._v(" "+t._s(t.currentview.api_address)+" ")])])]],2)],1),a("b-col",{staticClass:"css-facultiesonly",attrs:{md:"6"}},[t.previewreload?[a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}),t.previewreload?a("b-skeleton-img",{staticClass:"mb-img-skeleten",attrs:{"no-aspect":"",height:"150px"}}):t._e()]:[t.previewreload?a("b-skeleton",{attrs:{animation:"throb",width:"55%"}}):a("h5",[t._v("Faculties")]),t.currentview.api_faculties.length>0?[a("b-list-group",t._l(t.currentview.api_faculties,(function(e,i){return a("b-list-group-item",{key:e.api_id,staticClass:"d-flex align-items-center"},[t.facultyedit==e.api_id?[a("span",[t._v(t._s(i+1))]),a("span",{staticClass:"css-spacer"}),a("b-input",{attrs:{disabled:"",value:"Delete ?"}}),a("p",{staticClass:"css-spacer"}),a("b-button-group",[a("b-button",{attrs:{variant:"success"}},[a("b-icon",{attrs:{icon:"check"},on:{click:t.fn_unmapfaculty}})],1),a("b-button",{attrs:{variant:"danger"}},[a("b-icon",{attrs:{icon:"x-circle-fill"},on:{click:function(e){t.facultyedit=0}}})],1)],1)]:[a("span",[t._v(t._s(i+1)+" :")]),a("p",{staticClass:"css-spacer"}),a("span",{staticClass:"mr-auto capitalize"},[t._v(" "+t._s(e.api_name)+" ")]),a("b-icon",{attrs:{icon:"trash"},on:{click:function(a){t.facultyedit=e.api_id}}})]],2)})),1)]:[a("empty-content")]]],2)],1)],1)],1),a("div",{staticClass:"mb-control mt-4"},[t.previewreload?a("b-skeleton",{staticClass:"gb-skeleten",attrs:{type:"button",animation:"throb",width:"20%"}}):a("b-button-group",[t.currentview.api_name?a("b-button",{attrs:{variant:"secondary"},on:{click:function(e){return t.formaction(2)}}},[t._v("Update Campus")]):t._e(),a("b-button",{attrs:{variant:"outline-danger"},on:{click:function(e){return t.formaction(3)}}},[[t._v("Add Faculty")]],2)],1),t.previewreload?a("b-skeleton",{staticClass:"gb-skeleten",attrs:{type:"button",animation:"throb",width:"10%"}}):a("b-button",{attrs:{variant:"danger"},on:{click:function(e){return t.formaction(4)}}},[t._v("Delete Campus")])],1)],1)]:[a("div",[a("b-row",[a("b-col",{staticClass:"mb-item",attrs:{md:"12"}},[a("div",{staticClass:"itemonly-header"},[t.previewreload?a("b-skeleton",{attrs:{type:"text",scale:"0.5",animation:"throb",width:"20%"}}):a("p",{staticClass:"previewer-header"},[t._v(" Faculty Description ")])],1),a("b-list-group",[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[t.previewreload?a("b-skeleton",{staticClass:"gb-skeleten",attrs:{type:"button",animation:"throb",width:"20%"}}):a("span",{staticClass:"mr-auto capitalize fchead"},[a("span",[a("b-icon",{attrs:{icon:"info-square","aria-label":"Info"}}),t._v(" Faculty Name")],1)])],1),a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[t.previewreload?a("b-skeleton",{staticClass:"gb-skeleten",attrs:{type:"button",animation:"throb",width:"20%"}}):a("span",{staticClass:"mr-auto capitalize"},[t._v(" "+t._s(t.currentview.api_name)+" ")])],1),a("hr"),a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[t.previewreload?a("b-skeleton",{staticClass:"gb-skeleten",attrs:{type:"button",animation:"throb",width:"20%"}}):a("span",{staticClass:"mr-auto capitalize fchead"},[a("b-icon",{attrs:{icon:"question-square","aria-label":"Help"}}),t._v(" Faculty Description ")],1)],1),a("b-list-group-item",{staticClass:"d-flex  text-left justify-content-between align-items-center"},[t.previewreload?a("b-skeleton",{staticClass:"gb-skeleten",attrs:{type:"button",animation:"throb",width:"20%"}}):a("span",{staticClass:"mr-auto capitalize"},[t._v(" "+t._s(t.currentview.api_description)+" ")])],1)],1)],1)],1),a("div",{staticClass:"faculty-control mt-5"},[a("div",{},[t.previewreload?a("b-skeleton",{staticClass:"gb-skeleten",attrs:{type:"button",animation:"throb",width:"30%"}}):a("b-button",{attrs:{variant:"outline-danger"},on:{click:function(e){return t.formaction(6)}}},[a("b-icon",{attrs:{icon:"pencil-square"}}),t._v(" Update")],1)],1),a("div",{},[t.previewreload?a("b-skeleton",{staticClass:"gb-skeleten",attrs:{type:"button",animation:"throb",width:"30%"}}):a("b-button",{attrs:{variant:"danger"},on:{click:function(e){return t.formaction(7)}}},[t._v("Delete")])],1)])],1)]]:[a("empty-preview")]],2)])],1),3==t.get_user.role&&!1===t.preview?a("div",{staticClass:"app-create-action"},[1==t.settab?[a("b-button",{attrs:{variant:"success"},on:{click:function(e){return t.formaction(1)}}},[a("b-icon",{attrs:{icon:"plus-circle-fill"}}),t._v(" Campus")],1)]:[a("b-button",{attrs:{variant:"primary"},on:{click:function(e){return t.formaction(5)}}},[a("b-icon",{attrs:{icon:"plus-circle-fill"}}),t._v(" Faculty")],1)]],2):t._e()],1)],1)],1),a("b-modal",{ref:"modal",attrs:{size:"lg",id:"modal-forms",title:t.formButton,centered:""},on:{ok:t.form_navigator},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var i=e.ok,r=e.cancel;return[a("div",{staticClass:"w-100"},[a("b-button",{staticClass:"float-left",attrs:{variant:"outline-danger"},on:{click:function(t){return r()}}},[t._v(" Cancel ")]),a("b-button",{staticClass:"float-right",attrs:{variant:"Delete"!=t.formButton?"success":"danger"},on:{click:function(t){return i()}}},[t._v(" "+t._s(t.formButton)+" ")])],1)]}}])},[a("b-form",[a("b-card",[1==t.updatemode?[a("b-form",{on:{"~submit":function(e){return e.preventDefault(),t.form_navigator(e)}}},[a("b-card",{attrs:{"bg-variant":"light"}},[t.imagepreviewer?a("div",{staticClass:"mb-6",attrs:{id:"preview"}},[a("b-img",{attrs:{src:t.imagepreviewer,alt:t.campuscreateform.api_name}}),a("b-icon",{staticClass:"app_closefix",attrs:{"font-scale":"2",icon:"x-circle-fill",variant:"danger"},on:{click:t.clearPicture}}),a("hr")],1):t._e(),a("b-form-group",{attrs:{id:"input-group-0",label:"Campus Picture"}},[a("b-input-group",[a("b-input-group-prepend",{attrs:{"is-text":""}},[a("b-icon",{attrs:{icon:"image-fill"}})],1),a("b-form-file",{attrs:{id:"form-image",placeholder:"Choose a file or drop it here...","drop-placeholder":"Drop file here...",accept:"image/*"},on:{change:t.uploadImage},model:{value:t.campuscreateform.api_thumbnail,callback:function(e){t.$set(t.campuscreateform,"api_thumbnail",e)},expression:"campuscreateform.api_thumbnail"}})],1)],1),a("b-form-group",{attrs:{label:"Name"}},[a("b-form-input",{attrs:{type:"text",required:"",placeholder:"Enter Campus Name"},model:{value:t.campuscreateform.api_name,callback:function(e){t.$set(t.campuscreateform,"api_name",e)},expression:"campuscreateform.api_name"}})],1),a("b-form-group",{attrs:{label:"Information"}},[a("b-form-textarea",{attrs:{id:"textarea",placeholder:"Enter Campus Information...",rows:"3","max-rows":"6"},model:{value:t.campuscreateform.api_description,callback:function(e){t.$set(t.campuscreateform,"api_description",e)},expression:"campuscreateform.api_description"}})],1),a("b-form-group",{attrs:{label:"Address"}},[a("b-form-textarea",{attrs:{id:"textarea",placeholder:"Enter Campus Address...",rows:"3","max-rows":"6"},model:{value:t.campuscreateform.api_address,callback:function(e){t.$set(t.campuscreateform,"api_address",e)},expression:"campuscreateform.api_address"}})],1),a("b-form-group",{attrs:{label:"Contact"}},[a("b-form-input",{attrs:{type:"text",required:"",placeholder:"Enter Campus Contact"},model:{value:t.campuscreateform.api_contact,callback:function(e){t.$set(t.campuscreateform,"api_contact",e)},expression:"campuscreateform.api_contact"}})],1),a("b-form-group",{attrs:{label:"Email"}},[a("b-form-input",{attrs:{type:"text",required:"",placeholder:"Enter Campus Email"},model:{value:t.campuscreateform.api_email,callback:function(e){t.$set(t.campuscreateform,"api_email",e)},expression:"campuscreateform.api_email"}})],1)],1)],1)]:t._e(),2==t.updatemode?[a("b-form",{on:{"~submit":function(e){return e.preventDefault(),t.form_navigator(e)}}},[a("b-card",{attrs:{"bg-variant":"light"}},[t.imagepreviewer?a("div",{staticClass:"mb-6",attrs:{id:"preview"}},[a("b-img",{attrs:{src:t.imagepreviewer,alt:t.campuscreateform.api_name}}),a("b-icon",{staticClass:"app_closefix",attrs:{"font-scale":"2",icon:"x-circle-fill",variant:"danger"},on:{click:t.clearPicture}}),a("hr")],1):t._e(),a("b-form-group",{attrs:{id:"input-group-0",label:"Campus Picture"}},[a("b-input-group",[a("b-input-group-prepend",{attrs:{"is-text":""}},[a("b-icon",{attrs:{icon:"image-fill"}})],1),a("b-form-file",{attrs:{id:"form-image",placeholder:"Choose a file or drop it here...","drop-placeholder":"Drop file here...",accept:"image/*"},on:{change:t.uploadImage},model:{value:t.campuscreateform.api_thumbnail,callback:function(e){t.$set(t.campuscreateform,"api_thumbnail",e)},expression:"campuscreateform.api_thumbnail"}})],1)],1),a("b-form-group",{attrs:{label:"Name"}},[a("b-form-input",{attrs:{type:"text",required:"",placeholder:"Enter Campus Name"},model:{value:t.campusform.api_name,callback:function(e){t.$set(t.campusform,"api_name",e)},expression:"campusform.api_name"}})],1),a("b-form-group",{attrs:{label:"Information"}},[a("b-form-textarea",{attrs:{id:"textarea",placeholder:"Enter Campus Information...",rows:"3","max-rows":"6"},model:{value:t.campusform.api_description,callback:function(e){t.$set(t.campusform,"api_description",e)},expression:"campusform.api_description"}})],1),a("b-form-group",{attrs:{label:"Address"}},[a("b-form-textarea",{attrs:{id:"textarea",placeholder:"Enter Campus Address...",rows:"3","max-rows":"6"},model:{value:t.campusform.api_address,callback:function(e){t.$set(t.campusform,"api_address",e)},expression:"campusform.api_address"}})],1),a("b-form-group",{attrs:{label:"Contact"}},[a("b-form-input",{attrs:{type:"text",required:"",placeholder:"Enter Campus Contact"},model:{value:t.campusform.api_contact,callback:function(e){t.$set(t.campusform,"api_contact",e)},expression:"campusform.api_contact"}})],1),a("b-form-group",{attrs:{label:"Email"}},[a("b-form-input",{attrs:{type:"text",required:"",placeholder:"Enter Campus Email"},model:{value:t.campusform.api_email,callback:function(e){t.$set(t.campusform,"api_email",e)},expression:"campusform.api_email"}})],1)],1)],1)]:t._e(),3==t.updatemode||4==t.updatemode?[a("b-form",{on:{"~submit":function(e){return e.preventDefault(),t.form_navigator(e)}}},[a("b-card",{attrs:{"bg-variant":"light"}},[3==t.updatemode?[a("b-form-group",{attrs:{label:"Add Faculty"}},[a("b-form-select",{attrs:{options:t.faculty,"value-field":"api_id","text-field":"api_name",required:""},model:{value:t.addfacultyform.api_id,callback:function(e){t.$set(t.addfacultyform,"api_id",e)},expression:"addfacultyform.api_id"}})],1)]:t._e(),4==t.updatemode?[a("div",{staticClass:"css-deletewrapper"},[a("b-img",{staticClass:"css-userthumbnail",attrs:{src:t.currentview.api_thumbnail,rounded:"circle"}}),a("div",{staticClass:"css-deleteid"},[a("small",[t._v("CAMPUS ID")]),a("h5",[t._v(t._s(t.currentview.api_id))])])],1),a("b-list-group",[a("h3",[t._v("Campus Information")]),a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[t._v(" Campus "),a("p",[t._v(t._s(t.currentview.api_name))])]),a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[t._v(" Email "),a("p",[t._v(t._s(t.currentview.api_email))])]),a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[t._v(" Contact "),a("p",[t._v(t._s(t.currentview.api_contact))])]),a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"})],1)]:t._e()],2)],1)]:t._e(),5==t.updatemode||6==t.updatemode?[a("b-form-group",{attrs:{label:"Name"}},[a("b-form-input",{attrs:{type:"text",required:"",placeholder:"Enter Faculty Name"},model:{value:t.facultyform.api_name,callback:function(e){t.$set(t.facultyform,"api_name",e)},expression:"facultyform.api_name"}})],1),a("b-form-group",{attrs:{label:"Address"}},[a("b-form-textarea",{attrs:{id:"textarea",placeholder:"Enter Faculty Description...",rows:"3","max-rows":"6"},model:{value:t.facultyform.api_description,callback:function(e){t.$set(t.facultyform,"api_description",e)},expression:"facultyform.api_description"}})],1)]:t._e(),7==t.updatemode?[a("div",{staticClass:"css-deleteid"},[a("small",[t._v("FACULTY ID")]),a("h5",[t._v(t._s(t.currentview.api_id))])]),a("b-list-group",[a("h3",[t._v("Faculty Information")]),a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[t._v(" Name "),a("p",[t._v(t._s(t.currentview.api_name))])]),a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[t._v(" Description "),a("p",[t._v(t._s(t.currentview.api_description))])])],1)]:t._e()],2)],1)],1),a("b-modal",{ref:"modal",attrs:{centered:"",id:"modal-confirmation","header-bg-variant":"danger","header-text-variant":"light",title:"Confirm Action"},on:{ok:t.confirm_modelAction,cancel:t.onConfirmCancel},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var i=e.ok,r=e.cancel;return[a("div",{staticClass:"w-100"},[a("b-button",{staticClass:"float-left",attrs:{variant:"outline-danger"},on:{click:function(t){return r()}}},[t._v(" Cancel ")]),a("b-button",{staticClass:"float-right",attrs:{variant:"danger"},on:{click:function(t){return i()}}},[t._v(" Continue ")])],1)]}}])},[a("b-card",{ref:"form",on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.modalConfirmAction(e)}}},[a("div",{staticClass:"text-center"},[a("b-icon",{staticStyle:{width:"80px",height:"80px"},attrs:{icon:"exclamation-circle"}}),a("h5",[t._v("Are you sure about this ?")])],1)])],1)],1)},Da=[],Na={name:"app_campusescollection",components:{EmptyContent:sa,EmptyPreview:dt},data:function(){return{apicampusescollection:[],apifacultycollection:[],imagepreviewer:"",file:"",setmodal:0,updatemode:0,confirmation:!1,rows:100,perPage:1,viewingitem:"",currentPage:1,settab:1,preview:!1,previewindex:"-",tabIndex:0,facultyedit:"false",addfacultyform:{api_id:"",api_thumbnail:[]},facultyform:{api_name:"",api_description:""},currentview:{},campusform:{api_name:"",api_thumbnail:[],api_description:"",api_address:"",api_email:""},campuscreateform:{api_name:"",api_thumbnail:[],api_description:"",api_address:"",api_contact:"",api_email:""},passwordvalue:"",selected:"A",show_updatemodal:!1,show_createcampus:!1,show_deletecampus:!1,previewreload:!1,search:"",filterinput:"",pendingcampus:[],variant:"dark",role:[{value:1,text:"Student"},{value:2,text:"Staff"},{value:3,text:"Admin"}],campus:[],faculty:[],campusfaculties:[],formButton:""}},methods:Object(n["a"])(Object(n["a"])({},Object(o["b"])({ex_campusfaculties:"store_campuses/ex_campusfaculties",apicampuses:"store_campuses/apicampuses",ex_campuses:"store_campuses/ex_campuses",ex_campusupdate:"store_campuses/ex_campusupdate",ex_querycampusfaculty:"store_campuses/ex_querycampusfaculty",ex_addcampusfaculty:"store_campuses/ex_addcampusfaculty",ex_faculties:"store_campuses/ex_faculties",ex_putfaculty:"store_campuses/ex_putfaculty",ex_getfaculties:"store_campuses/ex_getfaculties",ex_unmapfaculty:"store_campuses/ex_unmapfaculty",ex_deletecampus:"store_campuses/ex_deletecampus",ex_deletefaculty:"store_campuses/ex_deletefaculty"})),{},{tabAction:function(t){1==t?this.getcampuses():this.getfaculties()},confirm_modelAction:function(t){t.preventDefault(),this.modalConfirmAction()},modalConfirmAction:function(){var t=this;this.confirmation?this.$nextTick((function(){t.$bvModal.hide("modal-confirmation"),t.$bvModal.show("modal-forms"),t.confirmation=!1})):this.$bvModal.show("modal-forms")},onConfirmCancel:function(){this.confirmation=!1},getcampuses:function(){var t=this;this.ex_campusfaculties().then((function(e){t.apicampusescollection=e.data.filter((function(t){return 20201205125211!==t.api_id})),t.settab=1}))},getfaculties:function(){var t=this;this.ex_getfaculties().then((function(e){t.apifacultycollection=e.data.filter((function(t){return"admin"!=t.api_name}))})),this.settab=2},setpreview:function(t){var e=this;this.previewreload=!0,setTimeout((function(){e.preview=!0,e.previewindex=t,e.currentview=1==e.settab?JSON.parse(JSON.stringify(e.filtercampuses[t])):JSON.parse(JSON.stringify(e.filterfaculties[t])),e.previewreload=!1}),500)},formaction:function(t){switch(this.updatemode=t,t){case 1:this.formButton="Create";break;case 2:this.campusform=JSON.parse(JSON.stringify(this.currentview)),this.formButton="Update";break;case 3:this.formButton="Add",this.fn_beforecampusfaculty();break;case 4:this.formButton="Delete",this.confirmation=!0;break;case 5:this.formButton="Create",this.facultyform.api_name="",this.facultyform.api_description="";break;case 6:this.formButton="Update",this.facultyform=JSON.parse(JSON.stringify(this.currentview));break;case 7:this.formButton="Delete",this.confirmation=!0;break}this.confirmation?this.$bvModal.show("modal-confirmation"):this.$bvModal.show("modal-forms")},geturl:function(t){var e=this.$router.resolve({name:"Itemdetails",params:{item:t}});window.open(e.href,"_blank")},countcampus:function(){return this.apicampusescollection.length},countfaculty:function(){return this.apifacultycollection.length},fn_cancelupdate:function(){this.show_updatemodal=!1,this.form={}},form_navigator:function(){switch(this.updatemode){case 1:this.fn_addcampus();break;case 2:this.fn_updatecampus();break;case 3:this.fn_campusfaculty();break;case 4:this.fn_deletecampus();break;case 5:this.fn_addfaculty();break;case 6:this.updatefaculty();break;case 7:this.fn_deletefaculty();break}},fn_addcampus:function(){var t=this,e=new FormData;e.append("api_id",this.campuscreateform.api_id),e.append("api_name",this.campuscreateform.api_name),e.append("api_description",this.campuscreateform.api_description),e.append("api_thumbnail",this.setThumbnail()),e.append("api_address",this.campuscreateform.api_address),e.append("api_contact",this.campuscreateform.api_contact),e.append("api_email",this.campuscreateform.api_email),this.ex_campuses(e).then((function(e){200==e.status&&(t.show_createcampus=!1,t.defaultcampus(),t.clearview()),t.$bvToast.toast(e.message,{title:"Add campus",variant:200==e.status?"primary":"danger",solid:!0})}))},fn_updatecampus:function(){var t=this,e=new FormData;e.append("_method","PUT"),e.append("api_id",this.currentview.api_id),e.append("api_name",this.campusform.api_name),e.append("api_description",this.campusform.api_description),e.append("api_thumbnail",this.setThumbnail()),e.append("api_address",this.campusform.api_address),e.append("api_contact",this.campusform.api_contact),e.append("api_email",this.campusform.api_email),this.ex_campusupdate(e).then((function(e){t.$bvToast.toast(e.message,{title:"Update Campus",variant:200==e.status?"primary":"danger",solid:!0}),200==e.status&&t.clearview()}))},fn_beforecampusfaculty:function(){var t=this;this.ex_querycampusfaculty(this.currentview.api_id).then((function(e){t.faculty=e.data}))},fn_campusfaculty:function(){var t=this,e={api_faculty:this.addfacultyform.api_id,api_campus:this.currentview.api_id};this.ex_addcampusfaculty(e).then((function(e){200==e.status&&(t.$bvToast.toast(e.message,{title:t.formButton,variant:200==e.status?"primary":"danger",solid:!0}),t.defaultfaculty(),t.clearview())}))},fn_unmapfaculty:function(){var t=this,e={api_id:this.facultyedit,api_campus:this.currentview.api_id};this.ex_unmapfaculty(e).then((function(e){t.$bvToast.toast(e.message,{title:"Delete Faculty",variant:200==e.status?"primary":"danger",solid:!0})})),this.clearview()},fn_deletecampus:function(){var t=this;this.ex_deletecampus(this.currentview.api_id).then((function(e){t.$bvToast.toast(e.message,{title:200==e.status?"Successful":"Failed",variant:200==e.status?"primary":"danger",solid:!0}),200==e.status&&t.clearview()}))},fn_addfaculty:function(){var t=this;this.ex_faculties(this.facultyform).then((function(e){200==e.status&&(t.show_createcampus=!0),t.$bvToast.toast(e.message,{title:"Add faculty",variant:200==e.status?"primary":"danger",solid:!0})})),this.clearFacultyView()},fn_deletefaculty:function(){var t=this;this.ex_deletefaculty(this.currentview.api_id).then((function(e){200==e.status&&(t.show_createcampus=!0,t.clearview(),t.clearFacultyView()),t.$bvToast.toast(e.message,{title:"Delete Faculty",variant:200==e.status?"primary":"danger",solid:!0})}))},get_campusheader:function(){return 1==this.currentview.api_role?"NIM":"Staff ID"},get_campusidentity:function(){return 1==this.currentview.api_role?this.currentview.api_nim:this.currentview.api_staffid},generatepassword:function(){var t=Math.random().toString(36).substring(2,6)+Math.random().toString(36).substring(2,8);this.passwordvalue=t,this.form.api_password=t},getfacultyapi:function(){},fn_showcreatecampus:function(){this.show_createcampus=!0},abbreviate:function(t){var e=t.match(/\b(\w)/g),a=e.join("");return a},updatefaculty:function(){var t=this,e={faculty:this.currentview.api_id,api_name:this.facultyform.api_name,api_description:this.facultyform.api_description};this.ex_putfaculty(e).then((function(e){t.$bvToast.toast(e.message,{title:"Update Faculty",variant:200==e.status?"primary":"danger",solid:!0})})),this.clearFacultyView()},clearview:function(){this.preview=0,this.currentview={},this.getcampuses()},clearFacultyView:function(){this.preview=0,this.currentview={},this.getfaculties(),this.settab=2},customsearch:function(){},closepreview:function(){this.preview=!1,this.viewingitem="-",this.previewindex="-"},uploadImage:function(t){var e=t.target.files[0];this.file=t.target.files[0],this.imagepreviewer=URL.createObjectURL(e),URL.revokeObjectURL(e)},clearPicture:function(){this.campuscreateform.api_thumbnail=[],this.imagepreviewer="",this.file=""},setThumbnail:function(){return this.file?this.file:null},defaultcampus:function(){this.imagepreviewer="",this.campuscreateform.api_name="",this.campuscreateform.api_thumbnail=[],this.campuscreateform.api_description="",this.campuscreateform.api_address="",this.campuscreateform.api_contact="",this.campuscreateform.api_email=""},defaultfaculty:function(){this.facultyform.api_name="",this.facultyform.api_description=""}}),computed:Object(n["a"])(Object(n["a"])({},Object(o["c"])(["get_user"])),{},{searchtype:function(){return this.settab},filtercampuses:function(){var t=this;return this.apicampusescollection.filter((function(e){return e.api_name.toLowerCase().includes(t.filterinput.toLowerCase())}))},filterfaculties:function(){var t=this;return this.apifacultycollection?this.apifacultycollection.filter((function(e){return e.api_name.toLowerCase().includes(t.filterinput.toLowerCase())})):null},checkcampus:function(){return this.campusform.api_campus},whichmodal:function(){return this.setmodal},previewer:function(){return this.preview}}),watch:{searchtype:function(){var t=this;this.previewreload=!0,setTimeout((function(){t.previewreload=!1,t.preview=!1}),1e3)},checkcampus:function(){var t=this,e=this.campus.findIndex((function(e){return e.api_id==t.campusform.api_campus}));this.campusfaculties=this.campus[e].api_faculties},whichmodal:function(){this.show_createcampus=!0}},created:function(){this.getcampuses()}},Ua=Na,Ma=(a("0281"),Object(m["a"])(Ua,qa,Da,!1,null,"63ec7545",null)),Ta=Ma.exports,Ra=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{attrs:{fluid:"",id:"grant-app"}},[a("div",{staticClass:"login-content"},[t._v(" NOTFOUND ")])])},za=[],Fa={components:{},data:function(){return{}}},Ja=Fa,Ga=Object(m["a"])(Ja,Ra,za,!1,null,"6c65c22e",null),Va=Ga.exports,Wa=(a("96cf"),a("1da1")),Ya=a("bc3a"),Ha=a.n(Ya),Qa=Ha.a.create({baseURL:"http://34.101.105.107/api/",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json"}}),Ka={loading:!1},Xa={},Za={},ti={},ei={namespaced:!0,name:"store_loader",state:Ka,getters:Xa,actions:Za,mutations:ti},ai={loading:!1},ii={Loader:function(t){return t.store_shared.loading}},ri={apiitems:function(t){var e=t.commit;return e("Loader"),new Promise((function(t,a){Qa.get("app_items",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(a){e("Loader"),t(a.data)})).catch((function(t){e("Loader"),a(t)}))}))},apigetitem:function(t,e){var a=t.commit;return a("Loader"),new Promise((function(t,i){Qa.get("app_items/"+e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){a("Loader"),t(e.data)})).catch((function(t){a("Loader"),i(t)}))}))},ex_addItem:function(t,e){var a=t.commit;return a("Loader"),new Promise((function(t,i){Qa.post("app_items",e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){a("Loader"),t(e.data)})).catch((function(t){a("Loader"),i(t)}))}))},ex_updateItem:function(t,e){var a=t.commit;return a("Loader"),new Promise((function(t,i){Qa.post("app_items/"+e.get("api_id"),e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){a("Loader"),t(e.data)})).catch((function(t){a("Loader"),i(t)}))}))},ex_setavailable:function(t,e){var a=t.commit;return a("Loader"),new Promise((function(t,i){Qa.post("app_setitemavailable",{api_id:e},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){a("Loader"),t(e.data)})).catch((function(t){a("Loader"),i(t)}))}))},ex_deleteitem:function(t,e){var a=t.commit;return a("Loader"),new Promise((function(t,i){Qa.delete("app_items/"+e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){a("Loader"),t(e.data)})).catch((function(t){a("Loader"),i(t)}))}))}},si={Loader:function(t){return t.loading=!t.loading}},ni={store_shared:ei},oi={namespaced:!0,name:"items",state:ai,getters:ii,actions:ri,mutations:si,modules:ni},ci={loading:!1},li={Loader:function(t){return t.store_shared.loading}},pi={ex_getborrowings:function(t){var e=t.commit;return e("Loader"),new Promise((function(t,a){Qa.get("app_borrow",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(a){e("Loader"),t(a.data)})).catch((function(t){e("Loader"),a(t)}))}))},ex_getownborrowings:function(t){var e=t.commit;return e("Loader"),new Promise((function(t,a){Qa.get("app_ownborrowings",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(a){e("Loader"),t(a.data)})).catch((function(t){e("Loader"),a(t)}))}))},ex_createborrowing:function(t,e){var a=t.commit;return a("Loader"),new Promise((function(t,i){Qa.post("app_borrow",e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){a("Loader"),t(e.data)})).catch((function(t){a("Loader"),i(t)}))}))},ex_updateborrowing:function(t,e){var a=t.commit;return a("Loader"),new Promise((function(t,i){Qa.put("app_borrow/"+e.api_id,e.api_data,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){a("Loader"),t(e.data)})).catch((function(t){a("Loader"),i(t)}))}))},ex_approveborrowing:function(t,e){var a=t.commit;return a("Loader"),new Promise((function(t,i){Qa.post("app_borrowservice",e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){a("Loader"),t(e.data)})).catch((function(t){a("Loader"),i(t)}))}))},ex_deleteborrowing:function(t,e){var a=t.commit;return a("Loader"),new Promise((function(t,i){Qa.delete("app_borrow/"+e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){a("Loader"),t(e.data)})).catch((function(t){a("Loader"),i(t)}))}))},apiborrow:function(t,e){var a=t.commit;return a("Loader"),new Promise((function(t,i){Qa.post("app_borrow",e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){a("Loader"),t(e.data)})).catch((function(t){a("Loader"),i(t)}))}))}},ui={Loader:function(t){return t.loading=!t.loading}},mi={store_shared:ei},di={namespaced:!0,name:"items",state:ci,getters:li,actions:pi,mutations:ui,modules:mi},fi={Loader:function(t){return t.loading=!t.loading}},bi={ex_campuses:function(t,e){var a=t.commit;return a("Loader"),new Promise((function(t,i){Qa.post("app_campuses",e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){a("Loader"),t(e.data)})).catch((function(t){a("Loader"),i(t)}))}))},ex_campusupdate:function(t,e){var a=t.commit;return a("Loader"),new Promise((function(t,i){Qa.post("app_campuses/"+e.get("api_id"),e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){a("Loader"),t(e.data)})).catch((function(t){a("Loader"),i(t)}))}))},ex_campusfaculties:function(t){var e=t.commit;return e("Loader"),new Promise((function(t,a){Qa.get("app_campusfaculties",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(a){e("Loader"),t(a.data)})).catch((function(t){e("Loader"),a(t)}))}))},ex_updatecampusfaculty:function(t,e){var a=t.commit;return a("Loader"),new Promise((function(t,i){Qa.put("app_updatefaculty/"+e.faculty,e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){console.log(e.data),a("Loader"),t(e.data)})).catch((function(t){a("Loader"),i(t)}))}))},ex_deletecampus:function(t,e){var a=t.commit;return a("Loader"),new Promise((function(t,i){Qa.delete("app_campuses/"+e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){a("Loader"),t(e.data)})).catch((function(t){a("Loader"),i(t)}))}))},ex_querycampusfaculty:function(t,e){var a=t.commit;return a("Loader"),new Promise((function(t,i){Qa.post("app_availablefaculties",e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){a("Loader"),console.log(e.data),t(e.data)})).catch((function(t){a("Loader"),i(t)}))}))},ex_addcampusfaculty:function(t,e){var a=t.commit;return a("Loader"),new Promise((function(t,i){Qa.post("app_campusfacultylink",e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){a("Loader"),t(e.data)})).catch((function(t){a("Loader"),i(t)}))}))},ex_unmapfaculty:function(t,e){var a=t.commit;return a("Loader"),new Promise((function(t,i){Qa.post("app_campusfacultyunmap",e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){a("Loader"),console.log(e.data),t(e.data)})).catch((function(t){a("Loader"),i(t)}))}))},ex_deletecampusfaculty:function(t,e){var a=t.commit;return a("Loader"),new Promise((function(t,i){Qa.delete("app_campusfacultylink/"+e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){a("Loader"),t(e.data)})).catch((function(t){a("Loader"),i(t)}))}))},ex_getfaculties:function(t){var e=t.commit;return e("Loader"),new Promise((function(t,a){Qa.get("app_faculties",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(a){e("Loader"),t(a.data)})).catch((function(t){e("Loader"),a(t)}))}))},ex_putfaculty:function(t,e){var a=t.commit;return a("Loader"),new Promise((function(t,i){Qa.put("app_faculties/"+e.faculty,e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){a("Loader"),console.log(e.data),t(e.data)})).catch((function(t){a("Loader"),i(t)}))}))},ex_deletefaculty:function(t,e){var a=t.commit;return a("Loader"),new Promise((function(t,i){Qa.delete("app_faculties/"+e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){a("Loader"),console.log(e.data),t(e.data)})).catch((function(t){a("Loader"),i(t)}))}))},ex_faculties:function(t,e){var a=t.commit;return a("Loader"),new Promise((function(t,i){Qa.post("app_faculties",e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){a("Loader"),t(e.data)})).catch((function(t){a("Loader"),i(t)}))}))}},_i={store_shared:ei},hi={namespaced:!0,name:"store_campus",actions:bi,mutations:fi,modules:_i},vi={loading:!1},gi={Loader:function(t){return t.store_shared.loading}},wi={ex_addItem:function(t,e){var a=t.commit;return a("Loader"),new Promise((function(t,i){Qa.post("app_items",e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){a("Loader"),t(e.data)})).catch((function(t){a("Loader"),i(t)}))}))},ex_forgotpassword:function(t,e){var a=t.commit;return a("Loader"),new Promise((function(t,i){Qa.post("app_forgotpassword",e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){a("Loader"),t(e.data)})).catch((function(t){a("Loader"),i(t)}))}))},ex_updateItem:function(t,e){var a=t.commit;return a("Loader"),new Promise((function(t,i){Qa.put("app_items/"+e.api_id,e.api_data,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){console.log(e.data),a("Loader"),t(e.data)})).catch((function(t){a("Loader"),i(t)}))}))}},yi={Loader:function(t){return t.loading=!t.loading}},Ci={store_shared:ei},xi={namespaced:!0,name:"items",state:vi,getters:gi,actions:wi,mutations:yi,modules:Ci};i["default"].use(o["a"]);var ki=new o["a"].Store({state:{session:{token:localStorage.getItem("token")||null,active:!1},sessionUser:{},collection:{users:[]}},mutations:{Loader:function(t){t.store_shared.loading=!t.store_shared.loading},ListUsers:function(t,e){t.collection.users=e.data},SetActiveUser:function(t,e){t.sessionUser.name=e.api_firstname,t.sessionUser.picture=e.api_picture,t.sessionUser.role=e.api_role,t.sessionUser.userid=e.api_id,localStorage.setItem("active",!0),localStorage.setItem("role",e.api_role),t.session.active=!0},SetNameOnly:function(t,e){t.sessionUser.name=e},SetPictureOnly:function(t,e){t.sessionUser.picture=e},EndSession:function(t){t.session.active=!1,t.sessionUser={},localStorage.removeItem("token"),t.sessionUser.name="",t.sessionUser.picture="",t.sessionUser.role="",t.sessionUser.userid="",t.session.active=!1,localStorage.removeItem("active"),localStorage.removeItem("role")}},actions:{ex_login:function(t,e){var a=t.commit,i=t.dispatch;return a("Loader"),new Promise((function(t,r){Qa.post("app_login",e).then((function(e){console.log(e),a("Loader"),401==e.data.status||403==e.data.status?t(e.data):(localStorage.setItem("token",e.data.token),t(i("exsessiondata",e.data.token)))})).catch((function(t){a("Loader"),r(t)}))}))},ex_register:function(t,e){var a=t.commit;return a("Loader"),new Promise((function(t,i){Qa.post("app_register",e).then((function(e){a("Loader"),t(e.data)})).catch((function(t){a("Loader"),i(t.message)}))}))},exsessiondata:function(t,e){return Object(Wa["a"])(regeneratorRuntime.mark((function a(){var i,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i=t.commit,i("Loader"),a.prev=2,a.next=5,Qa.get("app_userinfo",{headers:{Authorization:"Bearer "+e}});case 5:return r=a.sent,i("SetActiveUser",r.data),i("Loader"),a.abrupt("return",r);case 11:a.prev=11,a.t0=a["catch"](2),i("Loader"),i("EndSession"),console.log(a.t0);case 16:case"end":return a.stop()}}),a,null,[[2,11]])})))()},exlogout:function(t){var e=t.commit;return e("Loader"),new Promise((function(t,a){Qa.get("app_logout",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(a){e("EndSession"),e("Loader"),t(a.data)})).catch((function(t){e("Loader"),a(t)}))}))},ex_changepassword:function(t,e){var a=t.commit;return a("Loader"),new Promise((function(t,i){Qa.post("app_changepassword",e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){a("Loader"),t(e.data)})).catch((function(t){a("Loader"),i(t)}))}))},ex_imaging:function(t,e){var a=t.commit;return a("Loader"),new Promise((function(t,i){Qa.post("app_imaging",e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){a("Loader"),t(e.data)})).catch((function(t){a("Loader"),i(t)}))}))},ex_resetpassword:function(t,e){var a=t.commit;return console.log("Check Reset Password"),a("Loader"),new Promise((function(t,i){Qa.post("app_forgot",{email:e},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){a("Loader"),console.log(e.data),t(e.data)})).catch((function(t){a("Loader"),i(t)}))}))},ex_profile:function(t){var e=t.commit;return e("Loader"),new Promise((function(t,a){Qa.get("app_users/0",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(a){e("Loader"),t(a.data)})).catch((function(t){e("Loader"),a(t)}))}))},ex_validatepassword:function(t,e){var a=t.commit;return a("Loader"),new Promise((function(t,i){Qa.post("app_checkpassword",{password:e},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){a("Loader"),t(e.data)})).catch((function(t){a("Loader"),i(t.message)}))}))},ex_unregister:function(t){var e=t.commit;return e("Loader"),new Promise((function(t,a){Qa.get("app_closeaccount",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(a){e("Loader"),200==a.data.status&&e("EndSession"),t(a.data)})).catch((function(t){e("Loader"),a(t)}))}))},apimyborrow:function(t){var e=t.commit;return e("Loader"),new Promise((function(t,a){Qa.get("app_borrow",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(a){e("Loader"),t(a.data.data)})).catch((function(t){e("Loader"),a(t)}))}))},ex_getusers:function(t){var e=t.commit;return e("Loader"),new Promise((function(t,a){Qa.get("app_users",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(a){e("ListUsers",a.data),e("Loader"),t(a.data)})).catch((function(t){e("Loader"),a(t)}))}))},ex_apiupdateuser:function(t,e){var a=t.commit;return a("Loader"),new Promise((function(t,i){Qa.post("app_users/"+e.get("api_id"),e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){a("Loader"),t(e.data)})).catch((function(t){a("Loader"),i(t)}))}))},ex_apiprofileupdate:function(t,e){var a=t.commit;return a("Loader"),new Promise((function(t,i){Qa.post("app_updateuserprofile",e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){console.log(e.data),a("Loader"),t(e.data)})).catch((function(t){a("Loader"),i(t)}))}))},ex_userBlock:function(t,e){var a=t.commit,i=t.dispatch;return a("Loader"),new Promise((function(t,r){Qa.put("app_blockusers/"+e,e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){i("ex_getusers"),a("Loader"),t(e.data)})).catch((function(t){a("Loader"),r(t)}))}))},ex_userDelete:function(t,e){var a=t.commit;return a("Loader"),new Promise((function(t,i){Qa.delete("app_users/"+e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){a("Loader"),t(e.data)})).catch((function(t){a("Loader"),i(t)}))}))},apimessage:function(t){var e=t.commit;return e("Loader"),new Promise((function(t,a){Qa.get("app_messages",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(a){e("Loader"),t(a.data)})).catch((function(t){e("Loader"),a(t)}))}))},apiamessage:function(t,e){var a=t.commit;return a("Loader"),new Promise((function(t,i){Qa.get("app_messages/"+e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){a("Loader"),t(e.data)})).catch((function(t){a("Loader"),i(t)}))}))},ex_closethread:function(t,e){var a=t.commit;return a("Loader"),new Promise((function(t,i){Qa.post("app_messageclose",e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){a("Loader"),t(e.data)})).catch((function(t){a("Loader"),i(t)}))}))},apisendmessage:function(t,e){var a=t.commit;return a("Loader"),new Promise((function(t,i){Qa.post("app_messages",e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){a("Loader"),t(e.data)})).catch((function(t){a("Loader"),i(t)}))}))},ex_postnewmessage:function(t,e){var a=t.commit;return a("Loader"),new Promise((function(t,i){Qa.post("app_messagenew",e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){a("Loader"),t(e.data)})).catch((function(t){a("Loader"),i(t)}))}))},ex_getfeeds:function(t){var e=t.commit;return e("Loader"),new Promise((function(t,a){Qa.get("app_feeds",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(a){e("Loader"),t(a.data)})).catch((function(t){e("Loader"),a(t)}))}))},ex_feeddelete:function(t,e){var a=t.commit;return a("Loader"),new Promise((function(t,i){Qa.delete("app_feeds/"+e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){a("Loader"),t(e.data)})).catch((function(t){a("Loader"),i(t)}))}))},ex_feedhide:function(t,e){var a=t.commit;return a("Loader"),new Promise((function(t,i){Qa.put("app_feeds/"+e,e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){a("Loader"),t(e.data)})).catch((function(t){a("Loader"),i(t)}))}))},ex_updatecurrentname:function(t,e){var a=t.commit;a("Loader"),a("SetNameOnly",e.api_firstname),a("Loader")},ex_updatecurrentpicture:function(t,e){var a=t.commit;a("Loader"),a("SetPictureOnly",e.api_picture),a("Loader")},checkstatus:function(){return localStorage.getItem("active")||!1}},modules:{store_items:oi,store_borrowings:di,store_campuses:hi,store_users:xi,store_shared:ei},getters:{get_active:function(t){return t.session.sessionUser},get_user:function(t){return t.sessionUser},get_usersession:function(t){return t.session},get_loader:function(t){return t.store_shared.loading},get_apiusers:function(t){return t.collection.users},get_localactive:function(){return localStorage.getItem("active")||!1},get_userrole:function(){return localStorage.getItem("role")||!1}}});i["default"].use(S["a"]);var ji=new S["a"]({mode:"history",routes:[{path:"/",name:"Access",component:it,meta:{preventIfAuth:!0}},{path:"/dashboard",name:"Dashboard",component:yt,meta:{requiresAuth:!0}},{path:"/manageitems",name:"GetSearch",component:Ke,meta:{requiresAuth:!0}},{path:"/activeborrowings",name:"GetActiveBorrowings",component:Ca,meta:{requiresAuth:!0}},{path:"/manageborrowings",name:"GetBorrowings",component:la,meta:{requiresAuth:!0}},{path:"/manageborrowing",name:"GetBorrowing",component:ba,meta:{requiresAuth:!0}},{path:"/manageusers",name:"GetUser",component:Ia,meta:{requiresAuth:!0}},{path:"/manageuser",name:"GetUsers",component:Ea,meta:{requiresAuth:!0}},{path:"/managecampuses",name:"GetCampuses",component:Ta,meta:{requiresAuth:!0}},{path:"/message",name:"Message",component:Mt,meta:{requiresAuth:!0}},{path:"/message/:propscontent",name:"MessageContent",component:Gt,props:!0,meta:{requiresAuth:!0}},{path:"/items/:propscontent",name:"Itemdetails",component:$t,props:!0,meta:{requiresAuth:!0}},{path:"/items/:item/book",name:"Booking",component:Pt,props:!0,meta:{requiresAuth:!0}},{path:"/settings",name:"Settings",component:Kt,meta:{requiresAuth:!0}},{path:"/settings/profile",name:"SettingsProfile",component:ie,meta:{requiresAuth:!0}},{path:"/settings/picture",name:"SettingsPicture",component:le,meta:{requiresAuth:!0}},{path:"/settings/password",name:"SettingsPassword",component:be,meta:{requiresAuth:!0}},{path:"/settings/account",name:"SettingsAccount",component:ye,meta:{requiresAuth:!0}},{path:"/staff/init",name:"StaffInit",component:$e,meta:{requiresAuth:!0}},{path:"/forgotpassword",name:"ForgotPassword",component:Pe,meta:{preventIfAuth:!0}},{path:"/resetpassword",name:"ResetPassword",component:Me,props:!0,meta:{preventIfAuth:!0,requiresAuth:!0}},{path:"*",component:Va}]});ji.beforeEach((function(t,e,a){ki.dispatch("checkstatus").then((function(e){e?t.matched.some((function(t){return t.meta.requiresAuth}))?e?a():a({name:"Access"}):t.matched.some((function(t){return t.meta.preventIfAuth}))&&e?a("/dashboard"):a():a()}))}));var Si=ji,$i=a("5f5b"),Ii=a("b1e0"),Li=(a("5616"),a("b2e5")),Oi=a.n(Li);i["default"].component(Oi.a.name,Oi.a),i["default"].use($i["a"]),i["default"].use(Ii["a"]),i["default"].prototype.$axios=Qa;var Bi=localStorage.getItem("token");Bi&&ki.dispatch("exsessiondata",Bi).then((function(){})),i["default"].config.productionTip=!1,new i["default"]({router:Si,store:ki,render:function(t){return t(k)}}).$mount("#app")},"5bfe":function(t,e,a){},"5c0b":function(t,e,a){"use strict";var i=a("9c0c"),r=a.n(i);r.a},"5f3b":function(t,e,a){},"61d3":function(t,e,a){},6285:function(t,e,a){"use strict";var i=a("e752"),r=a.n(i);r.a},"63d6":function(t,e,a){},7383:function(t,e,a){"use strict";var i=a("5f3b"),r=a.n(i);r.a},"76b7":function(t,e,a){"use strict";var i=a("df0a"),r=a.n(i);r.a},"79a1":function(t,e,a){},"7ba1":function(t,e,a){},"835a":function(t,e,a){"use strict";var i=a("7ba1"),r=a.n(i);r.a},"853f":function(t,e,a){"use strict";var i=a("8826"),r=a.n(i);r.a},8826:function(t,e,a){},9200:function(t,e,a){},"930b":function(t,e,a){"use strict";var i=a("f2a8"),r=a.n(i);r.a},"93c3":function(t,e,a){},"974f":function(t,e,a){"use strict";var i=a("ece2"),r=a.n(i);r.a},"98fc":function(t,e,a){t.exports=a.p+"img/check-circle.a1057dcb.gif"},"9c0c":function(t,e,a){},a704:function(t,e,a){},a71e:function(t,e,a){},a959:function(t,e,a){"use strict";var i=a("cf68"),r=a.n(i);r.a},af61:function(t,e,a){},bbca:function(t,e,a){},bde1:function(t,e,a){"use strict";var i=a("508f"),r=a.n(i);r.a},c6e9:function(t,e,a){},c98b:function(t,e,a){"use strict";var i=a("c6e9"),r=a.n(i);r.a},cf68:function(t,e,a){},d8cd:function(t,e,a){"use strict";var i=a("ebbb"),r=a.n(i);r.a},dbf4:function(t,e,a){},dbfd:function(t,e,a){"use strict";var i=a("3d76"),r=a.n(i);r.a},df0a:function(t,e,a){},e09d:function(t,e,a){"use strict";var i=a("63d6"),r=a.n(i);r.a},e752:function(t,e,a){},e8e8:function(t,e,a){t.exports=a.p+"img/novideo.61229179.jpg"},ebbb:function(t,e,a){},ece2:function(t,e,a){},f2a8:function(t,e,a){},fcb5:function(t,e,a){"use strict";var i=a("11c5"),r=a.n(i);r.a}});
//# sourceMappingURL=app.771c7166.js.map